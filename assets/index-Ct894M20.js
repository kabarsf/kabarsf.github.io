var b0=t=>{throw TypeError(t)};var dp=(t,e,n)=>e.has(t)||b0("Cannot "+n);var z=(t,e,n)=>(dp(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?b0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(dp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ut=(t,e,n)=>(dp(t,e,"access private method"),n);var Cu=(t,e,n,r)=>({set _(s){ge(t,e,s,n)},get _(){return z(t,e,r)}});function ON(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function p1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m1={exports:{}},jh={},g1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),LN=Symbol.for("react.portal"),VN=Symbol.for("react.fragment"),FN=Symbol.for("react.strict_mode"),UN=Symbol.for("react.profiler"),$N=Symbol.for("react.provider"),BN=Symbol.for("react.context"),zN=Symbol.for("react.forward_ref"),WN=Symbol.for("react.suspense"),HN=Symbol.for("react.memo"),KN=Symbol.for("react.lazy"),R0=Symbol.iterator;function qN(t){return t===null||typeof t!="object"?null:(t=R0&&t[R0]||t["@@iterator"],typeof t=="function"?t:null)}var y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v1=Object.assign,w1={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=w1,this.updater=n||y1}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _1(){}_1.prototype=Pa.prototype;function iy(t,e,n){this.props=t,this.context=e,this.refs=w1,this.updater=n||y1}var oy=iy.prototype=new _1;oy.constructor=iy;v1(oy,Pa.prototype);oy.isPureReactComponent=!0;var A0=Array.isArray,x1=Object.prototype.hasOwnProperty,ay={current:null},E1={key:!0,ref:!0,__self:!0,__source:!0};function T1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)x1.call(e,r)&&!E1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fc,type:t,key:i,ref:o,props:s,_owner:ay.current}}function GN(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function QN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P0=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QN(""+t.key):e.toString(36)}function id(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case LN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hp(o,0):r,A0(s)?(n="",t!=null&&(n=t.replace(P0,"$&/")+"/"),id(s,e,n,"",function(d){return d})):s!=null&&(ly(s)&&(s=GN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(P0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",A0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hp(i,a);o+=id(i,e,n,l,s)}else if(l=qN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hp(i,a++),o+=id(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],s=0;return id(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},od={transition:null},XN={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:od,ReactCurrentOwner:ay};function S1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Pa;we.Fragment=VN;we.Profiler=UN;we.PureComponent=iy;we.StrictMode=FN;we.Suspense=WN;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN;we.act=S1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ay.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)x1.call(e,l)&&!E1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Fc,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:BN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$N,_context:t},t.Consumer=t};we.createElement=T1;we.createFactory=function(t){var e=T1.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:zN,render:t}};we.isValidElement=ly;we.lazy=function(t){return{$$typeof:KN,_payload:{_status:-1,_result:t},_init:YN}};we.memo=function(t,e){return{$$typeof:HN,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=od.transition;od.transition={};try{t()}finally{od.transition=e}};we.unstable_act=S1;we.useCallback=function(t,e){return an.current.useCallback(t,e)};we.useContext=function(t){return an.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return an.current.useDeferredValue(t)};we.useEffect=function(t,e){return an.current.useEffect(t,e)};we.useId=function(){return an.current.useId()};we.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return an.current.useMemo(t,e)};we.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};we.useRef=function(t){return an.current.useRef(t)};we.useState=function(t){return an.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return an.current.useTransition()};we.version="18.3.1";g1.exports=we;var g=g1.exports;const Q=p1(g),I1=ON({__proto__:null,default:Q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN=g,ZN=Symbol.for("react.element"),ek=Symbol.for("react.fragment"),tk=Object.prototype.hasOwnProperty,nk=JN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rk={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tk.call(e,r)&&!rk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZN,type:t,key:i,ref:o,props:s,_owner:nk.current}}jh.Fragment=ek;jh.jsx=C1;jh.jsxs=C1;m1.exports=jh;var u=m1.exports,b1={exports:{}},Pn={},R1={exports:{}},A1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var K=H-1>>>1,J=L[K];if(0<s(J,V))L[K]=V,L[H]=J,H=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var K=0,J=L.length,re=J>>>1;K<re;){var _e=2*(K+1)-1,$e=L[_e],fe=_e+1,ne=L[fe];if(0>s($e,H))fe<J&&0>s(ne,$e)?(L[K]=ne,L[fe]=H,K=fe):(L[K]=$e,L[_e]=H,K=_e);else if(fe<J&&0>s(ne,H))L[K]=ne,L[fe]=H,K=fe;else break e}}return V}function s(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,p=null,f=3,w=!1,E=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=L)r(d),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(d)}}function A(L){if(v=!1,S(L),!E)if(n(l)!==null)E=!0,q(M);else{var V=n(d);V!==null&&se(A,V.startTime-L)}}function M(L,V){E=!1,v&&(v=!1,x(I),I=-1),w=!0;var H=f;try{for(S(V),p=n(l);p!==null&&(!(p.expirationTime>V)||L&&!k());){var K=p.callback;if(typeof K=="function"){p.callback=null,f=p.priorityLevel;var J=K(p.expirationTime<=V);V=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),S(V)}else r(l);p=n(l)}if(p!==null)var re=!0;else{var _e=n(d);_e!==null&&se(A,_e.startTime-V),re=!1}return re}finally{p=null,f=H,w=!1}}var j=!1,C=null,I=-1,R=5,P=-1;function k(){return!(t.unstable_now()-P<R)}function D(){if(C!==null){var L=t.unstable_now();P=L;var V=!0;try{V=C(!0,L)}finally{V?N():(j=!1,C=null)}}else j=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=D,N=function(){Z.postMessage(null)}}else N=function(){T(D,0)};function q(L){C=L,j||(j=!0,N())}function se(L,V){I=T(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,q(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var H=f;f=V;try{return L()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=f;f=L;try{return V()}finally{f=H}},t.unstable_scheduleCallback=function(L,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,L={id:h++,callback:V,priorityLevel:L,startTime:H,expirationTime:J,sortIndex:-1},H>K?(L.sortIndex=H,e(d,L),n(l)===null&&L===n(d)&&(v?(x(I),I=-1):v=!0,se(A,H-K))):(L.sortIndex=J,e(l,L),E||w||(E=!0,q(M))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var V=f;return function(){var H=f;f=V;try{return L.apply(this,arguments)}finally{f=H}}}})(A1);R1.exports=A1;var sk=R1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=g,An=sk;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P1=new Set,Jl={};function ro(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Jl[t]=e,t=0;t<e.length;t++)P1.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},k0={};function ak(t){return mm.call(k0,t)?!0:mm.call(N0,t)?!1:ok.test(t)?k0[t]=!0:(N0[t]=!0,!1)}function lk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ck(t,e,n,r){if(e===null||typeof e>"u"||lk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,uy);jt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,uy);jt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,uy);jt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ck(e,n,s,r)&&(n=null),r||s===null?ak(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Po=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),py=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),D1=Symbol.for("react.offscreen"),D0=Symbol.iterator;function fl(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,fp;function Tl(t){if(fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fp=e&&e[1]||""}return`
`+fp+t}var pp=!1;function mp(t,e){if(!t||pp)return"";pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tl(t):""}function uk(t){switch(t.tag){case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return t=mp(t.type,!1),t;case 11:return t=mp(t.type.render,!1),t;case 1:return t=mp(t.type,!0),t;default:return""}}function wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case Po:return"Portal";case gm:return"Profiler";case hy:return"StrictMode";case ym:return"Suspense";case vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case N1:return(t._context.displayName||"Context")+".Provider";case fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case py:return e=t.displayName||null,e!==null?e:wm(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return wm(t(e))}catch{}}return null}function dk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(e);case 8:return e===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hk(t){var e=M1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=hk(t))}function j1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _m(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O1(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function xm(t,e){O1(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||Dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Sl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function L1(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pu,F1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fk=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(t){fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ol[e]=Ol[t]})});function U1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ol.hasOwnProperty(t)&&Ol[t]?(""+e).trim():e+"px"}function $1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=U1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pk=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(t,e){if(e){if(pk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function my(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,Wo=null,Ho=null;function V0(t){if(t=Bc(t)){if(typeof Rm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Uh(e),Rm(t.stateNode,t.type,e))}}function B1(t){Wo?Ho?Ho.push(t):Ho=[t]:Wo=t}function z1(){if(Wo){var t=Wo,e=Ho;if(Ho=Wo=null,V0(t),e)for(t=0;t<e.length;t++)V0(e[t])}}function W1(t,e){return t(e)}function H1(){}var gp=!1;function K1(t,e,n){if(gp)return t(e,n);gp=!0;try{return W1(t,e,n)}finally{gp=!1,(Wo!==null||Ho!==null)&&(H1(),z1())}}function ec(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Am=!1;if(Gr)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Am=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Am=!1}function mk(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Ll=!1,Md=null,jd=!1,Pm=null,gk={onError:function(t){Ll=!0,Md=t}};function yk(t,e,n,r,s,i,o,a,l){Ll=!1,Md=null,mk.apply(gk,arguments)}function vk(t,e,n,r,s,i,o,a,l){if(yk.apply(this,arguments),Ll){if(Ll){var d=Md;Ll=!1,Md=null}else throw Error(W(198));jd||(jd=!0,Pm=d)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F0(t){if(so(t)!==t)throw Error(W(188))}function wk(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return F0(s),t;if(i===r)return F0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function G1(t){return t=wk(t),t!==null?Q1(t):null}function Q1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q1(t);if(e!==null)return e;t=t.sibling}return null}var Y1=An.unstable_scheduleCallback,U0=An.unstable_cancelCallback,_k=An.unstable_shouldYield,xk=An.unstable_requestPaint,ut=An.unstable_now,Ek=An.unstable_getCurrentPriorityLevel,gy=An.unstable_ImmediatePriority,X1=An.unstable_UserBlockingPriority,Od=An.unstable_NormalPriority,Tk=An.unstable_LowPriority,J1=An.unstable_IdlePriority,Oh=null,xr=null;function Sk(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:bk,Ik=Math.log,Ck=Math.LN2;function bk(t){return t>>>=0,t===0?32:31-(Ik(t)/Ck|0)|0}var Nu=64,ku=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Il(a):(i&=o,i!==0&&(r=Il(i)))}else o=n&~s,o!==0?r=Il(o):i!==0&&(r=Il(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function Rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ak(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Rk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Nm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z1(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function Pk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function eT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tT,vy,nT,rT,sT,km=!1,Du=[],Os=null,Ls=null,Vs=null,tc=new Map,nc=new Map,xs=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $0(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function ml(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bc(e),e!==null&&vy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kk(t,e,n,r,s){switch(e){case"focusin":return Os=ml(Os,t,e,n,r,s),!0;case"dragenter":return Ls=ml(Ls,t,e,n,r,s),!0;case"mouseover":return Vs=ml(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return tc.set(i,ml(tc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nc.set(i,ml(nc.get(i)||null,t,e,n,r,s)),!0}return!1}function iT(t){var e=Pi(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=q1(n),e!==null){t.blockedOn=e,sT(t.priority,function(){nT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bm=r,n.target.dispatchEvent(r),bm=null}else return e=Bc(n),e!==null&&vy(e),t.blockedOn=n,!1;e.shift()}return!0}function B0(t,e,n){ad(t)&&n.delete(e)}function Dk(){km=!1,Os!==null&&ad(Os)&&(Os=null),Ls!==null&&ad(Ls)&&(Ls=null),Vs!==null&&ad(Vs)&&(Vs=null),tc.forEach(B0),nc.forEach(B0)}function gl(t,e){t.blockedOn===e&&(t.blockedOn=null,km||(km=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,Dk)))}function rc(t){function e(s){return gl(s,t)}if(0<Du.length){gl(Du[0],t);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&gl(Os,t),Ls!==null&&gl(Ls,t),Vs!==null&&gl(Vs,t),tc.forEach(e),nc.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&xs.shift()}var Ko=is.ReactCurrentBatchConfig,Vd=!0;function Mk(t,e,n,r){var s=Fe,i=Ko.transition;Ko.transition=null;try{Fe=1,wy(t,e,n,r)}finally{Fe=s,Ko.transition=i}}function jk(t,e,n,r){var s=Fe,i=Ko.transition;Ko.transition=null;try{Fe=4,wy(t,e,n,r)}finally{Fe=s,Ko.transition=i}}function wy(t,e,n,r){if(Vd){var s=Dm(t,e,n,r);if(s===null)bp(t,e,r,Fd,n),$0(t,r);else if(kk(s,t,e,n,r))r.stopPropagation();else if($0(t,r),e&4&&-1<Nk.indexOf(t)){for(;s!==null;){var i=Bc(s);if(i!==null&&tT(i),i=Dm(t,e,n,r),i===null&&bp(t,e,r,Fd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bp(t,e,r,null,n)}}var Fd=null;function Dm(t,e,n,r){if(Fd=null,t=my(r),t=Pi(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function oT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case gy:return 1;case X1:return 4;case Od:case Tk:return 16;case J1:return 536870912;default:return 16}default:return 16}}var ks=null,_y=null,ld=null;function aT(){if(ld)return ld;var t,e=_y,n=e.length,r,s="value"in ks?ks.value:ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ld=s.slice(t,1<r?1-r:void 0)}function cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mu(){return!0}function z0(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mu:z0,this.isPropagationStopped=z0,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xy=Nn(Na),$c=nt({},Na,{view:0,detail:0}),Ok=Nn($c),vp,wp,yl,Lh=nt({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yl&&(yl&&t.type==="mousemove"?(vp=t.screenX-yl.screenX,wp=t.screenY-yl.screenY):wp=vp=0,yl=t),vp)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),W0=Nn(Lh),Lk=nt({},Lh,{dataTransfer:0}),Vk=Nn(Lk),Fk=nt({},$c,{relatedTarget:0}),_p=Nn(Fk),Uk=nt({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Nn(Uk),Bk=nt({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zk=Nn(Bk),Wk=nt({},Na,{data:0}),H0=Nn(Wk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qk[t])?!!e[t]:!1}function Ey(){return Gk}var Qk=nt({},$c,{key:function(t){if(t.key){var e=Hk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(t){return t.type==="keypress"?cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yk=Nn(Qk),Xk=nt({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=Nn(Xk),Jk=nt({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),Zk=Nn(Jk),e2=nt({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),t2=Nn(e2),n2=nt({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r2=Nn(n2),s2=[9,13,27,32],Ty=Gr&&"CompositionEvent"in window,Vl=null;Gr&&"documentMode"in document&&(Vl=document.documentMode);var i2=Gr&&"TextEvent"in window&&!Vl,lT=Gr&&(!Ty||Vl&&8<Vl&&11>=Vl),q0=" ",G0=!1;function cT(t,e){switch(t){case"keyup":return s2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function o2(t,e){switch(t){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(G0=!0,q0);case"textInput":return t=e.data,t===q0&&G0?null:t;default:return null}}function a2(t,e){if(ko)return t==="compositionend"||!Ty&&cT(t,e)?(t=aT(),ld=_y=ks=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lT&&e.locale!=="ko"?null:e.data;default:return null}}var l2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l2[t.type]:e==="textarea"}function dT(t,e,n,r){B1(r),e=Ud(e,"onChange"),0<e.length&&(n=new xy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fl=null,sc=null;function c2(t){ET(t,0)}function Vh(t){var e=jo(t);if(j1(e))return t}function u2(t,e){if(t==="change")return e}var hT=!1;if(Gr){var xp;if(Gr){var Ep="oninput"in document;if(!Ep){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),Ep=typeof Y0.oninput=="function"}xp=Ep}else xp=!1;hT=xp&&(!document.documentMode||9<document.documentMode)}function X0(){Fl&&(Fl.detachEvent("onpropertychange",fT),sc=Fl=null)}function fT(t){if(t.propertyName==="value"&&Vh(sc)){var e=[];dT(e,sc,t,my(t)),K1(c2,e)}}function d2(t,e,n){t==="focusin"?(X0(),Fl=e,sc=n,Fl.attachEvent("onpropertychange",fT)):t==="focusout"&&X0()}function h2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(sc)}function f2(t,e){if(t==="click")return Vh(e)}function p2(t,e){if(t==="input"||t==="change")return Vh(e)}function m2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:m2;function ic(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mm.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function J0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z0(t,e){var n=J0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J0(n)}}function pT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mT(){for(var t=window,e=Dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dd(t.document)}return e}function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g2(t){var e=mT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pT(n.ownerDocument.documentElement,n)){if(r!==null&&Sy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Z0(n,i);var o=Z0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y2=Gr&&"documentMode"in document&&11>=document.documentMode,Do=null,Mm=null,Ul=null,jm=!1;function e_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||Do==null||Do!==Dd(r)||(r=Do,"selectionStart"in r&&Sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&ic(Ul,r)||(Ul=r,r=Ud(Mm,"onSelect"),0<r.length&&(e=new xy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},Tp={},gT={};Gr&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Fh(t){if(Tp[t])return Tp[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gT)return Tp[t]=e[n];return t}var yT=Fh("animationend"),vT=Fh("animationiteration"),wT=Fh("animationstart"),_T=Fh("transitionend"),xT=new Map,t_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){xT.set(t,e),ro(e,[t])}for(var Sp=0;Sp<t_.length;Sp++){var Ip=t_[Sp],v2=Ip.toLowerCase(),w2=Ip[0].toUpperCase()+Ip.slice(1);ui(v2,"on"+w2)}ui(yT,"onAnimationEnd");ui(vT,"onAnimationIteration");ui(wT,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(_T,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function n_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vk(r,e,void 0,t),t.currentTarget=null}function ET(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;n_(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;n_(s,a,d),i=l}}}if(jd)throw t=Pm,jd=!1,Pm=null,t}function Ge(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(TT(e,t,2,!1),n.add(r))}function Cp(t,e,n){var r=0;e&&(r|=4),TT(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[Ou]){t[Ou]=!0,P1.forEach(function(n){n!=="selectionchange"&&(_2.has(n)||Cp(n,!1,t),Cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Cp("selectionchange",!1,e))}}function TT(t,e,n,r){switch(oT(e)){case 1:var s=Mk;break;case 4:s=jk;break;default:s=wy}n=s.bind(null,e,n,t),s=void 0,!Am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}K1(function(){var d=i,h=my(n),p=[];e:{var f=xT.get(t);if(f!==void 0){var w=xy,E=t;switch(t){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":w=Yk;break;case"focusin":E="focus",w=_p;break;case"focusout":E="blur",w=_p;break;case"beforeblur":case"afterblur":w=_p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Zk;break;case yT:case vT:case wT:w=$k;break;case _T:w=t2;break;case"scroll":w=Ok;break;case"wheel":w=r2;break;case"copy":case"cut":case"paste":w=zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=K0}var v=(e&4)!==0,T=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var y=d,S;y!==null;){S=y;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,x!==null&&(A=ec(y,x),A!=null&&v.push(ac(y,A,S)))),T)break;y=y.return}0<v.length&&(f=new w(f,E,null,n,h),p.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&n!==bm&&(E=n.relatedTarget||n.fromElement)&&(Pi(E)||E[Qr]))break e;if((w||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=d,E=E?Pi(E):null,E!==null&&(T=so(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=d),w!==E)){if(v=W0,A="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=K0,A="onPointerLeave",x="onPointerEnter",y="pointer"),T=w==null?f:jo(w),S=E==null?f:jo(E),f=new v(A,y+"leave",w,n,h),f.target=T,f.relatedTarget=S,A=null,Pi(h)===d&&(v=new v(x,y+"enter",E,n,h),v.target=S,v.relatedTarget=T,A=v),T=A,w&&E)t:{for(v=w,x=E,y=0,S=v;S;S=Eo(S))y++;for(S=0,A=x;A;A=Eo(A))S++;for(;0<y-S;)v=Eo(v),y--;for(;0<S-y;)x=Eo(x),S--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Eo(v),x=Eo(x)}v=null}else v=null;w!==null&&r_(p,f,w,v,!1),E!==null&&T!==null&&r_(p,T,E,v,!0)}}e:{if(f=d?jo(d):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var M=u2;else if(Q0(f))if(hT)M=p2;else{M=h2;var j=d2}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=f2);if(M&&(M=M(t,d))){dT(p,M,n,h);break e}j&&j(t,f,d),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Em(f,"number",f.value)}switch(j=d?jo(d):window,t){case"focusin":(Q0(j)||j.contentEditable==="true")&&(Do=j,Mm=d,Ul=null);break;case"focusout":Ul=Mm=Do=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,e_(p,n,h);break;case"selectionchange":if(y2)break;case"keydown":case"keyup":e_(p,n,h)}var C;if(Ty)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ko?cT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(lT&&n.locale!=="ko"&&(ko||I!=="onCompositionStart"?I==="onCompositionEnd"&&ko&&(C=aT()):(ks=h,_y="value"in ks?ks.value:ks.textContent,ko=!0)),j=Ud(d,I),0<j.length&&(I=new H0(I,t,null,n,h),p.push({event:I,listeners:j}),C?I.data=C:(C=uT(n),C!==null&&(I.data=C)))),(C=i2?o2(t,n):a2(t,n))&&(d=Ud(d,"onBeforeInput"),0<d.length&&(h=new H0("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=C))}ET(p,e)})}function ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ec(t,n),i!=null&&r.unshift(ac(t,i,s)),i=ec(t,e),i!=null&&r.push(ac(t,i,s))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=ec(n,i),l!=null&&o.unshift(ac(n,l,a))):s||(l=ec(n,i),l!=null&&o.push(ac(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var x2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(x2,`
`).replace(E2,"")}function Lu(t,e,n){if(e=s_(e),s_(t)!==e&&n)throw Error(W(425))}function $d(){}var Om=null,Lm=null;function Vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(I2)}:Fm;function I2(t){setTimeout(function(){throw t})}function Rp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rc(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ka=Math.random().toString(36).slice(2),wr="__reactFiber$"+ka,lc="__reactProps$"+ka,Qr="__reactContainer$"+ka,Um="__reactEvents$"+ka,C2="__reactListeners$"+ka,b2="__reactHandles$"+ka;function Pi(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o_(t);t!==null;){if(n=t[wr])return n;t=o_(t)}return e}t=n,n=t.parentNode}return null}function Bc(t){return t=t[wr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Uh(t){return t[lc]||null}var $m=[],Oo=-1;function di(t){return{current:t}}function Ye(t){0>Oo||(t.current=$m[Oo],$m[Oo]=null,Oo--)}function He(t,e){Oo++,$m[Oo]=t.current,t.current=e}var Js={},Qt=di(Js),gn=di(!1),$i=Js;function fa(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function Bd(){Ye(gn),Ye(Qt)}function a_(t,e,n){if(Qt.current!==Js)throw Error(W(168));He(Qt,e),He(gn,n)}function ST(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,dk(t)||"Unknown",s));return nt({},n,r)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,$i=Qt.current,He(Qt,t),He(gn,gn.current),!0}function l_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=ST(t,e,$i),r.__reactInternalMemoizedMergedChildContext=t,Ye(gn),Ye(Qt),He(Qt,t)):Ye(gn),He(gn,n)}var $r=null,$h=!1,Ap=!1;function IT(t){$r===null?$r=[t]:$r.push(t)}function R2(t){$h=!0,IT(t)}function hi(){if(!Ap&&$r!==null){Ap=!0;var t=0,e=Fe;try{var n=$r;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$r=null,$h=!1}catch(s){throw $r!==null&&($r=$r.slice(t+1)),Y1(gy,hi),s}finally{Fe=e,Ap=!1}}return null}var Lo=[],Vo=0,Wd=null,Hd=0,Mn=[],jn=0,Bi=null,Br=1,zr="";function bi(t,e){Lo[Vo++]=Hd,Lo[Vo++]=Wd,Wd=t,Hd=e}function CT(t,e,n){Mn[jn++]=Br,Mn[jn++]=zr,Mn[jn++]=Bi,Bi=t;var r=Br;t=zr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-tr(e)+s|n<<s|r,zr=i+t}else Br=1<<i|n<<s|r,zr=t}function Iy(t){t.return!==null&&(bi(t,1),CT(t,1,0))}function Cy(t){for(;t===Wd;)Wd=Lo[--Vo],Lo[Vo]=null,Hd=Lo[--Vo],Lo[Vo]=null;for(;t===Bi;)Bi=Mn[--jn],Mn[jn]=null,zr=Mn[--jn],Mn[jn]=null,Br=Mn[--jn],Mn[jn]=null}var Cn=null,Sn=null,Je=!1,Jn=null;function bT(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Sn=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Je){var e=Sn;if(e){var n=e;if(!c_(t,e)){if(Bm(t))throw Error(W(418));e=Fs(n.nextSibling);var r=Cn;e&&c_(t,e)?bT(r,n):(t.flags=t.flags&-4097|2,Je=!1,Cn=t)}}else{if(Bm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Je=!1,Cn=t}}}function u_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function Vu(t){if(t!==Cn)return!1;if(!Je)return u_(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vm(t.type,t.memoizedProps)),e&&(e=Sn)){if(Bm(t))throw RT(),Error(W(418));for(;e;)bT(t,e),e=Fs(e.nextSibling)}if(u_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Cn?Fs(t.stateNode.nextSibling):null;return!0}function RT(){for(var t=Sn;t;)t=Fs(t.nextSibling)}function pa(){Sn=Cn=null,Je=!1}function by(t){Jn===null?Jn=[t]:Jn.push(t)}var A2=is.ReactCurrentBatchConfig;function vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d_(t){var e=t._init;return e(t._payload)}function AT(t){function e(x,y){if(t){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=zs(x,y),x.index=0,x.sibling=null,x}function i(x,y,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=2,y):S):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,S,A){return y===null||y.tag!==6?(y=Op(S,x.mode,A),y.return=x,y):(y=s(y,S),y.return=x,y)}function l(x,y,S,A){var M=S.type;return M===No?h(x,y,S.props.children,A,S.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ws&&d_(M)===y.type)?(A=s(y,S.props),A.ref=vl(x,y,S),A.return=x,A):(A=gd(S.type,S.key,S.props,null,x.mode,A),A.ref=vl(x,y,S),A.return=x,A)}function d(x,y,S,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Lp(S,x.mode,A),y.return=x,y):(y=s(y,S.children||[]),y.return=x,y)}function h(x,y,S,A,M){return y===null||y.tag!==7?(y=Fi(S,x.mode,A,M),y.return=x,y):(y=s(y,S),y.return=x,y)}function p(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Op(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:return S=gd(y.type,y.key,y.props,null,x.mode,S),S.ref=vl(x,null,y),S.return=x,S;case Po:return y=Lp(y,x.mode,S),y.return=x,y;case ws:var A=y._init;return p(x,A(y._payload),S)}if(Sl(y)||fl(y))return y=Fi(y,x.mode,S,null),y.return=x,y;Fu(x,y)}return null}function f(x,y,S,A){var M=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(x,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:return S.key===M?l(x,y,S,A):null;case Po:return S.key===M?d(x,y,S,A):null;case ws:return M=S._init,f(x,y,M(S._payload),A)}if(Sl(S)||fl(S))return M!==null?null:h(x,y,S,A,null);Fu(x,S)}return null}function w(x,y,S,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(S)||null,a(y,x,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ru:return x=x.get(A.key===null?S:A.key)||null,l(y,x,A,M);case Po:return x=x.get(A.key===null?S:A.key)||null,d(y,x,A,M);case ws:var j=A._init;return w(x,y,S,j(A._payload),M)}if(Sl(A)||fl(A))return x=x.get(S)||null,h(y,x,A,M,null);Fu(y,A)}return null}function E(x,y,S,A){for(var M=null,j=null,C=y,I=y=0,R=null;C!==null&&I<S.length;I++){C.index>I?(R=C,C=null):R=C.sibling;var P=f(x,C,S[I],A);if(P===null){C===null&&(C=R);break}t&&C&&P.alternate===null&&e(x,C),y=i(P,y,I),j===null?M=P:j.sibling=P,j=P,C=R}if(I===S.length)return n(x,C),Je&&bi(x,I),M;if(C===null){for(;I<S.length;I++)C=p(x,S[I],A),C!==null&&(y=i(C,y,I),j===null?M=C:j.sibling=C,j=C);return Je&&bi(x,I),M}for(C=r(x,C);I<S.length;I++)R=w(C,x,I,S[I],A),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),y=i(R,y,I),j===null?M=R:j.sibling=R,j=R);return t&&C.forEach(function(k){return e(x,k)}),Je&&bi(x,I),M}function v(x,y,S,A){var M=fl(S);if(typeof M!="function")throw Error(W(150));if(S=M.call(S),S==null)throw Error(W(151));for(var j=M=null,C=y,I=y=0,R=null,P=S.next();C!==null&&!P.done;I++,P=S.next()){C.index>I?(R=C,C=null):R=C.sibling;var k=f(x,C,P.value,A);if(k===null){C===null&&(C=R);break}t&&C&&k.alternate===null&&e(x,C),y=i(k,y,I),j===null?M=k:j.sibling=k,j=k,C=R}if(P.done)return n(x,C),Je&&bi(x,I),M;if(C===null){for(;!P.done;I++,P=S.next())P=p(x,P.value,A),P!==null&&(y=i(P,y,I),j===null?M=P:j.sibling=P,j=P);return Je&&bi(x,I),M}for(C=r(x,C);!P.done;I++,P=S.next())P=w(C,x,I,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?I:P.key),y=i(P,y,I),j===null?M=P:j.sibling=P,j=P);return t&&C.forEach(function(D){return e(x,D)}),Je&&bi(x,I),M}function T(x,y,S,A){if(typeof S=="object"&&S!==null&&S.type===No&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:e:{for(var M=S.key,j=y;j!==null;){if(j.key===M){if(M=S.type,M===No){if(j.tag===7){n(x,j.sibling),y=s(j,S.props.children),y.return=x,x=y;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ws&&d_(M)===j.type){n(x,j.sibling),y=s(j,S.props),y.ref=vl(x,j,S),y.return=x,x=y;break e}n(x,j);break}else e(x,j);j=j.sibling}S.type===No?(y=Fi(S.props.children,x.mode,A,S.key),y.return=x,x=y):(A=gd(S.type,S.key,S.props,null,x.mode,A),A.ref=vl(x,y,S),A.return=x,x=A)}return o(x);case Po:e:{for(j=S.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),y=s(y,S.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Lp(S,x.mode,A),y.return=x,x=y}return o(x);case ws:return j=S._init,T(x,y,j(S._payload),A)}if(Sl(S))return E(x,y,S,A);if(fl(S))return v(x,y,S,A);Fu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,S),y.return=x,x=y):(n(x,y),y=Op(S,x.mode,A),y.return=x,x=y),o(x)):n(x,y)}return T}var ma=AT(!0),PT=AT(!1),Kd=di(null),qd=null,Fo=null,Ry=null;function Ay(){Ry=Fo=qd=null}function Py(t){var e=Kd.current;Ye(Kd),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){qd=t,Ry=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Ry!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(qd===null)throw Error(W(308));Fo=t,qd.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var Ni=null;function Ny(t){Ni===null?Ni=[t]:Ni.push(t)}function NT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ny(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ny(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}function h_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gd(t,e,n,r){var s=t.updateQueue;_s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=d=l=null,a=i;do{var f=a.lane,w=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(f=e,w=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){p=E.call(w,p,f);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,f=typeof E=="function"?E.call(w,p,f):E,f==null)break e;p=nt({},p,f);break e;case 2:_s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else w={eventTime:w,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=w,l=p):h=h.next=w,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=p}}function f_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var zc={},Er=di(zc),cc=di(zc),uc=di(zc);function ki(t){if(t===zc)throw Error(W(174));return t}function Dy(t,e){switch(He(uc,e),He(cc,t),He(Er,zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sm(e,t)}Ye(Er),He(Er,e)}function ga(){Ye(Er),Ye(cc),Ye(uc)}function DT(t){ki(uc.current);var e=ki(Er.current),n=Sm(e,t.type);e!==n&&(He(cc,t),He(Er,n))}function My(t){cc.current===t&&(Ye(Er),Ye(cc))}var et=di(0);function Qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pp=[];function jy(){for(var t=0;t<Pp.length;t++)Pp[t]._workInProgressVersionPrimary=null;Pp.length=0}var dd=is.ReactCurrentDispatcher,Np=is.ReactCurrentBatchConfig,zi=0,tt=null,xt=null,Ct=null,Yd=!1,$l=!1,dc=0,P2=0;function $t(){throw Error(W(321))}function Oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Ly(t,e,n,r,s,i){if(zi=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dd.current=t===null||t.memoizedState===null?M2:j2,t=n(r,s),$l){i=0;do{if($l=!1,dc=0,25<=i)throw Error(W(301));i+=1,Ct=xt=null,e.updateQueue=null,dd.current=O2,t=n(r,s)}while($l)}if(dd.current=Xd,e=xt!==null&&xt.next!==null,zi=0,Ct=xt=tt=null,Yd=!1,e)throw Error(W(300));return t}function Vy(){var t=dc!==0;return dc=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Wn(){if(xt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Ct===null?tt.memoizedState:Ct.next;if(e!==null)Ct=e,xt=t;else{if(t===null)throw Error(W(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?tt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function hc(t,e){return typeof e=="function"?e(t):e}function kp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((zi&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tt.lanes|=h,Wi|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,Wi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rr(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function MT(){}function jT(t,e){var n=tt,r=Wn(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,Fy(VT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,fc(9,LT.bind(null,n,r,s,e),void 0,null),bt===null)throw Error(W(349));zi&30||OT(n,e,s)}return s}function OT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LT(t,e,n,r){e.value=n,e.getSnapshot=r,FT(e)&&UT(t)}function VT(t,e,n){return n(function(){FT(e)&&UT(t)})}function FT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function UT(t){var e=Yr(t,1);e!==null&&nr(e,t,1,-1)}function p_(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=D2.bind(null,tt,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $T(){return Wn().memoizedState}function hd(t,e,n,r){var s=pr();tt.flags|=t,s.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&Oy(r,o.deps)){s.memoizedState=fc(e,n,i,r);return}}tt.flags|=t,s.memoizedState=fc(1|e,n,i,r)}function m_(t,e){return hd(8390656,8,t,e)}function Fy(t,e){return Bh(2048,8,t,e)}function BT(t,e){return Bh(4,2,t,e)}function zT(t,e){return Bh(4,4,t,e)}function WT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HT(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,WT.bind(null,e,t),n)}function Uy(){}function KT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GT(t,e,n){return zi&21?(rr(n,e)||(n=Z1(),tt.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function N2(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Np.transition;Np.transition={};try{t(!1),e()}finally{Fe=n,Np.transition=r}}function QT(){return Wn().memoizedState}function k2(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YT(t))XT(e,n);else if(n=NT(t,e,n,r),n!==null){var s=sn();nr(n,t,r,s),JT(n,e,r)}}function D2(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YT(t))XT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(s.next=s,Ny(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=NT(t,e,s,r),n!==null&&(s=sn(),nr(n,t,r,s),JT(n,e,r))}}function YT(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function XT(t,e){$l=Yd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}var Xd={readContext:zn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},M2={readContext:zn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:m_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hd(4194308,4,WT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return hd(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=k2.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:p_,useDebugValue:Uy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=p_(!1),e=t[0];return t=N2.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=pr();if(Je){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),bt===null)throw Error(W(349));zi&30||OT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,m_(VT.bind(null,r,i,t),[t]),r.flags|=2048,fc(9,LT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=bt.identifierPrefix;if(Je){var n=zr,r=Br;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j2={readContext:zn,useCallback:KT,useContext:zn,useEffect:Fy,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:qT,useReducer:kp,useRef:$T,useState:function(){return kp(hc)},useDebugValue:Uy,useDeferredValue:function(t){var e=Wn();return GT(e,xt.memoizedState,t)},useTransition:function(){var t=kp(hc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:MT,useSyncExternalStore:jT,useId:QT,unstable_isNewReconciler:!1},O2={readContext:zn,useCallback:KT,useContext:zn,useEffect:Fy,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:qT,useReducer:Dp,useRef:$T,useState:function(){return Dp(hc)},useDebugValue:Uy,useDeferredValue:function(t){var e=Wn();return xt===null?e.memoizedState=t:GT(e,xt.memoizedState,t)},useTransition:function(){var t=Dp(hc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:MT,useSyncExternalStore:jT,useId:QT,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),s=Bs(t),i=Kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(nr(e,t,s,r),ud(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),s=Bs(t),i=Kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(nr(e,t,s,r),ud(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Bs(t),s=Kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(nr(e,t,r,n),ud(e,t,r))}};function g_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ic(n,r)||!ic(s,i):!0}function ZT(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=yn(e)?$i:Qt.current,r=e.contextTypes,i=(r=r!=null)?fa(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function Km(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ky(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=yn(e)?$i:Qt.current,s.context=fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zh.enqueueReplaceState(s,s.state,null),Gd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var n="",r=e;do n+=uk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L2=typeof WeakMap=="function"?WeakMap:Map;function eS(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zd||(Zd=!0,rg=r),qm(t,e)},n}function tS(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=X2.bind(null,t,e,n),e.then(t,t))}function w_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function __(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var V2=is.ReactCurrentOwner,mn=!1;function nn(t,e,n,r){e.child=t===null?PT(e,null,n,r):ma(e,t.child,n,r)}function x_(t,e,n,r,s){n=n.render;var i=e.ref;return qo(e,s),r=Ly(t,e,n,r,i,s),n=Vy(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Je&&n&&Iy(e),e.flags|=1,nn(t,e,r,s),e.child)}function E_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,nS(t,e,i,r,s)):(t=gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(o,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function nS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ic(i,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return Gm(t,e,n,r,s)}function rS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He($o,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He($o,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He($o,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He($o,En),En|=r;return nn(t,e,s,n),e.child}function sS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,s){var i=yn(n)?$i:Qt.current;return i=fa(e,i),qo(e,s),n=Ly(t,e,n,r,i,s),r=Vy(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Je&&r&&Iy(e),e.flags|=1,nn(t,e,n,s),e.child)}function T_(t,e,n,r,s){if(yn(n)){var i=!0;zd(e)}else i=!1;if(qo(e,s),e.stateNode===null)fd(t,e),ZT(e,n,r),Km(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=zn(d):(d=yn(n)?$i:Qt.current,d=fa(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&y_(e,o,r,d),_s=!1;var f=e.memoizedState;o.state=f,Gd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||gn.current||_s?(typeof h=="function"&&(Hm(e,n,h,r),l=e.memoizedState),(a=_s||g_(e,n,a,r,f,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Gn(e.type,a),o.props=d,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=yn(n)?$i:Qt.current,l=fa(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&y_(e,o,r,l),_s=!1,f=e.memoizedState,o.state=f,Gd(e,r,o,s);var E=e.memoizedState;a!==p||f!==E||gn.current||_s?(typeof w=="function"&&(Hm(e,n,w,r),E=e.memoizedState),(d=_s||g_(e,n,d,r,f,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Qm(t,e,n,r,i,s)}function Qm(t,e,n,r,s,i){sS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&l_(e,n,!1),Xr(t,e,i);r=e.stateNode,V2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,a,i)):nn(t,e,a,i),e.memoizedState=r.state,s&&l_(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?a_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a_(t,e.context,!1),Dy(t,e.containerInfo)}function S_(t,e,n,r,s){return pa(),by(s),e.flags|=256,nn(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(t){return{baseLanes:t,cachePool:null,transitions:null}}function oS(t,e,n){var r=e.pendingProps,s=et.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(et,s&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kh(o,r,0,null),t=Fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xm(n),e.memoizedState=Ym,t):$y(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return F2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zs(a,i):(i=Fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return i=t.child,t=i.sibling,r=zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $y(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&by(r),ma(e,t.child,null,n),t=$y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Mp(Error(W(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kh({mode:"visible",children:r.children},s,0,null),i=Fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=Xm(o),e.memoizedState=Ym,i);if(!(e.mode&1))return Uu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Mp(i,r,void 0),Uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=bt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),nr(r,t,s,-1))}return qy(),r=Mp(Error(W(421))),Uu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=J2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=Fs(s.nextSibling),Cn=e,Je=!0,Jn=null,t!==null&&(Mn[jn++]=Br,Mn[jn++]=zr,Mn[jn++]=Bi,Br=t.id,zr=t.overflow,Bi=e),e=$y(e,r.children),e.flags|=4096,e)}function I_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function jp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function aS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,n,e);else if(t.tag===19)I_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jp(e,!0,n,null,i);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U2(t,e,n){switch(e.tag){case 3:iS(e),pa();break;case 5:DT(e);break;case 1:yn(e.type)&&zd(e);break;case 4:Dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Kd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?oS(t,e,n):(He(et,et.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);He(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,rS(t,e,n)}return Xr(t,e,n)}var lS,Jm,cS,uS;lS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};cS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ki(Er.current);var i=null;switch(n){case"input":s=_m(t,s),r=_m(t,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=Tm(t,s),r=Tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$d)}Im(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};uS=function(t,e,n,r){n!==r&&(e.flags|=4)};function wl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $2(t,e,n){var r=e.pendingProps;switch(Cy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return yn(e.type)&&Bd(),Bt(e),null;case 3:return r=e.stateNode,ga(),Ye(gn),Ye(Qt),jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(og(Jn),Jn=null))),Jm(t,e),Bt(e),null;case 5:My(e);var s=ki(uc.current);if(n=e.type,t!==null&&e.stateNode!=null)cS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Bt(e),null}if(t=ki(Er.current),Vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[lc]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Ge(Cl[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":M0(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":O0(r,i),Ge("invalid",r)}Im(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",""+a]):Jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Au(r),j0(r,i,!0);break;case"textarea":Au(r),L0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$d)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[lc]=r,lS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cl.length;s++)Ge(Cl[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":M0(t,r),s=_m(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":O0(t,r),s=Tm(t,r),Ge("invalid",t);break;default:s=r}Im(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(t,l):typeof l=="number"&&Zl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&dy(t,i,l,o))}switch(n){case"input":Au(t),j0(t,r,!1);break;case"textarea":Au(t),L0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?zo(t,!!r.multiple,i,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)uS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ki(uc.current),ki(Er.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ye(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&Sn!==null&&e.mode&1&&!(e.flags&128))RT(),pa(),e.flags|=98560,i=!1;else if(i=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[wr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else Jn!==null&&(og(Jn),Jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Et===0&&(Et=3):qy())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return ga(),Jm(t,e),t===null&&oc(e.stateNode.containerInfo),Bt(e),null;case 10:return Py(e.type._context),Bt(e),null;case 17:return yn(e.type)&&Bd(),Bt(e),null;case 19:if(Ye(et),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wl(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qd(t),o!==null){for(e.flags|=128,wl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(et,et.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>va&&(e.flags|=128,r=!0,wl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Bt(e),null}else 2*ut()-i.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,wl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=et.current,He(et,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return Ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function B2(t,e){switch(Cy(e),e.tag){case 1:return yn(e.type)&&Bd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),Ye(gn),Ye(Qt),jy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return My(e),null;case 13:if(Ye(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(et),null;case 4:return ga(),null;case 10:return Py(e.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var $u=!1,Kt=!1,z2=typeof WeakSet=="function"?WeakSet:Set,te=null;function Uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Zm(t,e,n){try{n()}catch(r){at(t,e,r)}}var C_=!1;function W2(t,e){if(Om=Vd,t=mT(),Sy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,p=t,f=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)f=p,p=w;for(;;){if(p===t)break t;if(f===n&&++d===s&&(a=o),f===i&&++h===r&&(l=o),(w=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:t,selectionRange:n},Vd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,T=E.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),T);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){at(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return E=C_,C_=!1,E}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zm(e,n,i)}s=s.next}while(s!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dS(t){var e=t.alternate;e!==null&&(t.alternate=null,dS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[lc],delete e[Um],delete e[C2],delete e[b2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hS(t){return t.tag===5||t.tag===3||t.tag===4}function b_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$d));else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}var Nt=null,Xn=!1;function fs(t,e,n){for(n=n.child;n!==null;)fS(t,e,n),n=n.sibling}function fS(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:Kt||Uo(n,e);case 6:var r=Nt,s=Xn;Nt=null,fs(t,e,n),Nt=r,Xn=s,Nt!==null&&(Xn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Xn?(t=Nt,n=n.stateNode,t.nodeType===8?Rp(t.parentNode,n):t.nodeType===1&&Rp(t,n),rc(t)):Rp(Nt,n.stateNode));break;case 4:r=Nt,s=Xn,Nt=n.stateNode.containerInfo,Xn=!0,fs(t,e,n),Nt=r,Xn=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zm(n,e,o),s=s.next}while(s!==r)}fs(t,e,n);break;case 1:if(!Kt&&(Uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,fs(t,e,n),Kt=r):fs(t,e,n);break;default:fs(t,e,n)}}function R_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z2),e.forEach(function(r){var s=Z2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,Xn=!1;break e;case 3:Nt=a.stateNode.containerInfo,Xn=!0;break e;case 4:Nt=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(Nt===null)throw Error(W(160));fS(i,o,s),Nt=null,Xn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){at(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pS(e,t),e=e.sibling}function pS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),fr(t),r&4){try{Bl(3,t,t.return),Wh(3,t)}catch(v){at(t,t.return,v)}try{Bl(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:Kn(e,t),fr(t),r&512&&n!==null&&Uo(n,n.return);break;case 5:if(Kn(e,t),fr(t),r&512&&n!==null&&Uo(n,n.return),t.flags&32){var s=t.stateNode;try{Zl(s,"")}catch(v){at(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&O1(s,i),Cm(a,o);var d=Cm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?$1(s,p):h==="dangerouslySetInnerHTML"?F1(s,p):h==="children"?Zl(s,p):dy(s,h,p,d)}switch(a){case"input":xm(s,i);break;case"textarea":L1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?zo(s,!!i.multiple,w,!1):f!==!!i.multiple&&(i.defaultValue!=null?zo(s,!!i.multiple,i.defaultValue,!0):zo(s,!!i.multiple,i.multiple?[]:"",!1))}s[lc]=i}catch(v){at(t,t.return,v)}}break;case 6:if(Kn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){at(t,t.return,v)}}break;case 3:if(Kn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:Kn(e,t),fr(t);break;case 13:Kn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wy=ut())),r&4&&R_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(d=Kt)||h,Kn(e,t),Kt=d):Kn(e,t),fr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(p=te=h;te!==null;){switch(f=te,w=f.child,f.tag){case 0:case 11:case 14:case 15:Bl(4,f,f.return);break;case 1:Uo(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:Uo(f,f.return);break;case 22:if(f.memoizedState!==null){P_(p);continue}}w!==null?(w.return=f,te=w):P_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=U1("display",o))}catch(v){at(t,t.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){at(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kn(e,t),fr(t),r&4&&R_(t);break;case 21:break;default:Kn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zl(s,""),r.flags&=-33);var i=b_(t);ng(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=b_(t);tg(t,a,o);break;default:throw Error(W(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H2(t,e,n){te=t,mS(t)}function mS(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$u;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=$u;var d=Kt;if($u=o,(Kt=l)&&!d)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?N_(s):l!==null?(l.return=o,te=l):N_(s);for(;i!==null;)te=i,mS(i),i=i.sibling;te=s,$u=a,Kt=d}A_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):A_(t)}}function A_(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&f_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&rc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Kt||e.flags&512&&eg(e)}catch(f){at(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function P_(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function N_(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){at(e,s,l)}}var i=e.return;try{eg(e)}catch(l){at(e,i,l)}break;case 5:var o=e.return;try{eg(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var K2=Math.ceil,Jd=is.ReactCurrentDispatcher,By=is.ReactCurrentOwner,Un=is.ReactCurrentBatchConfig,De=0,bt=null,yt=null,Mt=0,En=0,$o=di(0),Et=0,pc=null,Wi=0,Hh=0,zy=0,zl=null,fn=null,Wy=0,va=1/0,Ur=null,Zd=!1,rg=null,$s=null,Bu=!1,Ds=null,eh=0,Wl=0,sg=null,pd=-1,md=0;function sn(){return De&6?ut():pd!==-1?pd:pd=ut()}function Bs(t){return t.mode&1?De&2&&Mt!==0?Mt&-Mt:A2.transition!==null?(md===0&&(md=Z1()),md):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:oT(t.type)),t):1}function nr(t,e,n,r){if(50<Wl)throw Wl=0,sg=null,Error(W(185));Uc(t,n,r),(!(De&2)||t!==bt)&&(t===bt&&(!(De&2)&&(Hh|=n),Et===4&&Es(t,Mt)),vn(t,r),n===1&&De===0&&!(e.mode&1)&&(va=ut()+500,$h&&hi()))}function vn(t,e){var n=t.callbackNode;Ak(t,e);var r=Ld(t,t===bt?Mt:0);if(r===0)n!==null&&U0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U0(n),e===1)t.tag===0?R2(k_.bind(null,t)):IT(k_.bind(null,t)),S2(function(){!(De&6)&&hi()}),n=null;else{switch(eT(r)){case 1:n=gy;break;case 4:n=X1;break;case 16:n=Od;break;case 536870912:n=J1;break;default:n=Od}n=TS(n,gS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gS(t,e){if(pd=-1,md=0,De&6)throw Error(W(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=Ld(t,t===bt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=th(t,r);else{e=r;var s=De;De|=2;var i=vS();(bt!==t||Mt!==e)&&(Ur=null,va=ut()+500,Vi(t,e));do try{Q2();break}catch(a){yS(t,a)}while(!0);Ay(),Jd.current=i,De=s,yt!==null?e=0:(bt=null,Mt=0,e=Et)}if(e!==0){if(e===2&&(s=Nm(t),s!==0&&(r=s,e=ig(t,s))),e===1)throw n=pc,Vi(t,0),Es(t,r),vn(t,ut()),n;if(e===6)Es(t,r);else{if(s=t.current.alternate,!(r&30)&&!q2(s)&&(e=th(t,r),e===2&&(i=Nm(t),i!==0&&(r=i,e=ig(t,i))),e===1))throw n=pc,Vi(t,0),Es(t,r),vn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ri(t,fn,Ur);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=Wy+500-ut(),10<e)){if(Ld(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fm(Ri.bind(null,t,fn,Ur),e);break}Ri(t,fn,Ur);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K2(r/1960))-r,10<r){t.timeoutHandle=Fm(Ri.bind(null,t,fn,Ur),r);break}Ri(t,fn,Ur);break;case 5:Ri(t,fn,Ur);break;default:throw Error(W(329))}}}return vn(t,ut()),t.callbackNode===n?gS.bind(null,t):null}function ig(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=th(t,e),t!==2&&(e=fn,fn=n,e!==null&&og(e)),t}function og(t){fn===null?fn=t:fn.push.apply(fn,t)}function q2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~zy,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function k_(t){if(De&6)throw Error(W(327));Go();var e=Ld(t,0);if(!(e&1))return vn(t,ut()),null;var n=th(t,e);if(t.tag!==0&&n===2){var r=Nm(t);r!==0&&(e=r,n=ig(t,r))}if(n===1)throw n=pc,Vi(t,0),Es(t,e),vn(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,fn,Ur),vn(t,ut()),null}function Hy(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(va=ut()+500,$h&&hi())}}function Hi(t){Ds!==null&&Ds.tag===0&&!(De&6)&&Go();var e=De;De|=1;var n=Un.transition,r=Fe;try{if(Un.transition=null,Fe=1,t)return t()}finally{Fe=r,Un.transition=n,De=e,!(De&6)&&hi()}}function Ky(){En=$o.current,Ye($o)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Cy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bd();break;case 3:ga(),Ye(gn),Ye(Qt),jy();break;case 5:My(r);break;case 4:ga();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Py(r.type._context);break;case 22:case 23:Ky()}n=n.return}if(bt=t,yt=t=zs(t.current,null),Mt=En=e,Et=0,pc=null,zy=Hh=Wi=0,fn=zl=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ni=null}return t}function yS(t,e){do{var n=yt;try{if(Ay(),dd.current=Xd,Yd){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yd=!1}if(zi=0,Ct=xt=tt=null,$l=!1,dc=0,By.current=null,n===null||n.return===null){Et=1,pc=e,yt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=w_(o);if(w!==null){w.flags&=-257,__(w,o,a,i,e),w.mode&1&&v_(i,d,e),e=w,l=d;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){v_(i,d,e),qy();break e}l=Error(W(426))}}else if(Je&&a.mode&1){var T=w_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),__(T,o,a,i,e),by(ya(l,a));break e}}i=l=ya(l,a),Et!==4&&(Et=2),zl===null?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=eS(i,l,e);h_(i,x);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($s===null||!$s.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=tS(i,a,e);h_(i,A);break e}}i=i.return}while(i!==null)}_S(n)}catch(M){e=M,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function vS(){var t=Jd.current;return Jd.current=Xd,t===null?Xd:t}function qy(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||!(Wi&268435455)&&!(Hh&268435455)||Es(bt,Mt)}function th(t,e){var n=De;De|=2;var r=vS();(bt!==t||Mt!==e)&&(Ur=null,Vi(t,e));do try{G2();break}catch(s){yS(t,s)}while(!0);if(Ay(),De=n,Jd.current=r,yt!==null)throw Error(W(261));return bt=null,Mt=0,Et}function G2(){for(;yt!==null;)wS(yt)}function Q2(){for(;yt!==null&&!_k();)wS(yt)}function wS(t){var e=ES(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?_S(t):yt=e,By.current=null}function _S(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B2(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=$2(n,e,En),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function Ri(t,e,n){var r=Fe,s=Un.transition;try{Un.transition=null,Fe=1,Y2(t,e,n,r)}finally{Un.transition=s,Fe=r}return null}function Y2(t,e,n,r){do Go();while(Ds!==null);if(De&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pk(t,i),t===bt&&(yt=bt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,TS(Od,function(){return Go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Un.transition,Un.transition=null;var o=Fe;Fe=1;var a=De;De|=4,By.current=null,W2(t,n),pS(n,t),g2(Lm),Vd=!!Om,Lm=Om=null,t.current=n,H2(n),xk(),De=a,Fe=o,Un.transition=i}else t.current=n;if(Bu&&(Bu=!1,Ds=t,eh=s),i=t.pendingLanes,i===0&&($s=null),Sk(n.stateNode),vn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zd)throw Zd=!1,t=rg,rg=null,t;return eh&1&&t.tag!==0&&Go(),i=t.pendingLanes,i&1?t===sg?Wl++:(Wl=0,sg=t):Wl=0,hi(),null}function Go(){if(Ds!==null){var t=eT(eh),e=Un.transition,n=Fe;try{if(Un.transition=null,Fe=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,eh=0,De&6)throw Error(W(331));var s=De;for(De|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(te=d;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Bl(8,h,i)}var p=h.child;if(p!==null)p.return=h,te=p;else for(;te!==null;){h=te;var f=h.sibling,w=h.return;if(dS(h),h===d){te=null;break}if(f!==null){f.return=w,te=f;break}te=w}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,te=x;break e}te=i.return}}var y=t.current;for(te=y;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(M){at(a,a.return,M)}if(a===o){te=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,te=A;break e}te=a.return}}if(De=s,hi(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{Fe=n,Un.transition=e}}return!1}function D_(t,e,n){e=ya(n,e),e=eS(t,e,1),t=Us(t,e,1),e=sn(),t!==null&&(Uc(t,1,e),vn(t,e))}function at(t,e,n){if(t.tag===3)D_(t,t,n);else for(;e!==null;){if(e.tag===3){D_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ya(n,t),t=tS(e,t,1),e=Us(e,t,1),t=sn(),e!==null&&(Uc(e,1,t),vn(e,t));break}}e=e.return}}function X2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Mt&n)===n&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>ut()-Wy?Vi(t,0):zy|=n),vn(t,e)}function xS(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=sn();t=Yr(t,e),t!==null&&(Uc(t,e,n),vn(t,n))}function J2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xS(t,n)}function Z2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),xS(t,n)}var ES;ES=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,U2(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Je&&e.flags&1048576&&CT(e,Hd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fd(t,e),t=e.pendingProps;var s=fa(e,Qt.current);qo(e,n),s=Ly(null,e,r,t,s,n);var i=Vy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(i=!0,zd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ky(e),s.updater=zh,e.stateNode=s,s._reactInternals=e,Km(e,r,t,n),e=Qm(null,e,r,!0,i,n)):(e.tag=0,Je&&i&&Iy(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tD(r),t=Gn(r,t),s){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=T_(null,e,r,t,n);break e;case 11:e=x_(null,e,r,t,n);break e;case 14:e=E_(null,e,r,Gn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Gm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),T_(t,e,r,s,n);case 3:e:{if(iS(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kT(t,e),Gd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(W(423)),e),e=S_(t,e,r,n,s);break e}else if(r!==s){s=ya(Error(W(424)),e),e=S_(t,e,r,n,s);break e}else for(Sn=Fs(e.stateNode.containerInfo.firstChild),Cn=e,Je=!0,Jn=null,n=PT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===s){e=Xr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return DT(e),t===null&&zm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Vm(r,s)?o=null:i!==null&&Vm(r,i)&&(e.flags|=32),sS(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return oS(t,e,n);case 4:return Dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),x_(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Kd,r._currentValue),r._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!gn.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qo(e,n),s=zn(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=Gn(r,e.pendingProps),s=Gn(r.type,s),E_(t,e,r,s,n);case 15:return nS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),fd(t,e),e.tag=1,yn(r)?(t=!0,zd(e)):t=!1,qo(e,n),ZT(e,r,s),Km(e,r,s,n),Qm(null,e,r,!0,t,n);case 19:return aS(t,e,n);case 22:return rS(t,e,n)}throw Error(W(156,e.tag))};function TS(t,e){return Y1(t,e)}function eD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new eD(t,e,n,r)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tD(t){if(typeof t=="function")return Gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fy)return 11;if(t===py)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case No:return Fi(n.children,s,i,e);case hy:o=8,s|=8;break;case gm:return t=Fn(12,n,e,s|2),t.elementType=gm,t.lanes=i,t;case ym:return t=Fn(13,n,e,s),t.elementType=ym,t.lanes=i,t;case vm:return t=Fn(19,n,e,s),t.elementType=vm,t.lanes=i,t;case D1:return Kh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N1:o=10;break e;case k1:o=9;break e;case fy:o=11;break e;case py:o=14;break e;case ws:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fi(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Kh(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=D1,t.lanes=n,t.stateNode={isHidden:!1},t}function Op(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Lp(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qy(t,e,n,r,s,i,o,a,l){return t=new nD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(i),t}function rD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SS(t){if(!t)return Js;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(yn(n))return ST(t,n,e)}return e}function IS(t,e,n,r,s,i,o,a,l){return t=Qy(n,r,!0,t,s,i,o,a,l),t.context=SS(null),n=t.current,r=sn(),s=Bs(n),i=Kr(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,Uc(t,s,r),vn(t,r),t}function qh(t,e,n,r){var s=e.current,i=sn(),o=Bs(s);return n=SS(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(nr(t,s,o,i),ud(t,s,o)),o}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yy(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function sD(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xy(t){this._internalRoot=t}Gh.prototype.render=Xy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));qh(t,e,null,null)};Gh.prototype.unmount=Xy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){qh(null,t,null,null)}),e[Qr]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=rT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&iT(t)}};function Jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function iD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=nh(o);i.call(d)}}var o=IS(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=o,t[Qr]=o.current,oc(t.nodeType===8?t.parentNode:t),Hi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=nh(l);a.call(d)}}var l=Qy(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=l,t[Qr]=l.current,oc(t.nodeType===8?t.parentNode:t),Hi(function(){qh(e,l,n,r)}),l}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=nh(o);a.call(l)}}qh(e,o,t,s)}else o=iD(n,e,t,s,r);return nh(o)}tT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Il(e.pendingLanes);n!==0&&(yy(e,n|1),vn(e,ut()),!(De&6)&&(va=ut()+500,hi()))}break;case 13:Hi(function(){var r=Yr(t,1);if(r!==null){var s=sn();nr(r,t,1,s)}}),Yy(t,1)}};vy=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=sn();nr(e,t,134217728,n)}Yy(t,134217728)}};nT=function(t){if(t.tag===13){var e=Bs(t),n=Yr(t,e);if(n!==null){var r=sn();nr(n,t,e,r)}Yy(t,e)}};rT=function(){return Fe};sT=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Rm=function(t,e,n){switch(e){case"input":if(xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uh(r);if(!s)throw Error(W(90));j1(r),xm(r,s)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};W1=Hy;H1=Hi;var oD={usingClientEntryPoint:!1,Events:[Bc,jo,Uh,B1,z1,Hy]},_l={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aD={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G1(t),t===null?null:t.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||sD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Oh=zu.inject(aD),xr=zu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(e))throw Error(W(200));return rD(t,e,null,n)};Pn.createRoot=function(t,e){if(!Jy(t))throw Error(W(299));var n=!1,r="",s=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qy(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,oc(t.nodeType===8?t.parentNode:t),new Xy(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=G1(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Hi(t)};Pn.hydrate=function(t,e,n){if(!Qh(e))throw Error(W(200));return Yh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Jy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gh(e)};Pn.render=function(t,e,n){if(!Qh(e))throw Error(W(200));return Yh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(W(40));return t._reactRootContainer?(Hi(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Pn.unstable_batchedUpdates=Hy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Yh(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(t){console.error(t)}}bS(),b1.exports=Pn;var io=b1.exports;const RS=p1(io);var AS,O_=io;AS=O_.createRoot,O_.hydrateRoot;const lD=1,cD=1e6;let Vp=0;function uD(){return Vp=(Vp+1)%Number.MAX_SAFE_INTEGER,Vp.toString()}const Fp=new Map,L_=t=>{if(Fp.has(t))return;const e=setTimeout(()=>{Fp.delete(t),Hl({type:"REMOVE_TOAST",toastId:t})},cD);Fp.set(t,e)},dD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,lD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?L_(n):t.toasts.forEach(r=>{L_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yd=[];let vd={toasts:[]};function Hl(t){vd=dD(vd,t),yd.forEach(e=>{e(vd)})}function wd({...t}){const e=uD(),n=s=>Hl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Hl({type:"DISMISS_TOAST",toastId:e});return Hl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oo(){const[t,e]=g.useState(vd);return g.useEffect(()=>(yd.push(e),()=>{const n=yd.indexOf(e);n>-1&&yd.splice(n,1)}),[t]),{...t,toast:wd,dismiss:n=>Hl({type:"DISMISS_TOAST",toastId:n})}}function Y(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Xh(...t){return e=>t.forEach(n=>hD(n,e))}function je(...t){return g.useCallback(Xh(...t),t)}function fD(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function d(p){const{scope:f,children:w,...E}=p,v=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return u.jsx(v.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pD(s,...e)]}function pD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zs=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(mD);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return u.jsx(ag,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return u.jsx(ag,{...r,ref:e,children:n})});Zs.displayName="Slot";var ag=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=yD(n);return g.cloneElement(n,{...gD(r,n.props),ref:e?Xh(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});ag.displayName="SlotClone";var PS=({children:t})=>u.jsx(u.Fragment,{children:t});function mD(t){return g.isValidElement(t)&&t.type===PS}function gD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jh(t){const e=t+"CollectionProvider",[n,r]=fD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:E,children:v}=w,T=Q.useRef(null),x=Q.useRef(new Map).current;return u.jsx(s,{scope:E,itemMap:x,collectionRef:T,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Q.forwardRef((w,E)=>{const{scope:v,children:T}=w,x=i(a,v),y=je(E,x.collectionRef);return u.jsx(Zs,{ref:y,children:T})});l.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Q.forwardRef((w,E)=>{const{scope:v,children:T,...x}=w,y=Q.useRef(null),S=je(E,y),A=i(d,v);return Q.useEffect(()=>(A.itemMap.set(y,{ref:y,...x}),()=>void A.itemMap.delete(y))),u.jsx(Zs,{[h]:"",ref:S,children:T})});p.displayName=d;function f(w){const E=i(t+"CollectionConsumer",w);return Q.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((A,M)=>x.indexOf(A.ref.current)-x.indexOf(M.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function vD(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ao(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const d=p=>{var x;const{scope:f,children:w,...E}=p,v=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=g.useMemo(()=>E,Object.values(E));return u.jsx(v.Provider,{value:T,children:w})};d.displayName=i+"Provider";function h(p,f){var v;const w=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wD(s,...e)]}function wD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=_D.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Zs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Zy(t,e){t&&io.flushSync(()=>t.dispatchEvent(e))}function Yt(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xD(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ED="DismissableLayer",lg="dismissableLayer.update",TD="dismissableLayer.pointerDownOutside",SD="dismissableLayer.focusOutside",V_,NS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Da=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=g.useContext(NS),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=g.useState({}),E=je(e,C=>p(C)),v=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(T),y=h?v.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,M=CD(C=>{const I=C.target,R=[...d.branches].some(P=>P.contains(I));!A||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),j=bD(C=>{const I=C.target;[...d.branches].some(P=>P.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return xD(C=>{y===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(V_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),F_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=V_)}},[h,f,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),F_())},[h,d]),g.useEffect(()=>{const C=()=>w({});return document.addEventListener(lg,C),()=>document.removeEventListener(lg,C)},[]),u.jsx(he.div,{...l,ref:E,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:Y(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(t.onPointerDownCapture,M.onPointerDownCapture)})});Da.displayName=ED;var ID="DismissableLayerBranch",kS=g.forwardRef((t,e)=>{const n=g.useContext(NS),r=g.useRef(null),s=je(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(he.div,{...t,ref:s})});kS.displayName=ID;function CD(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){DS(TD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bD(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&DS(SD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F_(){const t=new CustomEvent(lg);document.dispatchEvent(t)}function DS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Zy(s,i):s.dispatchEvent(i)}var RD=Da,AD=kS,Xt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},PD="Portal",Wc=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Xt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RS.createPortal(u.jsx(he.div,{...r,ref:e}),o):null});Wc.displayName=PD;function ND(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var cr=t=>{const{present:e,children:n}=t,r=kD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=je(r.ref,DD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};cr.displayName="Presence";function kD(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ND(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Wu(r.current);i.current=a==="mounted"?d:"none"},[a]),Xt(()=>{const d=r.current,h=s.current;if(h!==t){const f=i.current,w=Wu(d);t?l("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&f!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Xt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=w=>{const v=Wu(r.current).includes(w.animationName);if(w.target===e&&v&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=w=>{w.target===e&&(i.current=Wu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Wu(t){return(t==null?void 0:t.animationName)||"none"}function DD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ki({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=MD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Yt(n),l=g.useCallback(d=>{if(i){const p=typeof d=="function"?d(t):d;p!==t&&a(p)}else s(d)},[i,t,s,a]);return[o,l]}function MD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Yt(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var jD="VisuallyHidden",Hc=g.forwardRef((t,e)=>u.jsx(he.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hc.displayName=jD;var OD=Hc,ev="ToastProvider",[tv,LD,VD]=Jh("Toast"),[MS,f8]=ao("Toast",[VD]),[FD,Zh]=MS(ev),jS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[d,h]=g.useState(0),p=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ev}\`. Expected non-empty \`string\`.`),u.jsx(tv.Provider,{scope:e,children:u.jsx(FD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>h(w=>w+1),[]),onToastRemove:g.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};jS.displayName=ev;var OS="ToastViewport",UD=["F8"],cg="toast.viewportPause",ug="toast.viewportResume",LS=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=UD,label:s="Notifications ({hotkey})",...i}=t,o=Zh(OS,n),a=LD(n),l=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=je(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const T=x=>{var S;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),g.useEffect(()=>{const T=l.current,x=p.current;if(E&&T&&x){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(cg);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(ug);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},A=j=>{!T.contains(j.relatedTarget)&&S()},M=()=>{T.contains(document.activeElement)||S()};return T.addEventListener("focusin",y),T.addEventListener("focusout",A),T.addEventListener("pointermove",y),T.addEventListener("pointerleave",M),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{T.removeEventListener("focusin",y),T.removeEventListener("focusout",A),T.removeEventListener("pointermove",y),T.removeEventListener("pointerleave",M),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[E,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:T})=>{const y=a().map(S=>{const A=S.ref.current,M=[A,...ZD(A)];return T==="forwards"?M:M.reverse()});return(T==="forwards"?y.reverse():y).flat()},[a]);return g.useEffect(()=>{const T=p.current;if(T){const x=y=>{var M,j,C;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const I=document.activeElement,R=y.shiftKey;if(y.target===T&&R){(M=d.current)==null||M.focus();return}const D=v({tabbingDirection:R?"backwards":"forwards"}),N=D.findIndex($=>$===I);Up(D.slice(N+1))?y.preventDefault():R?(j=d.current)==null||j.focus():(C=h.current)==null||C.focus()}};return T.addEventListener("keydown",x),()=>T.removeEventListener("keydown",x)}},[a,v]),u.jsxs(AD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&u.jsx(dg,{ref:d,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"forwards"});Up(T)}}),u.jsx(tv.Slot,{scope:n,children:u.jsx(he.ol,{tabIndex:-1,...i,ref:f})}),E&&u.jsx(dg,{ref:h,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"backwards"});Up(T)}})]})});LS.displayName=OS;var VS="ToastFocusProxy",dg=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zh(VS,n);return u.jsx(Hc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});dg.displayName=VS;var ef="Toast",$D="toast.swipeStart",BD="toast.swipeMove",zD="toast.swipeCancel",WD="toast.swipeEnd",FS=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ki({prop:r,defaultProp:s,onChange:i});return u.jsx(cr,{present:n||a,children:u.jsx(qD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Yt(t.onPause),onResume:Yt(t.onResume),onSwipeStart:Y(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Y(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});FS.displayName=ef;var[HD,KD]=MS(ef,{onClose(){}}),qD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:w,...E}=t,v=Zh(ef,n),[T,x]=g.useState(null),y=je(e,$=>x($)),S=g.useRef(null),A=g.useRef(null),M=s||v.duration,j=g.useRef(0),C=g.useRef(M),I=g.useRef(0),{onToastAdd:R,onToastRemove:P}=v,k=Yt(()=>{var Z;(T==null?void 0:T.contains(document.activeElement))&&((Z=v.viewport)==null||Z.focus()),o()}),D=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(I.current),j.current=new Date().getTime(),I.current=window.setTimeout(k,$))},[k]);g.useEffect(()=>{const $=v.viewport;if($){const Z=()=>{D(C.current),d==null||d()},q=()=>{const se=new Date().getTime()-j.current;C.current=C.current-se,window.clearTimeout(I.current),l==null||l()};return $.addEventListener(cg,q),$.addEventListener(ug,Z),()=>{$.removeEventListener(cg,q),$.removeEventListener(ug,Z)}}},[v.viewport,M,l,d,D]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(M)},[i,M,v.isClosePausedRef,D]),g.useEffect(()=>(R(),()=>P()),[R,P]);const N=g.useMemo(()=>T?KS(T):null,[T]);return v.viewport?u.jsxs(u.Fragment,{children:[N&&u.jsx(GD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),u.jsx(HD,{scope:n,onClose:k,children:io.createPortal(u.jsx(tv.ItemSlot,{scope:n,children:u.jsx(RD,{asChild:!0,onEscapeKeyDown:Y(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Y(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Y(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:Y(t.onPointerMove,$=>{if(!S.current)return;const Z=$.clientX-S.current.x,q=$.clientY-S.current.y,se=!!A.current,L=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=L?V(0,Z):0,K=L?0:V(0,q),J=$.pointerType==="touch"?10:2,re={x:H,y:K},_e={originalEvent:$,delta:re};se?(A.current=re,Hu(BD,p,_e,{discrete:!1})):U_(re,v.swipeDirection,J)?(A.current=re,Hu($D,h,_e,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Z)>J||Math.abs(q)>J)&&(S.current=null)}),onPointerUp:Y(t.onPointerUp,$=>{const Z=A.current,q=$.target;if(q.hasPointerCapture($.pointerId)&&q.releasePointerCapture($.pointerId),A.current=null,S.current=null,Z){const se=$.currentTarget,L={originalEvent:$,delta:Z};U_(Z,v.swipeDirection,v.swipeThreshold)?Hu(WD,w,L,{discrete:!0}):Hu(zD,f,L,{discrete:!0}),se.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),GD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zh(ef,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return XD(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:u.jsx(Wc,{asChild:!0,children:u.jsx(Hc,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},QD="ToastTitle",US=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(he.div,{...r,ref:e})});US.displayName=QD;var YD="ToastDescription",$S=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(he.div,{...r,ref:e})});$S.displayName=YD;var BS="ToastAction",zS=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(HS,{altText:n,asChild:!0,children:u.jsx(nv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BS}\`. Expected non-empty \`string\`.`),null)});zS.displayName=BS;var WS="ToastClose",nv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=KD(WS,n);return u.jsx(HS,{asChild:!0,children:u.jsx(he.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,s.onClose)})})});nv.displayName=WS;var HS=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function KS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),JD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...KS(r))}}),e}function Hu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Zy(s,i):s.dispatchEvent(i)}var U_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function XD(t=()=>{}){const e=Yt(t);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function JD(t){return t.nodeType===t.ELEMENT_NODE}function ZD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Up(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var eM=jS,qS=LS,GS=FS,QS=US,YS=$S,XS=zS,JS=nv;function ZS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ZS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function eI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ZS(t))&&(r&&(r+=" "),r+=e);return r}const $_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,B_=eI,rv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return B_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],p=i==null?void 0:i[d];if(h===null)return null;const f=$_(h)||$_(p);return s[d][f]}),a=n&&Object.entries(n).reduce((d,h)=>{let[p,f]=h;return f===void 0||(d[p]=f),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:f,...w}=h;return Object.entries(w).every(E=>{let[v,T]=E;return Array.isArray(T)?T.includes({...i,...a}[v]):{...i,...a}[v]===T})?[...d,p,f]:d},[]);return B_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...nM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tI("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(rM,{ref:i,iconNode:e,className:tI(`lucide-${tM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=St("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=St("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=St("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=St("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=St("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ov="-",uM=t=>{const e=hM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ov);return a[0]===""&&a.length!==1&&a.shift(),aI(a,e)||dM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?aI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ov);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},z_=/^\[(.+)\]$/,dM=t=>{if(z_.test(t)){const e=z_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pM(Object.entries(t.classGroups),n).forEach(([i,o])=>{hg(o,r,i,e)}),r},hg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:W_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fM(s)){hg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{hg(o,W_(e,i),n,r)})})},W_=(t,e)=>{let n=t;return e.split(ov).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fM=t=>t.isThemeGetter,pM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,mM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},lI="!",gM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,p;for(let T=0;T<a.length;T++){let x=a[T];if(d===0){if(x===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(h,T)),h=T+i;continue}if(x==="/"){p=T;continue}}x==="["?d++:x==="]"&&d--}const f=l.length===0?a:a.substring(h),w=f.startsWith(lI),E=w?f.substring(1):f,v=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},yM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vM=t=>({cache:mM(t.cacheSize),parseClassName:gM(t),...uM(t)}),wM=/\s+/,_M=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(wM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:w}=n(d);let E=!!w,v=r(E?f.substring(0,w):f);if(!v){if(!E){a=d+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=d+(a.length>0?" "+a:a);continue}E=!1}const T=yM(h).join(":"),x=p?T+lI:T,y=x+v;if(i.includes(y))continue;i.push(y);const S=s(v,E);for(let A=0;A<S.length;++A){const M=S[A];i.push(x+M)}a=d+(a.length>0?" "+a:a)}return a};function xM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cI(e))&&(r&&(r+=" "),r+=n);return r}const cI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cI(t[r]))&&(n&&(n+=" "),n+=e);return n};function EM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,p)=>p(h),t());return n=vM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=_M(l,n);return s(l,h),h}return function(){return i(xM.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uI=/^\[(?:([a-z-]+):)?(.+)\]$/i,TM=/^\d+\/\d+$/,SM=new Set(["px","full","screen"]),IM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vr=t=>Qo(t)||SM.has(t)||TM.test(t),ps=t=>ja(t,"length",LM),Qo=t=>!!t&&!Number.isNaN(Number(t)),$p=t=>ja(t,"number",Qo),xl=t=>!!t&&Number.isInteger(Number(t)),PM=t=>t.endsWith("%")&&Qo(t.slice(0,-1)),pe=t=>uI.test(t),ms=t=>IM.test(t),NM=new Set(["length","size","percentage"]),kM=t=>ja(t,NM,dI),DM=t=>ja(t,"position",dI),MM=new Set(["image","url"]),jM=t=>ja(t,MM,FM),OM=t=>ja(t,"",VM),El=()=>!0,ja=(t,e,n)=>{const r=uI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LM=t=>CM.test(t)&&!bM.test(t),dI=()=>!1,VM=t=>RM.test(t),FM=t=>AM.test(t),UM=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),d=qe("grayscale"),h=qe("hueRotate"),p=qe("invert"),f=qe("gap"),w=qe("gradientColorStops"),E=qe("gradientColorStopPositions"),v=qe("inset"),T=qe("margin"),x=qe("opacity"),y=qe("padding"),S=qe("saturate"),A=qe("scale"),M=qe("sepia"),j=qe("skew"),C=qe("space"),I=qe("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pe,e],D=()=>[pe,e],N=()=>["",Vr,ps],$=()=>["auto",Qo,pe],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",pe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Qo,pe];return{cacheSize:500,separator:":",theme:{colors:[El],spacing:[Vr,ps],blur:["none","",ms,pe],brightness:K(),borderColor:[t],borderRadius:["none","","full",ms,pe],borderSpacing:D(),borderWidth:N(),contrast:K(),grayscale:V(),hueRotate:K(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[PM,ps],inset:k(),margin:k(),opacity:K(),padding:D(),saturate:K(),scale:K(),sepia:V(),skew:K(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,pe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",xl,pe]}],"grid-cols":[{"grid-cols":[El]}],"col-start-end":[{col:["auto",{span:["full",xl,pe]},pe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[El]}],"row-start-end":[{row:["auto",{span:[xl,pe]},pe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[El]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Qo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vr,ps]}],"underline-offset":[{"underline-offset":["auto",Vr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),DM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Vr,pe]}],"outline-w":[{outline:[Vr,ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Vr,ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ms,OM]}],"shadow-color":[{shadow:[El]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ms,pe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[xl,pe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Vr,ps,$p]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$M=EM(UM);function oe(...t){return $M(eI(t))}const BM=eM,hI=g.forwardRef(({className:t,...e},n)=>u.jsx(qS,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hI.displayName=qS.displayName;const zM=rv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fI=g.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(GS,{ref:r,className:oe(zM({variant:e}),t),...n}));fI.displayName=GS.displayName;const WM=g.forwardRef(({className:t,...e},n)=>u.jsx(XS,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));WM.displayName=XS.displayName;const pI=g.forwardRef(({className:t,...e},n)=>u.jsx(JS,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(oI,{className:"h-4 w-4"})}));pI.displayName=JS.displayName;const mI=g.forwardRef(({className:t,...e},n)=>u.jsx(QS,{ref:n,className:oe("text-sm font-semibold",t),...e}));mI.displayName=QS.displayName;const gI=g.forwardRef(({className:t,...e},n)=>u.jsx(YS,{ref:n,className:oe("text-sm opacity-90",t),...e}));gI.displayName=YS.displayName;function HM(){const{toasts:t}=oo();return u.jsxs(BM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(fI,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(mI,{children:n}),r&&u.jsx(gI,{children:r})]}),s,u.jsx(pI,{})]},e)}),u.jsx(hI,{})]})}var H_=["light","dark"],KM="(prefers-color-scheme: dark)",qM=g.createContext(void 0),GM={setTheme:t=>{},themes:[]},QM=()=>{var t;return(t=g.useContext(qM))!=null?t:GM};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?H_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(E,v=!1,T=!0)=>{let x=o?o[E]:E,y=v?E+"|| ''":`'${x}'`,S="";return s&&T&&!v&&H_.includes(E)&&(S+=`d.style.colorScheme = '${E}';`),n==="class"?v||x?S+=`c.add(${y})`:S+="null":x&&(S+=`d[s](n,${y})`),S},w=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${KM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:w}})});var YM=t=>{switch(t){case"success":return ZM;case"info":return tj;case"warning":return ej;case"error":return nj;default:return null}},XM=Array(12).fill(0),JM=({visible:t})=>Q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Q.createElement("div",{className:"sonner-spinner"},XM.map((e,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ZM=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ej=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rj=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},fg=1,sj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:fg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(oj(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||fg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},xn=new sj,ij=(t,e)=>{let n=(e==null?void 0:e.id)||fg++;return xn.addToast({title:t,...e,id:n}),n},oj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aj=ij,lj=()=>xn.toasts;Object.assign(aj,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:lj});function cj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}cj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ku(t){return t.label!==void 0}var uj=3,dj="32px",hj=4e3,fj=356,pj=14,mj=20,gj=200;function yj(...t){return t.filter(Boolean).join(" ")}var vj=t=>{var e,n,r,s,i,o,a,l,d,h;let{invert:p,toast:f,unstyled:w,interacting:E,setHeights:v,visibleToasts:T,heights:x,index:y,toasts:S,expanded:A,removeToast:M,defaultRichColors:j,closeButton:C,style:I,cancelButtonStyle:R,actionButtonStyle:P,className:k="",descriptionClassName:D="",duration:N,position:$,gap:Z,loadingIcon:q,expandByDefault:se,classNames:L,icons:V,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[re,_e]=Q.useState(!1),[$e,fe]=Q.useState(!1),[ne,xe]=Q.useState(!1),[Pe,me]=Q.useState(!1),[be,Ee]=Q.useState(0),[_t,At]=Q.useState(0),kn=Q.useRef(null),Zt=Q.useRef(null),Dr=y===0,Xa=y+1<=T,pt=f.type,dr=f.dismissible!==!1,cu=f.className||"",Yf=f.descriptionClassName||"",as=Q.useMemo(()=>x.findIndex(ce=>ce.toastId===f.id)||0,[x,f.id]),Ja=Q.useMemo(()=>{var ce;return(ce=f.closeButton)!=null?ce:C},[f.closeButton,C]),Za=Q.useMemo(()=>f.duration||N||hj,[f.duration,N]),mt=Q.useRef(0),st=Q.useRef(0),xi=Q.useRef(0),Mr=Q.useRef(null),[el,Xf]=$.split("-"),ls=Q.useMemo(()=>x.reduce((ce,Ue,Ve)=>Ve>=as?ce:ce+Ue.height,0),[x,as]),tl=rj(),uu=f.invert||p,Ei=pt==="loading";st.current=Q.useMemo(()=>as*Z+ls,[as,ls]),Q.useEffect(()=>{_e(!0)},[]),Q.useLayoutEffect(()=>{if(!re)return;let ce=Zt.current,Ue=ce.style.height;ce.style.height="auto";let Ve=ce.getBoundingClientRect().height;ce.style.height=Ue,At(Ve),v(Lt=>Lt.find(un=>un.toastId===f.id)?Lt.map(un=>un.toastId===f.id?{...un,height:Ve}:un):[{toastId:f.id,height:Ve,position:f.position},...Lt])},[re,f.title,f.description,v,f.id]);let hr=Q.useCallback(()=>{fe(!0),Ee(st.current),v(ce=>ce.filter(Ue=>Ue.toastId!==f.id)),setTimeout(()=>{M(f)},gj)},[f,M,v,st]);Q.useEffect(()=>{if(f.promise&&pt==="loading"||f.duration===1/0||f.type==="loading")return;let ce,Ue=Za;return A||E||K&&tl?(()=>{if(xi.current<mt.current){let Ve=new Date().getTime()-mt.current;Ue=Ue-Ve}xi.current=new Date().getTime()})():Ue!==1/0&&(mt.current=new Date().getTime(),ce=setTimeout(()=>{var Ve;(Ve=f.onAutoClose)==null||Ve.call(f,f),hr()},Ue)),()=>clearTimeout(ce)},[A,E,se,f,Za,hr,f.promise,pt,K,tl]),Q.useEffect(()=>{let ce=Zt.current;if(ce){let Ue=ce.getBoundingClientRect().height;return At(Ue),v(Ve=>[{toastId:f.id,height:Ue,position:f.position},...Ve]),()=>v(Ve=>Ve.filter(Lt=>Lt.toastId!==f.id))}},[v,f.id]),Q.useEffect(()=>{f.delete&&hr()},[hr,f.delete]);function Jf(){return V!=null&&V.loading?Q.createElement("div",{className:"sonner-loader","data-visible":pt==="loading"},V.loading):q?Q.createElement("div",{className:"sonner-loader","data-visible":pt==="loading"},q):Q.createElement(JM,{visible:pt==="loading"})}return Q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Zt,className:J(k,cu,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[pt],(n=f==null?void 0:f.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:j,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":re,"data-promise":!!f.promise,"data-removed":$e,"data-visible":Xa,"data-y-position":el,"data-x-position":Xf,"data-index":y,"data-front":Dr,"data-swiping":ne,"data-dismissible":dr,"data-type":pt,"data-invert":uu,"data-swipe-out":Pe,"data-expanded":!!(A||se&&re),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${$e?be:st.current}px`,"--initial-height":se?"auto":`${_t}px`,...I,...f.style},onPointerDown:ce=>{Ei||!dr||(kn.current=new Date,Ee(st.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(xe(!0),Mr.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Ue,Ve,Lt;if(Pe||!dr)return;Mr.current=null;let un=Number(((ce=Zt.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),cs=new Date().getTime()-((Ue=kn.current)==null?void 0:Ue.getTime()),jr=Math.abs(un)/cs;if(Math.abs(un)>=mj||jr>.11){Ee(st.current),(Ve=f.onDismiss)==null||Ve.call(f,f),hr(),me(!0);return}(Lt=Zt.current)==null||Lt.style.setProperty("--swipe-amount","0px"),xe(!1)},onPointerMove:ce=>{var Ue;if(!Mr.current||!dr)return;let Ve=ce.clientY-Mr.current.y,Lt=ce.clientX-Mr.current.x,un=(el==="top"?Math.min:Math.max)(0,Ve),cs=ce.pointerType==="touch"?10:2;Math.abs(un)>cs?(Ue=Zt.current)==null||Ue.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(Lt)>cs&&(Mr.current=null)}},Ja&&!f.jsx?Q.createElement("button",{"aria-label":H,"data-disabled":Ei,"data-close-button":!0,onClick:Ei||!dr?()=>{}:()=>{var ce;hr(),(ce=f.onDismiss)==null||ce.call(f,f)},className:J(L==null?void 0:L.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Q.isValidElement(f.title)?f.jsx||f.title:Q.createElement(Q.Fragment,null,pt||f.icon||f.promise?Q.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Jf():null,f.type!=="loading"?f.icon||(V==null?void 0:V[pt])||YM(pt):null):null,Q.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?Q.createElement("div",{"data-description":"",className:J(D,Yf,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),Q.isValidElement(f.cancel)?f.cancel:f.cancel&&Ku(f.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:ce=>{var Ue,Ve;Ku(f.cancel)&&dr&&((Ve=(Ue=f.cancel).onClick)==null||Ve.call(Ue,ce),hr())},className:J(L==null?void 0:L.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,Q.isValidElement(f.action)?f.action:f.action&&Ku(f.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:ce=>{var Ue,Ve;Ku(f.action)&&(ce.defaultPrevented||((Ve=(Ue=f.action).onClick)==null||Ve.call(Ue,ce),hr()))},className:J(L==null?void 0:L.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function K_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var wj=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:d,duration:h,style:p,visibleToasts:f=uj,toastOptions:w,dir:E=K_(),gap:v=pj,loadingIcon:T,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:S,cn:A=yj}=t,[M,j]=Q.useState([]),C=Q.useMemo(()=>Array.from(new Set([n].concat(M.filter(K=>K.position).map(K=>K.position)))),[M,n]),[I,R]=Q.useState([]),[P,k]=Q.useState(!1),[D,N]=Q.useState(!1),[$,Z]=Q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Q.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Q.useRef(null),V=Q.useRef(!1),H=Q.useCallback(K=>{var J;(J=M.find(re=>re.id===K.id))!=null&&J.delete||xn.dismiss(K.id),j(re=>re.filter(({id:_e})=>_e!==K.id))},[M]);return Q.useEffect(()=>xn.subscribe(K=>{if(K.dismiss){j(J=>J.map(re=>re.id===K.id?{...re,delete:!0}:re));return}setTimeout(()=>{RS.flushSync(()=>{j(J=>{let re=J.findIndex(_e=>_e.id===K.id);return re!==-1?[...J.slice(0,re),{...J[re],...K},...J.slice(re+1)]:[K,...J]})})})}),[]),Q.useEffect(()=>{if(l!=="system"){Z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{Z(K?"dark":"light")})},[l]),Q.useEffect(()=>{M.length<=1&&k(!1)},[M]),Q.useEffect(()=>{let K=J=>{var re,_e;r.every($e=>J[$e]||J.code===$e)&&(k(!0),(re=q.current)==null||re.focus()),J.code==="Escape"&&(document.activeElement===q.current||(_e=q.current)!=null&&_e.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),Q.useEffect(()=>{if(q.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,V.current=!1)}},[q.current]),M.length?Q.createElement("section",{"aria-label":`${y} ${se}`,tabIndex:-1},C.map((K,J)=>{var re;let[_e,$e]=K.split("-");return Q.createElement("ol",{key:K,dir:E==="auto"?K_():E,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":_e,"data-x-position":$e,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||dj,"--width":`${fj}px`,"--gap":`${v}px`,...p},onBlur:fe=>{V.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(V.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||V.current||(V.current=!0,L.current=fe.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},M.filter(fe=>!fe.position&&J===0||fe.position===K).map((fe,ne)=>{var xe,Pe;return Q.createElement(vj,{key:fe.id,icons:x,index:ne,toast:fe,defaultRichColors:d,duration:(xe=w==null?void 0:w.duration)!=null?xe:h,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Pe=w==null?void 0:w.closeButton)!=null?Pe:i,interacting:D,position:K,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:H,toasts:M.filter(me=>me.position==fe.position),heights:I.filter(me=>me.position==fe.position),setHeights:R,expandByDefault:s,gap:v,loadingIcon:T,expanded:P,pauseWhenPageIsHidden:S,cn:A})}))})):null};const _j=({...t})=>{const{theme:e="system"}=QM();return u.jsx(wj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var xj=I1.useId||(()=>{}),Ej=0;function Tr(t){const[e,n]=g.useState(xj());return Xt(()=>{n(r=>r??String(Ej++))},[t]),e?`radix-${e}`:""}const Tj=["top","right","bottom","left"],ei=Math.min,Tn=Math.max,rh=Math.round,qu=Math.floor,ti=t=>({x:t,y:t}),Sj={left:"right",right:"left",bottom:"top",top:"bottom"},Ij={start:"end",end:"start"};function pg(t,e,n){return Tn(t,ei(e,n))}function Jr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function av(t){return t==="x"?"y":"x"}function lv(t){return t==="y"?"height":"width"}function ni(t){return["top","bottom"].includes(Zr(t))?"y":"x"}function cv(t){return av(ni(t))}function Cj(t,e,n){n===void 0&&(n=!1);const r=Oa(t),s=cv(t),i=lv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sh(o)),[o,sh(o)]}function bj(t){const e=sh(t);return[mg(t),e,mg(e)]}function mg(t){return t.replace(/start|end/g,e=>Ij[e])}function Rj(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Aj(t,e,n,r){const s=Oa(t);let i=Rj(Zr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(mg)))),i}function sh(t){return t.replace(/left|right|bottom|top/g,e=>Sj[e])}function Pj(t){return{top:0,right:0,bottom:0,left:0,...t}}function yI(t){return typeof t!="number"?Pj(t):{top:t,right:t,bottom:t,left:t}}function ih(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function q_(t,e,n){let{reference:r,floating:s}=t;const i=ni(e),o=cv(e),a=lv(o),l=Zr(e),d=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let w;switch(l){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-s.width,y:p};break;default:w={x:r.x,y:r.y}}switch(Oa(e)){case"start":w[o]-=f*(n&&d?-1:1);break;case"end":w[o]+=f*(n&&d?-1:1);break}return w}const Nj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=q_(d,r,l),f=r,w={},E=0;for(let v=0;v<a.length;v++){const{name:T,fn:x}=a[v],{x:y,y:S,data:A,reset:M}=await x({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,p=S??p,w={...w,[T]:{...w[T],...A}},M&&E<=50&&(E++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:h,y:p}=q_(d,f,l)),v=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:w}};async function mc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:w=0}=Jr(e,t),E=yI(w),T=a[f?p==="floating"?"reference":"floating":p],x=ih(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),y=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},M=ih(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(x.top-M.top+E.top)/A.y,bottom:(M.bottom-x.bottom+E.bottom)/A.y,left:(x.left-M.left+E.left)/A.x,right:(M.right-x.right+E.right)/A.x}}const kj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=Jr(t,e)||{};if(d==null)return{};const p=yI(h),f={x:n,y:r},w=cv(s),E=lv(w),v=await o.getDimensions(d),T=w==="y",x=T?"top":"left",y=T?"bottom":"right",S=T?"clientHeight":"clientWidth",A=i.reference[E]+i.reference[w]-f[w]-i.floating[E],M=f[w]-i.reference[w],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=j?j[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[S]||i.floating[E]);const I=A/2-M/2,R=C/2-v[E]/2-1,P=ei(p[x],R),k=ei(p[y],R),D=P,N=C-v[E]-k,$=C/2-v[E]/2+I,Z=pg(D,$,N),q=!l.arrow&&Oa(s)!=null&&$!==Z&&i.reference[E]/2-($<D?P:k)-v[E]/2<0,se=q?$<D?$-D:$-N:0;return{[w]:f[w]+se,data:{[w]:Z,centerOffset:$-Z-se,...q&&{alignmentOffset:se}},reset:q}}}),Dj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,...T}=Jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Zr(s),y=ni(a),S=Zr(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(d.floating)),M=f||(S||!v?[sh(a)]:bj(a)),j=E!=="none";!f&&j&&M.push(...Aj(a,v,E,A));const C=[a,...M],I=await mc(e,T),R=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&R.push(I[x]),p){const $=Cj(s,o,A);R.push(I[$[0]],I[$[1]])}if(P=[...P,{placement:s,overflows:R}],!R.every($=>$<=0)){var k,D;const $=(((k=i.flip)==null?void 0:k.index)||0)+1,Z=C[$];if(Z)return{data:{index:$,overflows:P},reset:{placement:Z}};let q=(D=P.filter(se=>se.overflows[0]<=0).sort((se,L)=>se.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(w){case"bestFit":{var N;const se=(N=P.filter(L=>{if(j){const V=ni(L.placement);return V===y||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:N[0];se&&(q=se);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function G_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Q_(t){return Tj.some(e=>t[e]>=0)}const Mj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Jr(t,e);switch(r){case"referenceHidden":{const i=await mc(e,{...s,elementContext:"reference"}),o=G_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q_(o)}}}case"escaped":{const i=await mc(e,{...s,altBoundary:!0}),o=G_(i,n.floating);return{data:{escapedOffsets:o,escaped:Q_(o)}}}default:return{}}}}};async function jj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zr(n),a=Oa(n),l=ni(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=Jr(e,t);let{mainAxis:f,crossAxis:w,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof E=="number"&&(w=a==="end"?E*-1:E),l?{x:w*h,y:f*d}:{x:f*d,y:w*h}}const Oj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await jj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Lj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y}=T;return{x,y}}},...l}=Jr(t,e),d={x:n,y:r},h=await mc(e,l),p=ni(Zr(s)),f=av(p);let w=d[f],E=d[p];if(i){const T=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=w+h[T],S=w-h[x];w=pg(y,w,S)}if(o){const T=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=E+h[T],S=E-h[x];E=pg(y,E,S)}const v=a.fn({...e,[f]:w,[p]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[p]:o}}}}}},Vj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=Jr(t,e),h={x:n,y:r},p=ni(s),f=av(p);let w=h[f],E=h[p];const v=Jr(a,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=f==="y"?"height":"width",A=i.reference[f]-i.floating[S]+T.mainAxis,M=i.reference[f]+i.reference[S]-T.mainAxis;w<A?w=A:w>M&&(w=M)}if(d){var x,y;const S=f==="y"?"width":"height",A=["top","left"].includes(Zr(s)),M=i.reference[p]-i.floating[S]+(A&&((x=o.offset)==null?void 0:x[p])||0)+(A?0:T.crossAxis),j=i.reference[p]+i.reference[S]+(A?0:((y=o.offset)==null?void 0:y[p])||0)-(A?T.crossAxis:0);E<M?E=M:E>j&&(E=j)}return{[f]:w,[p]:E}}}},Fj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=Jr(t,e),h=await mc(e,d),p=Zr(s),f=Oa(s),w=ni(s)==="y",{width:E,height:v}=i.floating;let T,x;p==="top"||p==="bottom"?(T=p,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,T=f==="end"?"top":"bottom");const y=v-h.top-h.bottom,S=E-h.left-h.right,A=ei(v-h[T],y),M=ei(E-h[x],S),j=!e.middlewareData.shift;let C=A,I=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),j&&!f){const P=Tn(h.left,0),k=Tn(h.right,0),D=Tn(h.top,0),N=Tn(h.bottom,0);w?I=E-2*(P!==0||k!==0?P+k:Tn(h.left,h.right)):C=v-2*(D!==0||N!==0?D+N:Tn(h.top,h.bottom))}await l({...e,availableWidth:I,availableHeight:C});const R=await o.getDimensions(a.floating);return E!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function nf(){return typeof window<"u"}function La(t){return vI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kr(t){var e;return(e=(vI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vI(t){return nf()?t instanceof Node||t instanceof bn(t).Node:!1}function sr(t){return nf()?t instanceof Element||t instanceof bn(t).Element:!1}function Pr(t){return nf()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function Y_(t){return!nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}function Gc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Uj(t){return["table","td","th"].includes(La(t))}function rf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function uv(t){const e=dv(),n=sr(t)?ir(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $j(t){let e=ri(t);for(;Pr(e)&&!wa(e);){if(uv(e))return e;if(rf(e))return null;e=ri(e)}return null}function dv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wa(t){return["html","body","#document"].includes(La(t))}function ir(t){return bn(t).getComputedStyle(t)}function sf(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ri(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Y_(t)&&t.host||kr(t);return Y_(e)?e.host:e}function wI(t){const e=ri(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pr(e)&&Gc(e)?e:wI(e)}function gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=bn(s);if(i){const a=gg(o);return e.concat(o,o.visualViewport||[],Gc(s)?s:[],a&&n?gc(a):[])}return e.concat(s,gc(s,[],n))}function gg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _I(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Pr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=rh(n)!==i||rh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function hv(t){return sr(t)?t:t.contextElement}function Yo(t){const e=hv(t);if(!Pr(e))return ti(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=_I(e);let o=(i?rh(n.width):n.width)/r,a=(i?rh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Bj=ti(0);function xI(t){const e=bn(t);return!dv()||!e.visualViewport?Bj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=hv(t);let o=ti(1);e&&(r?sr(r)&&(o=Yo(r)):o=Yo(t));const a=zj(i,n,r)?xI(i):ti(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=bn(i),w=r&&sr(r)?bn(r):r;let E=f,v=gg(E);for(;v&&r&&w!==E;){const T=Yo(v),x=v.getBoundingClientRect(),y=ir(v),S=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*T.x,A=x.top+(v.clientTop+parseFloat(y.paddingTop))*T.y;l*=T.x,d*=T.y,h*=T.x,p*=T.y,l+=S,d+=A,E=bn(v),v=gg(E)}}return ih({width:h,height:p,x:l,y:d})}function Wj(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=kr(r),a=e?rf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=ti(1);const h=ti(0),p=Pr(r);if((p||!p&&!i)&&((La(r)!=="body"||Gc(o))&&(l=sf(r)),Pr(r))){const f=Gi(r);d=Yo(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x,y:n.y*d.y-l.scrollTop*d.y+h.y}}function Hj(t){return Array.from(t.getClientRects())}function yg(t,e){const n=sf(t).scrollLeft;return e?e.left+n:Gi(kr(t)).left+n}function Kj(t){const e=kr(t),n=sf(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yg(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function qj(t,e){const n=bn(t),r=kr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=dv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Gj(t,e){const n=Gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Pr(t)?Yo(t):ti(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function X_(t,e,n){let r;if(e==="viewport")r=qj(t,n);else if(e==="document")r=Kj(kr(t));else if(sr(e))r=Gj(e,n);else{const s=xI(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ih(r)}function EI(t,e){const n=ri(t);return n===e||!sr(n)||wa(n)?!1:ir(n).position==="fixed"||EI(n,e)}function Qj(t,e){const n=e.get(t);if(n)return n;let r=gc(t,[],!1).filter(a=>sr(a)&&La(a)!=="body"),s=null;const i=ir(t).position==="fixed";let o=i?ri(t):t;for(;sr(o)&&!wa(o);){const a=ir(o),l=uv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gc(o)&&!l&&EI(t,o))?r=r.filter(h=>h!==o):s=a,o=ri(o)}return e.set(t,r),r}function Yj(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rf(e)?[]:Qj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const p=X_(e,h,s);return d.top=Tn(p.top,d.top),d.right=ei(p.right,d.right),d.bottom=ei(p.bottom,d.bottom),d.left=Tn(p.left,d.left),d},X_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xj(t){const{width:e,height:n}=_I(t);return{width:e,height:n}}function Jj(t,e,n){const r=Pr(e),s=kr(e),i=n==="fixed",o=Gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ti(0);if(r||!r&&!i)if((La(e)!=="body"||Gc(s))&&(a=sf(e)),r){const w=Gi(e,!0,i,e);l.x=w.x+e.clientLeft,l.y=w.y+e.clientTop}else s&&(l.x=yg(s));let d=0,h=0;if(s&&!r&&!i){const w=s.getBoundingClientRect();h=w.top+a.scrollTop,d=w.left+a.scrollLeft-yg(s,w)}const p=o.left+a.scrollLeft-l.x-d,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Bp(t){return ir(t).position==="static"}function J_(t,e){if(!Pr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kr(t)===n&&(n=n.ownerDocument.body),n}function TI(t,e){const n=bn(t);if(rf(t))return n;if(!Pr(t)){let s=ri(t);for(;s&&!wa(s);){if(sr(s)&&!Bp(s))return s;s=ri(s)}return n}let r=J_(t,e);for(;r&&Uj(r)&&Bp(r);)r=J_(r,e);return r&&wa(r)&&Bp(r)&&!uv(r)?n:r||$j(t)||n}const Zj=async function(t){const e=this.getOffsetParent||TI,n=this.getDimensions,r=await n(t.floating);return{reference:Jj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eO(t){return ir(t).direction==="rtl"}const tO={convertOffsetParentRelativeRectToViewportRelativeRect:Wj,getDocumentElement:kr,getClippingRect:Yj,getOffsetParent:TI,getElementRects:Zj,getClientRects:Hj,getDimensions:Xj,getScale:Yo,isElement:sr,isRTL:eO};function nO(t,e){let n=null,r;const s=kr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:d,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const w=qu(h),E=qu(s.clientWidth-(d+p)),v=qu(s.clientHeight-(h+f)),T=qu(d),y={rootMargin:-w+"px "+-E+"px "+-v+"px "+-T+"px",threshold:Tn(0,ei(1,l))||1};let S=!0;function A(M){const j=M[0].intersectionRatio;if(j!==l){if(!S)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function rO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=hv(t),h=s||i?[...d?gc(d):[],...gc(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=d&&a?nO(d,n):null;let f=-1,w=null;o&&(w=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(e)})),n()}),d&&!l&&w.observe(d),w.observe(e));let E,v=l?Gi(t):null;l&&T();function T(){const x=Gi(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,E=requestAnimationFrame(T)}return n(),()=>{var x;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),p==null||p(),(x=w)==null||x.disconnect(),w=null,l&&cancelAnimationFrame(E)}}const sO=Oj,iO=Lj,oO=Dj,aO=Fj,lO=Mj,Z_=kj,cO=Vj,uO=(t,e,n)=>{const r=new Map,s={platform:tO,...n},i={...s.platform,_c:r};return Nj(t,e,{...s,platform:i})};var _d=typeof document<"u"?g.useLayoutEffect:g.useEffect;function oh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!oh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!oh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function SI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ex(t,e){const n=SI(t);return Math.round(e*n)/n}function zp(t){const e=g.useRef(t);return _d(()=>{e.current=t}),e}function dO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,w]=g.useState(r);oh(f,r)||w(r);const[E,v]=g.useState(null),[T,x]=g.useState(null),y=g.useCallback(L=>{L!==j.current&&(j.current=L,v(L))},[]),S=g.useCallback(L=>{L!==C.current&&(C.current=L,x(L))},[]),A=i||E,M=o||T,j=g.useRef(null),C=g.useRef(null),I=g.useRef(h),R=l!=null,P=zp(l),k=zp(s),D=zp(d),N=g.useCallback(()=>{if(!j.current||!C.current)return;const L={placement:e,strategy:n,middleware:f};k.current&&(L.platform=k.current),uO(j.current,C.current,L).then(V=>{const H={...V,isPositioned:D.current!==!1};$.current&&!oh(I.current,H)&&(I.current=H,io.flushSync(()=>{p(H)}))})},[f,e,n,k,D]);_d(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[d]);const $=g.useRef(!1);_d(()=>($.current=!0,()=>{$.current=!1}),[]),_d(()=>{if(A&&(j.current=A),M&&(C.current=M),A&&M){if(P.current)return P.current(A,M,N);N()}},[A,M,N,P,R]);const Z=g.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:S}),[y,S]),q=g.useMemo(()=>({reference:A,floating:M}),[A,M]),se=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const V=ex(q.floating,h.x),H=ex(q.floating,h.y);return a?{...L,transform:"translate("+V+"px, "+H+"px)",...SI(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:H}},[n,a,q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:N,refs:Z,elements:q,floatingStyles:se}),[h,N,Z,q,se])}const hO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Z_({element:r.current,padding:s}).fn(n):{}:r?Z_({element:r,padding:s}).fn(n):{}}}},fO=(t,e)=>({...sO(t),options:[t,e]}),pO=(t,e)=>({...iO(t),options:[t,e]}),mO=(t,e)=>({...cO(t),options:[t,e]}),gO=(t,e)=>({...oO(t),options:[t,e]}),yO=(t,e)=>({...aO(t),options:[t,e]}),vO=(t,e)=>({...lO(t),options:[t,e]}),wO=(t,e)=>({...hO(t),options:[t,e]});var _O="Arrow",II=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});II.displayName=_O;var xO=II;function EO(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function d(p){const{scope:f,children:w,...E}=p,v=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return u.jsx(v.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,TO(s,...e)]}function TO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function SO(t){const[e,n]=g.useState(void 0);return Xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fv="Popper",[CI,Va]=EO(fv),[IO,bI]=CI(fv),RI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return u.jsx(IO,{scope:e,anchor:r,onAnchorChange:s,children:n})};RI.displayName=fv;var AI="PopperAnchor",PI=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=bI(AI,n),o=g.useRef(null),a=je(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(he.div,{...s,ref:a})});PI.displayName=AI;var pv="PopperContent",[CO,bO]=CI(pv),NI=g.forwardRef((t,e)=>{var ne,xe,Pe,me,be,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:w="optimized",onPlaced:E,...v}=t,T=bI(pv,n),[x,y]=g.useState(null),S=je(e,_t=>y(_t)),[A,M]=g.useState(null),j=SO(A),C=(j==null?void 0:j.width)??0,I=(j==null?void 0:j.height)??0,R=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(d)?d:[d],D=k.length>0,N={padding:P,boundary:k.filter(AO),altBoundary:D},{refs:$,floatingStyles:Z,placement:q,isPositioned:se,middlewareData:L}=dO({strategy:"fixed",placement:R,whileElementsMounted:(..._t)=>rO(..._t,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[fO({mainAxis:s+I,alignmentAxis:o}),l&&pO({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?mO():void 0,...N}),l&&gO({...N}),yO({...N,apply:({elements:_t,rects:At,availableWidth:kn,availableHeight:Zt})=>{const{width:Dr,height:Xa}=At.reference,pt=_t.floating.style;pt.setProperty("--radix-popper-available-width",`${kn}px`),pt.setProperty("--radix-popper-available-height",`${Zt}px`),pt.setProperty("--radix-popper-anchor-width",`${Dr}px`),pt.setProperty("--radix-popper-anchor-height",`${Xa}px`)}}),A&&wO({element:A,padding:a}),PO({arrowWidth:C,arrowHeight:I}),f&&vO({strategy:"referenceHidden",...N})]}),[V,H]=MI(q),K=Yt(E);Xt(()=>{se&&(K==null||K())},[se,K]);const J=(ne=L.arrow)==null?void 0:ne.x,re=(xe=L.arrow)==null?void 0:xe.y,_e=((Pe=L.arrow)==null?void 0:Pe.centerOffset)!==0,[$e,fe]=g.useState();return Xt(()=>{x&&fe(window.getComputedStyle(x).zIndex)},[x]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:se?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(me=L.transformOrigin)==null?void 0:me.x,(be=L.transformOrigin)==null?void 0:be.y].join(" "),...((Ee=L.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(CO,{scope:n,placedSide:V,onArrowChange:M,arrowX:J,arrowY:re,shouldHideArrow:_e,children:u.jsx(he.div,{"data-side":V,"data-align":H,...v,ref:S,style:{...v.style,animation:se?void 0:"none"}})})})});NI.displayName=pv;var kI="PopperArrow",RO={top:"bottom",right:"left",bottom:"top",left:"right"},DI=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=bO(kI,r),o=RO[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(xO,{...s,ref:n,style:{...s.style,display:"block"}})})});DI.displayName=kI;function AO(t){return t!==null}var PO=t=>({name:"transformOrigin",options:t,fn(e){var T,x,y;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=MI(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,w=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let E="",v="";return d==="bottom"?(E=o?p:`${f}px`,v=`${-l}px`):d==="top"?(E=o?p:`${f}px`,v=`${r.floating.height+l}px`):d==="right"?(E=`${-l}px`,v=o?p:`${w}px`):d==="left"&&(E=`${r.floating.width+l}px`,v=o?p:`${w}px`),{data:{x:E,y:v}}}});function MI(t){const[e,n="center"]=t.split("-");return[e,n]}var jI=RI,mv=PI,gv=NI,yv=DI,[of,m8]=ao("Tooltip",[Va]),vv=Va(),OI="TooltipProvider",NO=700,tx="tooltip.open",[kO,LI]=of(OI),VI=t=>{const{__scopeTooltip:e,delayDuration:n=NO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),d=g.useRef(0);return g.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),u.jsx(kO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};VI.displayName=OI;var FI="Tooltip",[g8,af]=of(FI),vg="TooltipTrigger",DO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=af(vg,n),i=LI(vg,n),o=vv(n),a=g.useRef(null),l=je(e,a,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(mv,{asChild:!0,...o,children:u.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Y(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Y(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Y(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Y(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Y(t.onBlur,s.onClose),onClick:Y(t.onClick,s.onClose)})})});DO.displayName=vg;var MO="TooltipPortal",[y8,jO]=of(MO,{forceMount:void 0}),_a="TooltipContent",UI=g.forwardRef((t,e)=>{const n=jO(_a,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=af(_a,t.__scopeTooltip);return u.jsx(cr,{present:r||o.open,children:o.disableHoverableContent?u.jsx($I,{side:s,...i,ref:e}):u.jsx(OO,{side:s,...i,ref:e})})}),OO=g.forwardRef((t,e)=>{const n=af(_a,t.__scopeTooltip),r=LI(_a,t.__scopeTooltip),s=g.useRef(null),i=je(e,s),[o,a]=g.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),w=g.useCallback((E,v)=>{const T=E.currentTarget,x={x:E.clientX,y:E.clientY},y=UO(x,T.getBoundingClientRect()),S=$O(x,y),A=BO(v.getBoundingClientRect()),M=WO([...S,...A]);a(M),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&h){const E=T=>w(T,h),v=T=>w(T,l);return l.addEventListener("pointerleave",E),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",v)}}},[l,h,w,f]),g.useEffect(()=>{if(o){const E=v=>{const T=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(T))||(h==null?void 0:h.contains(T)),S=!zO(x,o);y?f():S&&(f(),d())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,h,o,d,f]),u.jsx($I,{...t,ref:i})}),[LO,VO]=of(FI,{isInside:!1}),$I=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=af(_a,n),d=vv(n),{onClose:h}=l;return g.useEffect(()=>(document.addEventListener(tx,h),()=>document.removeEventListener(tx,h)),[h]),g.useEffect(()=>{if(l.trigger){const p=f=>{const w=f.target;w!=null&&w.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),u.jsx(Da,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:u.jsxs(gv,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(PS,{children:r}),u.jsx(LO,{scope:n,isInside:!0,children:u.jsx(OD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});UI.displayName=_a;var BI="TooltipArrow",FO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vv(n);return VO(BI,n).isInside?null:u.jsx(yv,{...s,...r,ref:e})});FO.displayName=BI;function UO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $O(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function BO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function zO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,d=e[o].x,h=e[o].y;l>r!=h>r&&n<(d-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function WO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HO(e)}function HO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var KO=VI,zI=UI;const qO=KO,GO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(zI,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GO.displayName=zI.displayName;var lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cf=typeof window>"u"||"Deno"in globalThis;function Qn(){}function QO(t,e){return typeof t=="function"?t(e):t}function YO(t){return typeof t=="number"&&t>=0&&t!==1/0}function XO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nx(t,e){return typeof t=="function"?t(e):t}function JO(t,e){return typeof t=="function"?t(e):t}function rx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wv(o,e.options))return!1}else if(!vc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function sx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(yc(e.options.mutationKey)!==yc(i))return!1}else if(!vc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function wv(t,e){return((e==null?void 0:e.queryKeyHashFn)||yc)(t)}function yc(t){return JSON.stringify(t,(e,n)=>wg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vc(t[n],e[n])):!1}function WI(t,e){if(t===e)return t;const n=ix(t)&&ix(e);if(n||wg(t)&&wg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=WI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ix(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wg(t){if(!ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ox(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZO(t){return new Promise(e=>{setTimeout(e,t)})}function eL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WI(t,e):e}function tL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _v=Symbol();function HI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mi,bs,ra,o1,rL=(o1=class extends lf{constructor(){super();Oe(this,Mi);Oe(this,bs);Oe(this,ra);ge(this,ra,e=>{if(!cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,bs)||this.setEventListener(z(this,ra))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,bs))==null||e.call(this),ge(this,bs,void 0))}setEventListener(e){var n;ge(this,ra,e),(n=z(this,bs))==null||n.call(this),ge(this,bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Mi)!==e&&(ge(this,Mi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Mi)=="boolean"?z(this,Mi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mi=new WeakMap,bs=new WeakMap,ra=new WeakMap,o1),KI=new rL,sa,Rs,ia,a1,sL=(a1=class extends lf{constructor(){super();Oe(this,sa,!0);Oe(this,Rs);Oe(this,ia);ge(this,ia,e=>{if(!cf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Rs)||this.setEventListener(z(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Rs))==null||e.call(this),ge(this,Rs,void 0))}setEventListener(e){var n;ge(this,ia,e),(n=z(this,Rs))==null||n.call(this),ge(this,Rs,e(this.setOnline.bind(this)))}setOnline(e){z(this,sa)!==e&&(ge(this,sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,sa)}},sa=new WeakMap,Rs=new WeakMap,ia=new WeakMap,a1),ah=new sL;function iL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function oL(t){return Math.min(1e3*2**t,3e4)}function qI(t){return(t??"online")==="online"?ah.isOnline():!0}var GI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wp(t){return t instanceof GI}function QI(t){let e=!1,n=0,r=!1,s;const i=iL(),o=v=>{var T;r||(f(new GI(v)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>KI.isFocused()&&(t.networkMode==="always"||ah.isOnline())&&t.canRun(),h=()=>qI(t.networkMode)&&t.canRun(),p=v=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,v),s==null||s(),i.reject(v))},w=()=>new Promise(v=>{var T;s=x=>{(r||d())&&v(x)},(T=t.onPause)==null||T.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),E=()=>{if(r)return;let v;const T=n===0?t.initialPromise:void 0;try{v=T??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(p).catch(x=>{var j;if(r)return;const y=t.retry??(cf?0:3),S=t.retryDelay??oL,A=typeof S=="function"?S(n,x):S,M=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(e||!M){f(x);return}n++,(j=t.onFail)==null||j.call(t,n,x),ZO(A).then(()=>d()?void 0:w()).then(()=>{e?f(x):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?E():w().then(E),i)}}function aL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var rn=aL(),ji,l1,YI=(l1=class{constructor(){Oe(this,ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YO(this.gcTime)&&ge(this,ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cf?1/0:5*60*1e3))}clearGcTimeout(){z(this,ji)&&(clearTimeout(z(this,ji)),ge(this,ji,void 0))}},ji=new WeakMap,l1),oa,aa,Dn,Wt,Lc,Oi,Yn,Fr,c1,lL=(c1=class extends YI{constructor(n){super();Oe(this,Yn);Oe(this,oa);Oe(this,aa);Oe(this,Dn);Oe(this,Wt);Oe(this,Lc);Oe(this,Oi);ge(this,Oi,!1),ge(this,Lc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,Dn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,oa,uL(this.options)),this.state=n.state??z(this,oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Wt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Lc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Dn).remove(this)}setData(n,r){const s=eL(this.state.data,n,this.options);return Ut(this,Yn,Fr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ut(this,Yn,Fr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,Wt))==null?void 0:s.promise;return(i=z(this,Wt))==null||i.cancel(n),r?r.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,oa))}isActive(){return this.observers.some(n=>JO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!XO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Wt)&&(z(this,Oi)?z(this,Wt).cancel({revert:!0}):z(this,Wt).cancelRetry()),this.scheduleGc()),z(this,Dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Yn,Fr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Wt))return z(this,Wt).continueRetry(),z(this,Wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(w=>w.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ge(this,Oi,!0),s.signal)})},o=()=>{const f=HI(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return i(w),ge(this,Oi,!1),this.options.persister?this.options.persister(f,w,this):f(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),ge(this,aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Ut(this,Yn,Fr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var w,E,v,T;Wp(f)&&f.silent||Ut(this,Yn,Fr).call(this,{type:"error",error:f}),Wp(f)||((E=(w=z(this,Dn).config).onError)==null||E.call(w,f,this),(T=(v=z(this,Dn).config).onSettled)==null||T.call(v,this.state.data,f,this)),this.scheduleGc()};return ge(this,Wt,QI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var w,E,v,T;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(E=(w=z(this,Dn).config).onSuccess)==null||E.call(w,f,this),(T=(v=z(this,Dn).config).onSettled)==null||T.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,w)=>{Ut(this,Yn,Fr).call(this,{type:"failed",failureCount:f,error:w})},onPause:()=>{Ut(this,Yn,Fr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Yn,Fr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Wt).start()}},oa=new WeakMap,aa=new WeakMap,Dn=new WeakMap,Wt=new WeakMap,Lc=new WeakMap,Oi=new WeakMap,Yn=new WeakSet,Fr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cL(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Wp(i)&&i.revert&&z(this,aa)?{...z(this,aa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Dn).notify({query:this,type:"updated",action:n})})},c1);function cL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,u1,dL=(u1=class extends lf{constructor(e={}){super();Oe(this,gr);this.config=e,ge(this,gr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??wv(s,n);let o=this.get(i);return o||(o=new lL({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,gr).has(e.queryHash)||(z(this,gr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,gr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,gr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,gr).get(e)}getAll(){return[...z(this,gr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>rx(e,r)):n}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gr=new WeakMap,u1),yr,tn,Li,vr,ys,d1,hL=(d1=class extends YI{constructor(n){super();Oe(this,vr);Oe(this,yr);Oe(this,tn);Oe(this,Li);this.mutationId=n.mutationId,ge(this,tn,n.mutationCache),ge(this,yr,[]),this.state=n.state||fL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,yr).includes(n)||(z(this,yr).push(n),this.clearGcTimeout(),z(this,tn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,yr,z(this,yr).filter(r=>r!==n)),this.scheduleGc(),z(this,tn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,yr).length||(this.state.status==="pending"?this.scheduleGc():z(this,tn).remove(this))}continue(){var n;return((n=z(this,Li))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,d,h,p,f,w,E,v,T,x,y,S,A,M,j,C,I;ge(this,Li,QI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{Ut(this,vr,ys).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{Ut(this,vr,ys).call(this,{type:"pause"})},onContinue:()=>{Ut(this,vr,ys).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,tn).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Li).canStart();try{if(!r){Ut(this,vr,ys).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=z(this,tn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Ut(this,vr,ys).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const R=await z(this,Li).start();return await((h=(d=z(this,tn).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,R,n,this.state.context)),await((E=(w=z(this,tn).config).onSettled)==null?void 0:E.call(w,R,null,this.state.variables,this.state.context,this)),await((T=(v=this.options).onSettled)==null?void 0:T.call(v,R,null,n,this.state.context)),Ut(this,vr,ys).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(x=z(this,tn).config).onError)==null?void 0:y.call(x,R,n,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,R,n,this.state.context)),await((j=(M=z(this,tn).config).onSettled)==null?void 0:j.call(M,void 0,R,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,R,n,this.state.context)),R}finally{Ut(this,vr,ys).call(this,{type:"error",error:R})}}finally{z(this,tn).runNext(this)}}},yr=new WeakMap,tn=new WeakMap,Li=new WeakMap,vr=new WeakSet,ys=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{z(this,yr).forEach(s=>{s.onMutationUpdate(n)}),z(this,tn).notify({mutation:this,type:"updated",action:n})})},d1);function fL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,Vc,h1,pL=(h1=class extends lf{constructor(e={}){super();Oe(this,_n);Oe(this,Vc);this.config=e,ge(this,_n,new Map),ge(this,Vc,Date.now())}build(e,n,r){const s=new hL({mutationCache:this,mutationId:++Cu(this,Vc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Gu(e),r=z(this,_n).get(n)??[];r.push(e),z(this,_n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Gu(e);if(z(this,_n).has(n)){const s=(r=z(this,_n).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?z(this,_n).delete(n):z(this,_n).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,_n).get(Gu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,_n).get(Gu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,_n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sx(n,r))}findAll(e={}){return this.getAll().filter(n=>sx(e,n))}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qn))))}},_n=new WeakMap,Vc=new WeakMap,h1);function Gu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ax(t){return{onFetch:(e,n)=>{var h,p,f,w,E;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let v=!1;const T=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=HI(e.options,e.fetchOptions),y=async(S,A,M)=>{if(v)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:A,direction:M?"backward":"forward",meta:e.options.meta};T(j);const C=await x(j),{maxPages:I}=e.options,R=M?nL:tL;return{pages:R(S.pages,C,I),pageParams:R(S.pageParams,A,I)}};if(s&&i.length){const S=s==="backward",A=S?mL:lx,M={pages:i,pageParams:o},j=A(r,M);a=await y(M,j,S)}else{const S=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:lx(r,a);if(l>0&&A==null)break;a=await y(a,A),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,T;return(T=(v=e.options).persister)==null?void 0:T.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function lx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ot,As,Ps,la,ca,Ns,ua,da,f1,gL=(f1=class{constructor(t={}){Oe(this,ot);Oe(this,As);Oe(this,Ps);Oe(this,la);Oe(this,ca);Oe(this,Ns);Oe(this,ua);Oe(this,da);ge(this,ot,t.queryCache||new dL),ge(this,As,t.mutationCache||new pL),ge(this,Ps,t.defaultOptions||{}),ge(this,la,new Map),ge(this,ca,new Map),ge(this,Ns,0)}mount(){Cu(this,Ns)._++,z(this,Ns)===1&&(ge(this,ua,KI.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onFocus())})),ge(this,da,ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onOnline())})))}unmount(){var t,e;Cu(this,Ns)._--,z(this,Ns)===0&&((t=z(this,ua))==null||t.call(this),ge(this,ua,void 0),(e=z(this,da))==null||e.call(this),ge(this,da,void 0))}isFetching(t){return z(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,ot).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(nx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,ot).get(r.queryHash),i=s==null?void 0:s.state.data,o=QO(e,i);if(o!==void 0)return z(this,ot).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return rn.batch(()=>z(this,ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ot);rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ot),r={type:"active",...t};return rn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=rn.batch(()=>z(this,ot).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(t={},e={}){return rn.batch(()=>{if(z(this,ot).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=rn.batch(()=>z(this,ot).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ot).build(this,e);return n.isStaleByTime(nx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qn).catch(Qn)}fetchInfiniteQuery(t){return t.behavior=ax(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qn).catch(Qn)}ensureInfiniteQueryData(t){return t.behavior=ax(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ah.isOnline()?z(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ot)}getMutationCache(){return z(this,As)}getDefaultOptions(){return z(this,Ps)}setDefaultOptions(t){ge(this,Ps,t)}setQueryDefaults(t,e){z(this,la).set(yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,la).values()];let n={};return e.forEach(r=>{vc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,ca).set(yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,ca).values()];let n={};return e.forEach(r=>{vc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ot).clear(),z(this,As).clear()}},ot=new WeakMap,As=new WeakMap,Ps=new WeakMap,la=new WeakMap,ca=new WeakMap,Ns=new WeakMap,ua=new WeakMap,da=new WeakMap,f1),yL=g.createContext(void 0),vL=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(yL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const cx="popstate";function wL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return _g("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lh(s)}return xL(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _L(){return Math.random().toString(36).substr(2,8)}function ux(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n,r){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fa(e):e,{state:n,key:e&&e.key||r||_L()})}function lh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ms.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(wc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Ms.Pop;let T=h(),x=T==null?null:T-d;d=T,l&&l({action:a,location:v.location,delta:x})}function f(T,x){a=Ms.Push;let y=_g(v.location,T,x);d=h()+1;let S=ux(y,d),A=v.createHref(y);try{o.pushState(S,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function w(T,x){a=Ms.Replace;let y=_g(v.location,T,x);d=h();let S=ux(y,d),A=v.createHref(y);o.replaceState(S,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function E(T){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof T=="string"?T:lh(T);return y=y.replace(/ $/,"%20"),ft(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,p),l=T,()=>{s.removeEventListener(cx,p),l=null}},createHref(T){return e(s,T)},createURL:E,encodeLocation(T){let x=E(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:w,go(T){return o.go(T)}};return v}var dx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dx||(dx={}));function EL(t,e,n){return n===void 0&&(n="/"),TL(t,e,n,!1)}function TL(t,e,n,r){let s=typeof e=="string"?Fa(e):e,i=xv(s.pathname||"/",n);if(i==null)return null;let o=JI(t);SL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=jL(i);a=DL(o[l],d,r)}return a}function JI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Ws([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),JI(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:NL(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZI(i.path))s(i,o,l)}),e}function ZI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IL=/^:[\w-]+$/,CL=3,bL=2,RL=1,AL=10,PL=-2,hx=t=>t==="*";function NL(t,e){let n=t.split("/"),r=n.length;return n.some(hx)&&(r+=PL),e&&(r+=bL),n.filter(s=>!hx(s)).reduce((s,i)=>s+(IL.test(i)?CL:i===""?RL:AL),r)}function kL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DL(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),f=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ws([i,p.pathname]),pathnameBase:FL(Ws([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Ws([i,p.pathnameBase]))}return o}function fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ML(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:f,isOptional:w}=h;if(f==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[p];return w&&!E?d[f]=void 0:d[f]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function ML(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fa(t):t;return{pathname:n?n.startsWith("/")?n:LL(n,e):e,search:UL(r),hash:$L(s)}}function LL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ev(t,e){let n=VL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fa(t):(s=wc({},t),ft(!s.pathname||!s.pathname.includes("?"),Hp("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Hp("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Hp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=OL(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),FL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$L=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eC=["post","put","patch","delete"];new Set(eC);const zL=["get",...eC];new Set(zL);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}const Sv=g.createContext(null),WL=g.createContext(null),fi=g.createContext(null),uf=g.createContext(null),pi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=g.createContext(null);function HL(t,e){let{relative:n}=e===void 0?{}:e;Ua()||ft(!1);let{basename:r,navigator:s}=g.useContext(fi),{hash:i,pathname:o,search:a}=rC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ws([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ua(){return g.useContext(uf)!=null}function lo(){return Ua()||ft(!1),g.useContext(uf).location}function nC(t){g.useContext(fi).static||g.useLayoutEffect(t)}function co(){let{isDataRoute:t}=g.useContext(pi);return t?sV():KL()}function KL(){Ua()||ft(!1);let t=g.useContext(Sv),{basename:e,future:n,navigator:r}=g.useContext(fi),{matches:s}=g.useContext(pi),{pathname:i}=lo(),o=JSON.stringify(Ev(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return nC(()=>{a.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=Tv(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ws([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function rC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(fi),{matches:s}=g.useContext(pi),{pathname:i}=lo(),o=JSON.stringify(Ev(s,r.v7_relativeSplatPath));return g.useMemo(()=>Tv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function qL(t,e){return GL(t,e)}function GL(t,e,n,r){Ua()||ft(!1);let{navigator:s}=g.useContext(fi),{matches:i}=g.useContext(pi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=lo(),h;if(e){var p;let T=typeof e=="string"?Fa(e):e;l==="/"||(p=T.pathname)!=null&&p.startsWith(l)||ft(!1),h=T}else h=d;let f=h.pathname||"/",w=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=EL(t,{pathname:w}),v=ZL(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ws([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ws([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&v?g.createElement(uf.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ms.Pop}},v):v}function QL(){let t=rV(),e=BL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const YL=g.createElement(QL,null);class XL extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(pi.Provider,{value:this.props.routeContext},g.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JL(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Sv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(pi.Provider,{value:e},r)}function ZL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||ft(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:f,errors:w}=n,E=p.route.loader&&f[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let w,E=!1,v=null,T=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||YL,l&&(d<0&&f===0?(E=!0,T=null):d===f&&(E=!0,T=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),y=()=>{let S;return w?S=v:E?S=T:p.route.Component?S=g.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,g.createElement(JL,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(XL,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var sC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sC||{}),ch=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ch||{});function eV(t){let e=g.useContext(Sv);return e||ft(!1),e}function tV(t){let e=g.useContext(WL);return e||ft(!1),e}function nV(t){let e=g.useContext(pi);return e||ft(!1),e}function iC(t){let e=nV(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function rV(){var t;let e=g.useContext(tC),n=tV(ch.UseRouteError),r=iC(ch.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sV(){let{router:t}=eV(sC.UseNavigateStable),e=iC(ch.UseNavigateStable),n=g.useRef(!1);return nC(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_c({fromRouteId:e},i)))},[t,e])}function px(t){let{to:e,replace:n,state:r,relative:s}=t;Ua()||ft(!1);let{future:i,static:o}=g.useContext(fi),{matches:a}=g.useContext(pi),{pathname:l}=lo(),d=co(),h=Tv(e,Ev(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function dn(t){ft(!1)}function iV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ms.Pop,navigator:i,static:o=!1,future:a}=t;Ua()&&ft(!1);let l=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:l,navigator:i,static:o,future:_c({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Fa(r));let{pathname:h="/",search:p="",hash:f="",state:w=null,key:E="default"}=r,v=g.useMemo(()=>{let T=xv(h,l);return T==null?null:{location:{pathname:T,search:p,hash:f,state:w,key:E},navigationType:s}},[l,h,p,f,w,E,s]);return v==null?null:g.createElement(fi.Provider,{value:d},g.createElement(uf.Provider,{children:n,value:v}))}function oV(t){let{children:e,location:n}=t;return qL(xg(e),n)}new Promise(()=>{});function xg(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,xg(r.props.children,i));return}r.type!==dn&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function aV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function lV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cV(t,e){return t.button===0&&(!e||e==="_self")&&!lV(t)}const uV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dV="6";try{window.__reactRouterVersion=dV}catch{}const hV="startTransition",mx=I1[hV];function fV(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=wL({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=g.useCallback(p=>{d&&mx?mx(()=>l(p)):l(p)},[l,d]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(iV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const pV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:p}=e,f=aV(e,uV),{basename:w}=g.useContext(fi),E,v=!1;if(typeof d=="string"&&mV.test(d)&&(E=d,pV))try{let S=new URL(window.location.href),A=d.startsWith("//")?new URL(S.protocol+d):new URL(d),M=xv(A.pathname,w);A.origin===S.origin&&M!=null?d=M+A.search+A.hash:v=!0}catch{}let T=HL(d,{relative:s}),x=gV(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function y(S){r&&r(S),S.defaultPrevented||x(S)}return g.createElement("a",Eg({},f,{href:E||T,onClick:v||i?r:y,ref:n,target:l}))});var gx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gx||(gx={}));var yx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yx||(yx={}));function gV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=co(),d=lo(),h=rC(t,{relative:o});return g.useCallback(p=>{if(cV(p,n)){p.preventDefault();let f=r!==void 0?r:lh(d)===lh(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}const yV=()=>{};var vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|d>>6,w=d&63;l||(w=64,o||(f=64)),r.push(n[h],n[p],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new wV;const f=i<<2|a>>4;if(r.push(f),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const E=d<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _V=function(t){const e=oC(t);return aC.encodeByteArray(e,!0)},uh=function(t){return _V(t).replace(/\./g,"")},lC=function(t){try{return aC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=()=>xV().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof vx>"u")return;const t=vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lC(t[1]);return e&&JSON.parse(e)},df=()=>{try{return yV()||EV()||TV()||SV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cC=t=>{var e,n;return(n=(e=df())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},IV=t=>{const e=cC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uC=()=>{var t;return(t=df())==null?void 0:t.config},dC=t=>{var e;return(e=df())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uh(JSON.stringify(n)),uh(JSON.stringify(o)),""].join(".")}const Kl={};function RV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?t.emulator.push(e):t.prod.push(e);return t}function AV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wx=!1;function fC(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Kl[t]===e||Kl[t]||wx)return;Kl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=RV().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,w){f.setAttribute("width","24"),f.setAttribute("id",w),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{wx=!0,o()},f}function h(f,w){f.setAttribute("id",w),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=AV(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(T,v);const A=d();l(y,x),S.append(y,E,T,A),document.body.appendChild(S)}i?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function NV(){var e;const t=(e=df())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jV(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OV(){return!NV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LV(){try{return typeof indexedDB=="object"}catch{return!1}}function VV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FV,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?UV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new os(s,a,r)}}function UV(t,e){return t.replace($V,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $V=/\{\$([^}]+)}/g;function BV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_x(i)&&_x(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zV(t,e){const n=new WV(t,e);return n.subscribe.bind(n)}class WV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kp),s.error===void 0&&(s.error=Kp),s.complete===void 0&&(s.complete=Kp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GV(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qV(t){return t===Ai?void 0:t}function GV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const YV={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},XV=Te.INFO,JV={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},ZV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=JV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=XV,this._logHandler=ZV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const e4=(t,e)=>e.some(n=>t instanceof n);let xx,Ex;function t4(){return xx||(xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n4(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pC=new WeakMap,Tg=new WeakMap,mC=new WeakMap,qp=new WeakMap,Cv=new WeakMap;function r4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pC.set(n,t)}).catch(()=>{}),Cv.set(e,t),e}function s4(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i4(t){Sg=t(Sg)}function o4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gp(this),e,...n);return mC.set(r,e.sort?e.sort():[e]),Hs(r)}:n4().includes(t)?function(...e){return t.apply(Gp(this),e),Hs(pC.get(this))}:function(...e){return Hs(t.apply(Gp(this),e))}}function a4(t){return typeof t=="function"?o4(t):(t instanceof IDBTransaction&&s4(t),e4(t,t4())?new Proxy(t,Sg):t)}function Hs(t){if(t instanceof IDBRequest)return r4(t);if(qp.has(t))return qp.get(t);const e=a4(t);return e!==t&&(qp.set(t,e),Cv.set(e,t)),e}const Gp=t=>Cv.get(t);function l4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Hs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hs(o.result),l.oldVersion,l.newVersion,Hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const c4=["get","getKey","getAll","getAllKeys","count"],u4=["put","add","delete","clear"],Qp=new Map;function Tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=u4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Qp.set(e,i),i}i4(t=>({...t,get:(e,n,r)=>Tx(e,n)||t.get(e,n,r),has:(e,n)=>!!Tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",Sx="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Iv("@firebase/app"),f4="@firebase/app-compat",p4="@firebase/analytics-compat",m4="@firebase/analytics",g4="@firebase/app-check-compat",y4="@firebase/app-check",v4="@firebase/auth",w4="@firebase/auth-compat",_4="@firebase/database",x4="@firebase/data-connect",E4="@firebase/database-compat",T4="@firebase/functions",S4="@firebase/functions-compat",I4="@firebase/installations",C4="@firebase/installations-compat",b4="@firebase/messaging",R4="@firebase/messaging-compat",A4="@firebase/performance",P4="@firebase/performance-compat",N4="@firebase/remote-config",k4="@firebase/remote-config-compat",D4="@firebase/storage",M4="@firebase/storage-compat",j4="@firebase/firestore",O4="@firebase/ai",L4="@firebase/firestore-compat",V4="firebase",F4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",U4={[Ig]:"fire-core",[f4]:"fire-core-compat",[m4]:"fire-analytics",[p4]:"fire-analytics-compat",[y4]:"fire-app-check",[g4]:"fire-app-check-compat",[v4]:"fire-auth",[w4]:"fire-auth-compat",[_4]:"fire-rtdb",[x4]:"fire-data-connect",[E4]:"fire-rtdb-compat",[T4]:"fire-fn",[S4]:"fire-fn-compat",[I4]:"fire-iid",[C4]:"fire-iid-compat",[b4]:"fire-fcm",[R4]:"fire-fcm-compat",[A4]:"fire-perf",[P4]:"fire-perf-compat",[N4]:"fire-rc",[k4]:"fire-rc-compat",[D4]:"fire-gcs",[M4]:"fire-gcs-compat",[j4]:"fire-fst",[L4]:"fire-fst-compat",[O4]:"fire-vertex","fire-js":"fire-js",[V4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,$4=new Map,bg=new Map;function Ix(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(bg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of dh.values())Ix(n,t);for(const n of $4.values())Ix(n,t);return!0}function bv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Qc("app","Firebase",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=F4;function gC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ks.create("bad-app-name",{appName:String(s)});if(n||(n=uC()),!n)throw Ks.create("no-options");const i=dh.get(s);if(i){if(Qi(n,i.options)&&Qi(r,i.config))return i;throw Ks.create("duplicate-app",{appName:s})}const o=new QV(s);for(const l of bg.values())o.addComponent(l);const a=new z4(n,r,o);return dh.set(s,a),a}function yC(t=Cg){const e=dh.get(t);if(!e&&t===Cg&&uC())return gC();if(!e)throw Ks.create("no-app",{appName:t});return e}function qs(t,e,n){let r=U4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}xa(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebase-heartbeat-database",H4=1,xc="firebase-heartbeat-store";let Yp=null;function vC(){return Yp||(Yp=l4(W4,H4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function K4(t){try{const n=(await vC()).transaction(xc),r=await n.objectStore(xc).get(wC(t));return await n.done,r}catch(e){if(e instanceof os)es.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function Cx(t,e){try{const r=(await vC()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,wC(t)),await r.done}catch(n){if(n instanceof os)es.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function wC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1024,G4=30;class Q4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>G4){const o=J4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bx(),{heartbeatsToSend:r,unsentEntries:s}=Y4(this._heartbeatsCache.heartbeats),i=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return es.warn(n),""}}}function bx(){return new Date().toISOString().substring(0,10)}function Y4(t,e=q4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LV()?VV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return uh(JSON.stringify({version:2,heartbeats:t})).length}function J4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){xa(new Yi("platform-logger",e=>new d4(e),"PRIVATE")),xa(new Yi("heartbeat",e=>new Q4(e),"PRIVATE")),qs(Ig,Sx,t),qs(Ig,Sx,"esm2020"),qs("fire-js","")}Z4("");var eF="firebase",tF="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(eF,tF,"app");var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,_C;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function R(){}R.prototype=I.prototype,C.D=I.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(P,k,D){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return I.prototype[k].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,I,R){R||(R=0);var P=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)P[k]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=C.g[0],R=C.g[1],k=C.g[2];var D=C.g[3],N=I+(D^R&(k^D))+P[0]+3614090360&4294967295;I=R+(N<<7&4294967295|N>>>25),N=D+(k^I&(R^k))+P[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(R^D&(I^R))+P[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(I^k&(D^I))+P[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=I+(D^R&(k^D))+P[4]+4118548399&4294967295,I=R+(N<<7&4294967295|N>>>25),N=D+(k^I&(R^k))+P[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(R^D&(I^R))+P[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(I^k&(D^I))+P[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=I+(D^R&(k^D))+P[8]+1770035416&4294967295,I=R+(N<<7&4294967295|N>>>25),N=D+(k^I&(R^k))+P[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(R^D&(I^R))+P[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(I^k&(D^I))+P[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=I+(D^R&(k^D))+P[12]+1804603682&4294967295,I=R+(N<<7&4294967295|N>>>25),N=D+(k^I&(R^k))+P[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(R^D&(I^R))+P[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(I^k&(D^I))+P[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=I+(k^D&(R^k))+P[1]+4129170786&4294967295,I=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(I^R))+P[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^R&(D^I))+P[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^I&(k^D))+P[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(R^k))+P[5]+3593408605&4294967295,I=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(I^R))+P[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^R&(D^I))+P[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^I&(k^D))+P[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(R^k))+P[9]+568446438&4294967295,I=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(I^R))+P[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^R&(D^I))+P[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^I&(k^D))+P[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(R^k))+P[13]+2850285829&4294967295,I=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(I^R))+P[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^R&(D^I))+P[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^I&(k^D))+P[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=I+(R^k^D)+P[5]+4294588738&4294967295,I=R+(N<<4&4294967295|N>>>28),N=D+(I^R^k)+P[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^R)+P[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^I)+P[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=I+(R^k^D)+P[1]+2763975236&4294967295,I=R+(N<<4&4294967295|N>>>28),N=D+(I^R^k)+P[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^R)+P[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^I)+P[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=I+(R^k^D)+P[13]+681279174&4294967295,I=R+(N<<4&4294967295|N>>>28),N=D+(I^R^k)+P[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^R)+P[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^I)+P[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=I+(R^k^D)+P[9]+3654602809&4294967295,I=R+(N<<4&4294967295|N>>>28),N=D+(I^R^k)+P[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^R)+P[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^I)+P[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=I+(k^(R|~D))+P[0]+4096336452&4294967295,I=R+(N<<6&4294967295|N>>>26),N=D+(R^(I|~k))+P[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~R))+P[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~I))+P[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=I+(k^(R|~D))+P[12]+1700485571&4294967295,I=R+(N<<6&4294967295|N>>>26),N=D+(R^(I|~k))+P[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~R))+P[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~I))+P[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=I+(k^(R|~D))+P[8]+1873313359&4294967295,I=R+(N<<6&4294967295|N>>>26),N=D+(R^(I|~k))+P[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~R))+P[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~I))+P[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=I+(k^(R|~D))+P[4]+4149444226&4294967295,I=R+(N<<6&4294967295|N>>>26),N=D+(R^(I|~k))+P[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~R))+P[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~I))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var R=I-this.blockSize,P=this.B,k=this.h,D=0;D<I;){if(k==0)for(;D<=R;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<I;)if(P[k++]=C.charCodeAt(D++),k==this.blockSize){s(this,P),k=0;break}}else for(;D<I;)if(P[k++]=C[D++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var R=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.u(C),C=Array(16),I=R=0;4>I;++I)for(var P=0;32>P;P+=8)C[R++]=this.g[I]>>>P&255;return C};function i(C,I){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=I(C)}function o(C,I){this.h=I;for(var R=[],P=!0,k=C.length-1;0<=k;k--){var D=C[k]|0;P&&D==I||(R[k]=D,P=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?i(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return T(d(-C));for(var I=[],R=1,P=0;C>=R;P++)I[P]=C/R|0,R*=4294967296;return new o(I,0)}function h(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return T(h(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(I,8)),P=p,k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k),N=parseInt(C.substring(k,k+D),I);8>D?(D=d(Math.pow(I,D)),P=P.j(D).add(d(N))):(P=P.j(R),P=P.add(d(N)))}return P}var p=l(0),f=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var C=0,I=1,R=0;R<this.g.length;R++){var P=this.i(R);C+=(0<=P?P:4294967296+P)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(v(this))return"-"+T(this).toString(C);for(var I=d(Math.pow(C,6)),R=this,P="";;){var k=A(R,I).g;R=x(R,k.j(I));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=k,E(R))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:E(C)?0:1};function T(C){for(var I=C.g.length,R=[],P=0;P<I;P++)R[P]=~C.g[P];return new o(R,~C.h).add(f)}t.abs=function(){return v(this)?T(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0,k=0;k<=I;k++){var D=P+(this.i(k)&65535)+(C.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=N>>>16,D&=65535,N&=65535,R[k]=N<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(C,I){return C.add(T(I))}t.j=function(C){if(E(this)||E(C))return p;if(v(this))return v(C)?T(this).j(T(C)):T(T(this).j(C));if(v(C))return T(this.j(T(C)));if(0>this.l(w)&&0>C.l(w))return d(this.m()*C.m());for(var I=this.g.length+C.g.length,R=[],P=0;P<2*I;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<C.g.length;k++){var D=this.i(P)>>>16,N=this.i(P)&65535,$=C.i(k)>>>16,Z=C.i(k)&65535;R[2*P+2*k]+=N*Z,y(R,2*P+2*k),R[2*P+2*k+1]+=D*Z,y(R,2*P+2*k+1),R[2*P+2*k+1]+=N*$,y(R,2*P+2*k+1),R[2*P+2*k+2]+=D*$,y(R,2*P+2*k+2)}for(P=0;P<I;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=I;P<2*I;P++)R[P]=0;return new o(R,0)};function y(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function S(C,I){this.g=C,this.h=I}function A(C,I){if(E(I))throw Error("division by zero");if(E(C))return new S(p,p);if(v(C))return I=A(T(C),I),new S(T(I.g),T(I.h));if(v(I))return I=A(C,T(I)),new S(T(I.g),I.h);if(30<C.g.length){if(v(C)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var R=f,P=I;0>=P.l(C);)R=M(R),P=M(P);var k=j(R,1),D=j(P,1);for(P=j(P,2),R=j(R,2);!E(P);){var N=D.add(P);0>=N.l(C)&&(k=k.add(R),D=N),P=j(P,1),R=j(R,1)}return I=x(C,k.j(I)),new S(k,I)}for(k=p;0<=C.l(I);){for(R=Math.max(1,Math.floor(C.m()/I.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=d(R),N=D.j(I);v(N)||0<N.l(C);)R-=P,D=d(R),N=D.j(I);E(D)&&(D=f),k=k.add(D),C=x(C,N)}return new S(k,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)&C.i(P);return new o(R,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)|C.i(P);return new o(R,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)^C.i(P);return new o(R,this.h^C.h)};function M(C){for(var I=C.g.length+1,R=[],P=0;P<I;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(R,C.h)}function j(C,I){var R=I>>5;I%=32;for(var P=C.g.length-R,k=[],D=0;D<P;D++)k[D]=0<I?C.i(D+R)>>>I|C.i(D+R+1)<<32-I:C.i(D+R);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_C=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Gs=o}).apply(typeof Ax<"u"?Ax:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xC,Al,EC,xd,Rg,TC,SC,IC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var O=c[b];if(!(O in _))break e;_=_[O]}c=c[c.length-1],b=_[c],m=m(b),m!=b&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var _=0,b=!1,O={next:function(){if(!b&&_<c.length){var F=_++;return{value:m(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function d(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,_){return c.call.apply(c.bind,arguments)}function p(c,m,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),c.apply(m,O)}}return function(){return c.apply(m,arguments)}}function f(c,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function w(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function E(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,O,F){for(var G=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)G[Be-2]=arguments[Be];return m.prototype[O].apply(b,G)}}function v(c){const m=c.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=c[b];return _}return[]}function T(c,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(l(b)){const O=c.length||0,F=b.length||0;c.length=O+F;for(let G=0;G<F;G++)c[O+G]=b[G]}else c.push(b)}}class x{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(c,m,_){for(const b in c)m.call(_,c[b],b,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function I(c){const m={};for(const _ in c)m[_]=c[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let _,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(_ in b)c[_]=b[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function D(c){a.setTimeout(()=>{throw c},0)}function N(){var c=V;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,_){const b=Z.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new x(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,L=!1,V=new $,H=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(K)}};var K=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){D(_)}var m=Z;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return c}();function $e(c,m){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(M){e:{try{A(m.nodeName);var O=!0;break e}catch{}O=!1}O||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$e.aa.h.call(this)}}E($e,re);var fe={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Pe(c,m,_,b,O){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=O,this.key=++xe,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c){this.src=c,this.g={},this.h=0}be.prototype.add=function(c,m,_,b,O){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=_t(c,m,b,O);return-1<G?(m=c[G],_||(m.fa=!1)):(m=new Pe(m,this.src,F,!!b,O),m.fa=_,c.push(m)),m};function Ee(c,m){var _=m.type;if(_ in c.g){var b=c.g[_],O=Array.prototype.indexOf.call(b,m,void 0),F;(F=0<=O)&&Array.prototype.splice.call(b,O,1),F&&(me(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _t(c,m,_,b){for(var O=0;O<c.length;++O){var F=c[O];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==b)return O}return-1}var At="closure_lm_"+(1e6*Math.random()|0),kn={};function Zt(c,m,_,b,O){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Zt(c,m[F],_,b,O);return null}return _=Za(_),c&&c[ne]?c.K(m,_,d(b)?!!b.capture:!!b,O):Dr(c,m,_,!1,b,O)}function Dr(c,m,_,b,O,F){if(!m)throw Error("Invalid event type");var G=d(O)?!!O.capture:!!O,Be=as(c);if(Be||(c[At]=Be=new be(c)),_=Be.add(m,_,b,G,F),_.proxy)return _;if(b=Xa(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)_e||(O=G),O===void 0&&(O=!1),c.addEventListener(m.toString(),b,O);else if(c.attachEvent)c.attachEvent(cu(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xa(){function c(_){return m.call(c.src,c.listener,_)}const m=Yf;return c}function pt(c,m,_,b,O){if(Array.isArray(m))for(var F=0;F<m.length;F++)pt(c,m[F],_,b,O);else b=d(b)?!!b.capture:!!b,_=Za(_),c&&c[ne]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],_=_t(F,_,b,O),-1<_&&(me(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=as(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_t(m,_,b,O)),(_=-1<c?m[c]:null)&&dr(_))}function dr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ne])Ee(m.i,c);else{var _=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(_,b,c.capture):m.detachEvent?m.detachEvent(cu(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=as(m))?(Ee(_,c),_.h==0&&(_.src=null,m[At]=null)):me(c)}}}function cu(c){return c in kn?kn[c]:kn[c]="on"+c}function Yf(c,m){if(c.da)c=!0;else{m=new $e(m,this);var _=c.listener,b=c.ha||c.src;c.fa&&dr(c),c=_.call(b,m)}return c}function as(c){return c=c[At],c instanceof be?c:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Za(c){return typeof c=="function"?c:(c[Ja]||(c[Ja]=function(m){return c.handleEvent(m)}),c[Ja])}function mt(){J.call(this),this.i=new be(this),this.M=this,this.F=null}E(mt,J),mt.prototype[ne]=!0,mt.prototype.removeEventListener=function(c,m,_,b){pt(this,c,m,_,b)};function st(c,m){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new re(m,c);else if(m instanceof re)m.target=m.target||c;else{var O=m;m=new re(b,c),P(m,O)}if(O=!0,_)for(var F=_.length-1;0<=F;F--){var G=m.g=_[F];O=xi(G,b,!0,m)&&O}if(G=m.g=c,O=xi(G,b,!0,m)&&O,O=xi(G,b,!1,m)&&O,_)for(F=0;F<_.length;F++)G=m.g=_[F],O=xi(G,b,!1,m)&&O}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],b=0;b<_.length;b++)me(_[b]);delete c.g[m],c.h--}}this.F=null},mt.prototype.K=function(c,m,_,b){return this.i.add(String(c),m,!1,_,b)},mt.prototype.L=function(c,m,_,b){return this.i.add(String(c),m,!0,_,b)};function xi(c,m,_,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var O=!0,F=0;F<m.length;++F){var G=m[F];if(G&&!G.da&&G.capture==_){var Be=G.listener,Pt=G.ha||G.src;G.fa&&Ee(c.i,G),O=Be.call(Pt,b)!==!1&&O}}return O&&!b.defaultPrevented}function Mr(c,m,_){if(typeof c=="function")_&&(c=f(c,_));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function el(c){c.g=Mr(()=>{c.g=null,c.i&&(c.i=!1,el(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xf extends J{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:el(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){J.call(this),this.h=c,this.g={}}E(ls,J);var tl=[];function uu(c){j(c.g,function(m,_){this.g.hasOwnProperty(_)&&dr(m)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),uu(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=a.JSON.stringify,hr=a.JSON.parse,Jf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ce(){}ce.prototype.h=null;function Ue(c){return c.h||(c.h=c.i())}function Ve(){}var Lt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){re.call(this,"d")}E(un,re);function cs(){re.call(this,"c")}E(cs,re);var jr={},Vw=null;function du(){return Vw=Vw||new mt}jr.La="serverreachability";function Fw(c){re.call(this,jr.La,c)}E(Fw,re);function nl(c){const m=du();st(m,new Fw(m))}jr.STAT_EVENT="statevent";function Uw(c,m){re.call(this,jr.STAT_EVENT,c),this.stat=m}E(Uw,re);function en(c){const m=du();st(m,new Uw(m,c))}jr.Ma="timingevent";function $w(c,m){re.call(this,jr.Ma,c),this.size=m}E($w,re);function rl(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function sl(){this.g=!0}sl.prototype.xa=function(){this.g=!1};function fN(c,m,_,b,O,F){c.info(function(){if(c.g)if(F)for(var G="",Be=F.split("&"),Pt=0;Pt<Be.length;Pt++){var Me=Be[Pt].split("=");if(1<Me.length){var Vt=Me[0];Me=Me[1];var Ft=Vt.split("_");G=2<=Ft.length&&Ft[1]=="type"?G+(Vt+"="+Me+"&"):G+(Vt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+m+`
`+_+`
`+G})}function pN(c,m,_,b,O,F,G){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+m+`
`+_+`
`+F+" "+G})}function vo(c,m,_,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+gN(c,_)+(b?" "+b:"")})}function mN(c,m){c.info(function(){return"TIMEOUT: "+m})}sl.prototype.info=function(){};function gN(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return Ei(_)}catch{return m}}var hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zf;function fu(){}E(fu,ce),fu.prototype.g=function(){return new XMLHttpRequest},fu.prototype.i=function(){return{}},Zf=new fu;function us(c,m,_,b){this.j=c,this.i=m,this.l=_,this.R=b||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zw}function zw(){this.i=null,this.g="",this.h=!1}var Ww={},ep={};function tp(c,m,_){c.L=1,c.v=yu(Or(m)),c.m=_,c.P=!0,Hw(c,null)}function Hw(c,m){c.F=Date.now(),pu(c),c.A=Or(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),i0(_.i,"t",b),c.C=0,_=c.j.J,c.h=new zw,c.g=T0(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Xf(f(c.Y,c,c.g),c.O)),m=c.U,_=c.g,b=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(tl[0]=O.toString()),O=tl);for(var F=0;F<O.length;F++){var G=Zt(_,O[F],b||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),nl(),fN(c.i,c.u,c.A,c.l,c.R,c.m)}us.prototype.ca=function(c){c=c.target;const m=this.M;m&&Lr(c)==3?m.j():this.Y(c)},us.prototype.Y=function(c){try{if(c==this.g)e:{const Ft=Lr(this.g);var m=this.g.Ba();const xo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||h0(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=xo?nl(3):nl(2)),np(this);var _=this.g.Z();this.X=_;t:if(Kw(this)){var b=h0(this.g);c="";var O=b.length,F=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),il(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<O;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!(F&&m==O-1)});b.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,pN(this.i,this.u,this.A,this.l,this.R,Ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Pt=this.g;if((Be=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Be)){var Me=Be;break t}}Me=null}if(_=Me)vo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rp(this,_);else{this.o=!1,this.s=3,en(12),Ti(this),il(this);break e}}if(this.P){_=!0;let Hn;for(;!this.J&&this.C<G.length;)if(Hn=yN(this,G),Hn==ep){Ft==4&&(this.s=4,en(14),_=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Ww){this.s=4,en(15),vo(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else vo(this.i,this.l,Hn,null),rp(this,Hn);if(Kw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||G.length!=0||this.h.h||(this.s=1,en(16),_=!1),this.o=this.o&&_,!_)vo(this.i,this.l,G,"[Invalid Chunked Response]"),Ti(this),il(this);else if(0<G.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),cp(Vt),Vt.M=!0,en(11))}}else vo(this.i,this.l,G,null),rp(this,G);Ft==4&&Ti(this),this.o&&!this.J&&(Ft==4?w0(this.j,this):(this.o=!1,pu(this)))}else MN(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Ti(this),il(this)}}}catch{}finally{}};function Kw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yN(c,m){var _=c.C,b=m.indexOf(`
`,_);return b==-1?ep:(_=Number(m.substring(_,b)),isNaN(_)?Ww:(b+=1,b+_>m.length?ep:(m=m.slice(b,b+_),c.C=b+_,m)))}us.prototype.cancel=function(){this.J=!0,Ti(this)};function pu(c){c.S=Date.now()+c.I,qw(c,c.I)}function qw(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rl(f(c.ba,c),m)}function np(c){c.B&&(a.clearTimeout(c.B),c.B=null)}us.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mN(this.i,this.A),this.L!=2&&(nl(),en(17)),Ti(this),this.s=2,il(this)):qw(this,this.S-c)};function il(c){c.j.G==0||c.J||w0(c.j,c)}function Ti(c){np(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,uu(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function rp(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||sp(_.h,c))){if(!c.K&&sp(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Tu(_),xu(_);else break e;lp(_),en(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=rl(f(_.Za,_),6e3));if(1>=Yw(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((c.K||_.g==c)&&Tu(_),!y(m))for(O=_.Da.g.parse(m),m=0;m<O.length;m++){let Me=O[m];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const Vt=Me[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ft=Me[4];Ft!=null&&(_.Aa=Ft,_.j.info("SVER="+_.Aa));const xo=Me[5];xo!=null&&typeof xo=="number"&&0<xo&&(b=1.5*xo,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Hn=c.g;if(Hn){const Iu=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var F=b.h;F.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ip(F,F.h),F.h=null))}if(b.D){const up=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;up&&(b.ya=up,Ke(b.I,b.D,up))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var G=c;if(b.qa=E0(b,b.J?b.ia:null,b.W),G.K){Xw(b.h,G);var Be=G,Pt=b.L;Pt&&(Be.I=Pt),Be.B&&(np(Be),pu(Be)),b.g=G}else y0(b);0<_.i.length&&Eu(_)}else Me[0]!="stop"&&Me[0]!="close"||Ii(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ii(_,7):ap(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}nl(4)}catch{}}var vN=class{constructor(c,m){this.g=c,this.map=m}};function Gw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yw(c){return c.h?1:c.g?c.g.size:0}function sp(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ip(c,m){c.g?c.g.add(m):c.h=m}function Xw(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Gw.prototype.cancel=function(){if(this.i=Jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return v(c.i)}function wN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],_=c.length,b=0;b<_;b++)m.push(c[b]);return m}m=[],_=0;for(b in c)m[_++]=c[b];return m}function _N(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const b in c)m[_++]=b;return m}}}function Zw(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=_N(c),b=wN(c),O=b.length,F=0;F<O;F++)m.call(void 0,b[F],_&&_[F],c)}var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xN(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),O=null;if(0<=b){var F=c[_].substring(0,b);O=c[_].substring(b+1)}else F=c[_];m(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,mu(this,c.j),this.o=c.o,this.g=c.g,gu(this,c.s),this.l=c.l;var m=c.i,_=new ll;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),t0(this,_),this.m=c.m}else c&&(m=String(c).match(e0))?(this.h=!1,mu(this,m[1]||"",!0),this.o=ol(m[2]||""),this.g=ol(m[3]||"",!0),gu(this,m[4]),this.l=ol(m[5]||"",!0),t0(this,m[6]||"",!0),this.m=ol(m[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}Si.prototype.toString=function(){var c=[],m=this.j;m&&c.push(al(m,n0,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(al(m,n0,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(al(_,_.charAt(0)=="/"?SN:TN,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",al(_,CN)),c.join("")};function Or(c){return new Si(c)}function mu(c,m,_){c.j=_?ol(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function t0(c,m,_){m instanceof ll?(c.i=m,bN(c.i,c.h)):(_||(m=al(m,IN)),c.i=new ll(m,c.h))}function Ke(c,m,_){c.i.set(m,_)}function yu(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ol(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function al(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,EN),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function EN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var n0=/[#\/\?@]/g,TN=/[#\?:]/g,SN=/[#\?]/g,IN=/[#\?@]/g,CN=/#/g;function ll(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ds(c){c.g||(c.g=new Map,c.h=0,c.i&&xN(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=ll.prototype,t.add=function(c,m){ds(this),this.i=null,c=wo(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function r0(c,m){ds(c),m=wo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function s0(c,m){return ds(c),m=wo(c,m),c.g.has(m)}t.forEach=function(c,m){ds(this),this.g.forEach(function(_,b){_.forEach(function(O){c.call(m,O,b,this)},this)},this)},t.na=function(){ds(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const O=c[b];for(let F=0;F<O.length;F++)_.push(m[b])}return _},t.V=function(c){ds(this);let m=[];if(typeof c=="string")s0(this,c)&&(m=m.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return ds(this),this.i=null,c=wo(this,c),s0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function i0(c,m,_){r0(c,m),0<_.length&&(c.i=null,c.g.set(wo(c,m),v(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const F=encodeURIComponent(String(b)),G=this.V(b);for(b=0;b<G.length;b++){var O=F;G[b]!==""&&(O+="="+encodeURIComponent(String(G[b]))),c.push(O)}}return this.i=c.join("&")};function wo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function bN(c,m){m&&!c.j&&(ds(c),c.i=null,c.g.forEach(function(_,b){var O=b.toLowerCase();b!=O&&(r0(this,b),i0(this,O,_))},c)),c.j=m}function RN(c,m){const _=new sl;if(a.Image){const b=new Image;b.onload=w(hs,_,"TestLoadImage: loaded",!0,m,b),b.onerror=w(hs,_,"TestLoadImage: error",!1,m,b),b.onabort=w(hs,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=w(hs,_,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function AN(c,m){const _=new sl,b=new AbortController,O=setTimeout(()=>{b.abort(),hs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(O),F.ok?hs(_,"TestPingServer: ok",!0,m):hs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(O),hs(_,"TestPingServer: error",!1,m)})}function hs(c,m,_,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(_)}catch{}}function PN(){this.g=new Jf}function NN(c,m,_){const b=_||"";try{Zw(c,function(O,F){let G=O;d(O)&&(G=Ei(O)),m.push(b+F+"="+encodeURIComponent(G))})}catch(O){throw m.push(b+"type="+encodeURIComponent("_badmap")),O}}function vu(c){this.l=c.Ub||null,this.j=c.eb||!1}E(vu,ce),vu.prototype.g=function(){return new wu(this.l,this.j)},vu.prototype.i=function(c){return function(){return c}}({});function wu(c,m){mt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wu,mt),t=wu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ul(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function o0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?cl(this):ul(this),this.readyState==3&&o0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,cl(this))},t.Qa=function(c){this.g&&(this.response=c,cl(this))},t.ga=function(){this.g&&cl(this)};function cl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ul(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function ul(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function a0(c){let m="";return j(c,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function op(c,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=a0(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,m,_))}function it(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,mt);var kN=/^https?$/i,DN=["POST","PUT"];t=it.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zf.g(),this.v=this.o?Ue(this.o):Ue(Zf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){l0(this,F);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)_.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())_.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DN,m,void 0))||b||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of _)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d0(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){l0(this,F)}};function l0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,c0(c),_u(c)}function c0(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),_u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_u(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u0(this):this.bb())},t.bb=function(){u0(this)};function u0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Lr(c)!=4||c.Z()!=2)){if(c.u&&Lr(c)==4)Mr(c.Ea,0,c);else if(st(c,"readystatechange"),Lr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=G===0){var O=String(c.D).match(e0)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),b=!kN.test(O?O.toLowerCase():"")}_=b}if(_)st(c,"complete"),st(c,"success");else{c.m=6;try{var F=2<Lr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",c0(c)}}finally{_u(c)}}}}function _u(c,m){if(c.g){d0(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||st(c,"ready");try{_.onreadystatechange=b}catch{}}}function d0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),hr(m)}};function h0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MN(c){const m={};c=(c.g&&2<=Lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(y(c[b]))continue;var _=k(c[b]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[O]||[];m[O]=F,F.push(_)}C(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dl(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function f0(c){this.Aa=0,this.i=[],this.j=new sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dl("baseRetryDelayMs",5e3,c),this.cb=dl("retryDelaySeedMs",1e4,c),this.Wa=dl("forwardChannelMaxRetries",2,c),this.wa=dl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gw(c&&c.concurrentRequestLimit),this.Da=new PN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f0.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,b){en(0),this.W=c,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=E0(this,null,this.W),Eu(this)};function ap(c){if(p0(c),c.G==3){var m=c.U++,_=Or(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",m),Ke(_,"TYPE","terminate"),hl(c,_),m=new us(c,c.j,m),m.L=2,m.v=yu(Or(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=T0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),pu(m)}x0(c)}function xu(c){c.g&&(cp(c),c.g.cancel(),c.g=null)}function p0(c){xu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Tu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Eu(c){if(!Qw(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||H(),L||(se(),L=!0),V.add(m,c),c.B=0}}function jN(c,m){return Yw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rl(f(c.Ga,c,m),_0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const O=new us(this,this.j,c);let F=this.o;if(this.S&&(F?(F=I(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=g0(this,O,m),_=Or(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),hl(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(a0(F)))+"&"+m:this.m&&op(_,this.m,F)),ip(this.h,O),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",m),Ke(_,"SID","null"),O.T=!0,tp(O,_,null)):tp(O,_,m),this.G=2}}else this.G==3&&(c?m0(this,c):this.i.length==0||Qw(this.h)||m0(this))};function m0(c,m){var _;m?_=m.l:_=c.U++;const b=Or(c.I);Ke(b,"SID",c.K),Ke(b,"RID",_),Ke(b,"AID",c.T),hl(c,b),c.m&&c.o&&op(b,c.m,c.o),_=new us(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=g0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ip(c.h,_),tp(_,b,m)}function hl(c,m){c.H&&j(c.H,function(_,b){Ke(m,b,_)}),c.l&&Zw({},function(_,b){Ke(m,b,_)})}function g0(c,m,_){_=Math.min(c.i.length,_);var b=c.l?f(c.l.Na,c.l,c):null;e:{var O=c.i;let F=-1;for(;;){const G=["count="+_];F==-1?0<_?(F=O[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Be=!0;for(let Pt=0;Pt<_;Pt++){let Me=O[Pt].g;const Vt=O[Pt].map;if(Me-=F,0>Me)F=Math.max(0,O[Pt].g-100),Be=!1;else try{NN(Vt,G,"req"+Me+"_")}catch{b&&b(Vt)}}if(Be){b=G.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,b}function y0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||H(),L||(se(),L=!0),V.add(m,c),c.v=0}}function lp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rl(f(c.Fa,c),_0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,v0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),xu(this),v0(this))};function cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function v0(c){c.g=new us(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Or(c.qa);Ke(m,"RID","rpc"),Ke(m,"SID",c.K),Ke(m,"AID",c.T),Ke(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(m,"TO",c.ja),Ke(m,"TYPE","xmlhttp"),hl(c,m),c.m&&c.o&&op(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=yu(Or(m)),_.m=null,_.P=!0,Hw(_,c)}t.Za=function(){this.C!=null&&(this.C=null,xu(this),lp(this),en(19))};function Tu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function w0(c,m){var _=null;if(c.g==m){Tu(c),cp(c),c.g=null;var b=2}else if(sp(c.h,m))_=m.D,Xw(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var O=c.B;b=du(),st(b,new $w(b,_)),Eu(c)}else y0(c);else if(O=m.s,O==3||O==0&&0<m.X||!(b==1&&jN(c,m)||b==2&&lp(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),O){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function _0(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var _=f(c.fb,c),b=c.Xa;const O=!b;b=new Si(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mu(b,"https"),yu(b),O?RN(b.toString(),_):AN(b.toString(),_)}else en(2);c.G=0,c.l&&c.l.sa(m),x0(c),p0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function x0(c){if(c.G=0,c.ka=[],c.l){const m=Jw(c.h);(m.length!=0||c.i.length!=0)&&(T(c.ka,m),T(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function E0(c,m,_){var b=_ instanceof Si?Or(_):new Si(_);if(b.g!="")m&&(b.g=m+"."+b.g),gu(b,b.s);else{var O=a.location;b=O.protocol,m=m?m+"."+O.hostname:O.hostname,O=+O.port;var F=new Si(null);b&&mu(F,b),m&&(F.g=m),O&&gu(F,O),_&&(F.l=_),b=F}return _=c.D,m=c.ya,_&&m&&Ke(b,_,m),Ke(b,"VER",c.la),hl(c,b),b}function T0(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new it(new vu({eb:_})):new it(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S0(){}t=S0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Su(){}Su.prototype.g=function(c,m){return new wn(c,m)};function wn(c,m){mt.call(this),this.g=new f0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!y(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new _o(this)}E(wn,mt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){ap(this.g)},wn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ei(c),c=_);m.i.push(new vN(m.Ya++,c)),m.G==3&&Eu(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,ap(this.g),delete this.g,wn.aa.N.call(this)};function I0(c){un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(I0,un);function C0(){cs.call(this),this.status=1}E(C0,cs);function _o(c){this.g=c}E(_o,S0),_o.prototype.ua=function(){st(this.g,"a")},_o.prototype.ta=function(c){st(this.g,new I0(c))},_o.prototype.sa=function(c){st(this.g,new C0)},_o.prototype.ra=function(){st(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,IC=function(){return new Su},SC=function(){return du()},TC=jr,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hu.NO_ERROR=0,hu.TIMEOUT=8,hu.HTTP_ERROR=6,xd=hu,Bw.COMPLETE="complete",EC=Bw,Ve.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Al=Ve,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,xC=it}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Px="@firebase/firestore",Nx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Iv("@firebase/firestore");function Co(){return Xi.logLevel}function ee(t,...e){if(Xi.logLevel<=Te.DEBUG){const n=e.map(Rv);Xi.debug(`Firestore (${za}): ${t}`,...n)}}function ts(t,...e){if(Xi.logLevel<=Te.ERROR){const n=e.map(Rv);Xi.error(`Firestore (${za}): ${t}`,...n)}}function Ea(t,...e){if(Xi.logLevel<=Te.WARN){const n=e.map(Rv);Xi.warn(`Firestore (${za}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CC(t,r,n)}function CC(t,e,n){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CC(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class rF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sF{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new bC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class iF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Ag(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Xp(s)===Xp(i)?Se(s,i):Xp(s)?1:-1}return Se(t.length,e.length)}const cF=55296,uF=57343;function Xp(t){const e=t.charCodeAt(0);return e>=cF&&e<=uF}function Ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=mr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),s=mr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Ag(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class We extends mr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const dF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends mr{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return dF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dx}static keyField(){return new Dt([Dx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(We.fromString(e))}static fromName(e){return new ie(We.fromString(e).popFirst(5))}static empty(){return new ie(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hF(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mx(t){if(!ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jx(t){if(ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!AC(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=-62135596800,Lx=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lx);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ox)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lx}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ox;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:wt("string",Qe._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Qe(0,0))}static max(){return new ue(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function fF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new si(s,ie.empty(),e)}function pF(t){return new si(t.readTime,t.key,Ec)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(ue.min(),ie.empty(),Ec)}static max(){return new si(ue.max(),ie.empty(),Ec)}}function mF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==gF)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function vF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-1;function pf(t){return t==null}function hh(t){return t===0&&1/t==-1/0}function wF(t){return typeof t=="number"&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="";function _F(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vx(e)),e=xF(t.get(n),e);return Vx(e)}function xF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case PC:n+="";break;default:n+=i}}return n}function Vx(t){return t+PC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ux(this.data.getIterator())}getIteratorFrom(e){return new Ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Tt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kC("Invalid base64 string: "+i):i}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const EF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=EF.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="server_timestamp",MC="__type__",jC="__previous_value__",OC="__local_write_time__";function Nv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MC])==null?void 0:r.stringValue)===DC}function mf(t){const e=t.mapValue.fields[jC];return Nv(e)?mf(e):e}function Tc(t){const e=ii(t.mapValue.fields[OC].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const fh="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__type__",VC="__max__",Xu={mapValue:{fields:{__type__:{stringValue:VC}}}},FC="__vector__",ph="value";function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nv(t)?4:IF(t)?9007199254740991:SF(t)?10:11:le(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ii(s.timestampValue),a=ii(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return oi(s.bytesValue).isEqual(oi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?hh(o)===hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Fx(o)!==Fx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Nr(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Ic(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function Sa(t,e){if(t===e)return 0;const n=ai(t),r=ai(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $x(t.timestampValue,e.timestampValue);case 4:return $x(Tc(t),Tc(e));case 5:return Ag(t.stringValue,e.stringValue);case 6:return function(i,o){const a=oi(i),l=oi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Se(a[d],l[d]);if(h!==0)return h}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(ct(i.latitude),ct(o.latitude));return a!==0?a:Se(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,w,E,v;const a=i.fields||{},l=o.fields||{},d=(f=a[ph])==null?void 0:f.arrayValue,h=(w=l[ph])==null?void 0:w.arrayValue,p=Se(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return p!==0?p:Bx(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Xu.mapValue&&o===Xu.mapValue)return 0;if(i===Xu.mapValue)return 1;if(o===Xu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=Ag(l[p],h[p]);if(f!==0)return f;const w=Sa(a[l[p]],d[h[p]]);if(w!==0)return w}return Se(l.length,h.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function $x(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ii(t),r=ii(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function Bx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Sa(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Ia(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Pg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Pg(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Ed(t){switch(ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ed(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return mi(r.fields,(i,o)=>{s+=i.length+Ed(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function zx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ng(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function Wx(t){return!!t&&"nullValue"in t}function Hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function SF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LC])==null?void 0:r.stringValue)===FC}function ql(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(t.arrayValue.values[n]);return e}return{...t}}function IF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ql(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new pn(ql(this.value))}}function UC(t){const e=[];return mi(t.fields,(n,r)=>{const s=new Dt([n]);if(Td(r)){const i=UC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,ue.min(),ue.min(),ue.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,ue.min(),ue.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,ue.min(),ue.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function Kx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Sa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class vt extends $C{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RF(e,n,r):n==="array-contains"?new NF(e,r):n==="in"?new kF(e,r):n==="not-in"?new DF(e,r):n==="array-contains-any"?new MF(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AF(e,r):new PF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sa(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends $C{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ar(e,n)}matches(e){return BC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BC(t){return t.op==="and"}function zC(t){return bF(t)&&BC(t)}function bF(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function kg(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(zC(t))return t.filters.map(e=>kg(e)).join(",");{const e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function WC(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)}(t,e):t instanceof ar?function(r,s){return s instanceof ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&WC(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function HC(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ia(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(HC).join(" ,")+"}"}(t):"Filter"}class RF extends vt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class AF extends vt{constructor(e,n){super(e,"in",n),this.keys=KC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PF extends vt{constructor(e,n){super(e,"not-in",n),this.keys=KC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class NF extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&Ic(n.arrayValue,this.value)}}class kF extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}}class DF extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ic(this.value.arrayValue,n)}}class MF extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Gx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jF(t,e,n,r,s,i,o)}function Dv(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.Te=n}return e.Te}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qx(t.startAt,e.startAt)&&qx(t.endAt,e.endAt)}function Dg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OF(t,e,n,r,s,i,o,a){return new Ka(t,e,n,r,s,i,o,a)}function jv(t){return new Ka(t)}function Qx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qC(t){return t.collectionGroup!==null}function Gl(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Cc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new Cc(Dt.keyField(),r))}return e.Ie}function Sr(t){const e=de(t);return e.Ee||(e.Ee=LF(e,Gl(t))),e.Ee}function LF(t,e){if(t.limitType==="F")return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cc(s.field,i)});const n=t.endAt?new mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mh(t.startAt.position,t.startAt.inclusive):null;return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mg(t,e){const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gh(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Mv(Sr(t),Sr(e))&&t.limitType===e.limitType}function GC(t){return`${Dv(Sr(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>HC(s)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ia(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ia(s)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Gl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=Kx(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Gl(r),s)||r.endAt&&!function(o,a,l){const d=Kx(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Gl(r),s))}(t,e)}function VF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QC(t){return(e,n)=>{let r=!1;for(const s of Gl(t)){const i=FF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FF(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Sa(l,d):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return NC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new rt(ie.comparator);function ns(){return UF}const YC=new rt(ie.comparator);function Pl(...t){let e=YC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=YC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return Ql()}function JC(){return Ql()}function Ql(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const $F=new rt(ie.comparator),BF=new Tt(ie.comparator);function Ie(...t){let e=BF;for(const n of t)e=e.add(n);return e}const zF=new Tt(Se);function WF(){return zF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function ZC(t){return{integerValue:""+t}}function HF(t,e){return wF(e)?ZC(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function KF(t,e,n){return t instanceof bc?function(s,i){const o={fields:{[MC]:{stringValue:DC},[OC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Nv(i)&&(i=mf(i)),i&&(o.fields[jC]=i),{mapValue:o}}(n,e):t instanceof Rc?tb(t,e):t instanceof Ac?nb(t,e):function(s,i){const o=eb(s,i),a=Yx(o)+Yx(s.Ae);return Ng(o)&&Ng(s.Ae)?ZC(a):Ov(s.serializer,a)}(t,e)}function qF(t,e,n){return t instanceof Rc?tb(t,e):t instanceof Ac?nb(t,e):n}function eb(t,e){return t instanceof yh?function(r){return Ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bc extends vf{}class Rc extends vf{constructor(e){super(),this.elements=e}}function tb(t,e){const n=rb(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ac extends vf{constructor(e){super(),this.elements=e}}function nb(t,e){let n=rb(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class yh extends vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yx(t){return ct(t.integerValue||t.doubleValue)}function rb(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.field=e,this.transform=n}}function QF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rc&&s instanceof Rc||r instanceof Ac&&s instanceof Ac?Ta(r.elements,s.elements,Nr):r instanceof yh&&s instanceof yh?Nr(r.Ae,s.Ae):r instanceof bc&&s instanceof bc}(t.transform,e.transform)}class YF{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function sb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lv(t.key,$n.none()):new Jc(t.key,t.data,$n.none());{const n=t.data,r=pn.empty();let s=new Tt(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new gi(t.key,r,new In(s.toArray()),$n.none())}}function XF(t,e,n){t instanceof Jc?function(s,i,o){const a=s.value.clone(),l=Jx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(s,i,o){if(!Sd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Jx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ib(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof Jc?function(i,o,a,l){if(!Sd(i.precondition,o))return a;const d=i.value.clone(),h=Zx(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,o,a,l){if(!Sd(i.precondition,o))return a;const d=Zx(i.fieldTransforms,l,o),h=o.data;return h.setAll(ib(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Sd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eb(r.transform,s||null);i!=null&&(n===null&&(n=pn.empty()),n.set(r.field,i))}return n||null}function Xx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ta(r,s,(i,o)=>QF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends wf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gi extends wf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ib(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jx(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,qF(o,a,n[s]))}return r}function Zx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KF(i,o,e))}return r}class Lv extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZF extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&XF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=sb(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>Xx(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>Xx(n,r))}}class Vv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $F}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ne;function r3(t){switch(t){case U.OK:return le(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function ob(t){if(t===void 0)return ts("GRPC error has no .code"),U.UNKNOWN;switch(t){case gt.OK:return U.OK;case gt.CANCELLED:return U.CANCELLED;case gt.UNKNOWN:return U.UNKNOWN;case gt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case gt.INTERNAL:return U.INTERNAL;case gt.UNAVAILABLE:return U.UNAVAILABLE;case gt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case gt.NOT_FOUND:return U.NOT_FOUND;case gt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case gt.ABORTED:return U.ABORTED;case gt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case gt.DATA_LOSS:return U.DATA_LOSS;default:return le(39323,{code:t})}}(Ne=gt||(gt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Gs([4294967295,4294967295],0);function eE(t){const e=s3().encode(t),n=new _C;return n.update(e),new Uint8Array(n.digest())}function tE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Gs([n,r],0),new Gs([s,i],0)]}class Fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Gs.fromNumber(r)));return s.compare(i3)===1&&(s=new Gs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eE(e),[r,s]=tE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Fv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=eE(e),[r,s]=tE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(ue.min(),s,new rt(Se),ns(),Ie())}}class Zc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ab{constructor(e,n){this.targetId=e,this.Ce=n}}class lb{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nE{constructor(){this.ve=0,this.Fe=rE(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Zc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=rE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o3{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Ju(),this.He=Ju(),this.Ye=new rt(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new ie(i.path);this.et(n,o,qt.newNoDocument(o,ue.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=oi(r).toUint8Array()}catch(l){if(l instanceof kC)return Ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fv(o,s,i)}catch(l){return Ea(l instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Dg(a.target)){const l=new ie(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,qt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new _f(e,n,this.Ye,this.je,r);return this.je=ns(),this.Je=Ju(),this.He=Ju(),this.Ye=new rt(Se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new rt(ie.comparator)}function rE(){return new rt(ie.comparator)}const a3={asc:"ASCENDING",desc:"DESCENDING"},l3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c3={and:"AND",or:"OR"};class u3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d3(t,e){return vh(t,e.toTimestamp())}function Ir(t){return Le(!!t,49232),ue.fromTimestamp(function(n){const r=ii(n);return new Qe(r.seconds,r.nanos)}(t))}function Uv(t,e){return Og(t,e).canonicalString()}function Og(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ub(t){const e=We.fromString(t);return Le(mb(e),10190,{key:e.toString()}),e}function Lg(t,e){return Uv(t.databaseId,e.path)}function Jp(t,e){const n=ub(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(hb(n))}function db(t,e){return Uv(t.databaseId,e)}function h3(t){const e=ub(t);return e.length===4?We.emptyPath():hb(e)}function Vg(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hb(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sE(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function f3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:le(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Ot.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:ob(d.code);return new X(h,d.message||"")}(o);n=new lb(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jp(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ue.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Id(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jp(t,r.document),i=r.readTime?Ir(r.readTime):ue.min(),o=qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Id([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jp(t,r.document),i=r.removedTargetIds||[];n=new Id([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new n3(s,i),a=r.targetId;n=new ab(a,o)}}return n}function p3(t,e){let n;if(e instanceof Jc)n={update:sE(t,e.key,e.value)};else if(e instanceof Lv)n={delete:Lg(t,e.key)};else if(e instanceof gi)n={update:sE(t,e.key,e.data),updateMask:T3(e.fieldMask)};else{if(!(e instanceof ZF))return le(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:d3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function m3(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(ue.min())&&(o=Ir(i)),new YF(o,s.transformResults||[])}(n,e))):[]}function g3(t,e){return{documents:[db(t,e.path)]}}function y3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=db(t,s);const i=function(d){if(d.length!==0)return pb(ar.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:Ro(f.field),direction:_3(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function v3(t){let e=h3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=fb(p);return f instanceof ar&&zC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(E){return new Cc(Ao(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,pf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,w=p.values||[];return new mh(w,f)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const f=!p.before,w=p.values||[];return new mh(w,f)}(n.endAt)),OF(e,s,o,i,a,"F",l,d)}function w3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ao(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ao(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ao(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ao(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Ao(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>fb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function _3(t){return a3[t]}function x3(t){return l3[t]}function E3(t){return c3[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function Ao(t){return Dt.fromServerFormat(t.fieldPath)}function pb(t){return t instanceof vt?function(n){if(n.op==="=="){if(Hx(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Wx(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hx(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Wx(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:x3(n.op),value:n.value}}}(t):t instanceof ar?function(n){const r=n.getFilters().map(s=>pb(s));return r.length===1?r[0]:{compositeFilter:{op:E3(n.op),filters:r}}}(t):le(54877,{filter:t})}function T3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.yt=e}}function I3(t){const e=v3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.Cn=new b3}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(si.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class b3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(gb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ca(0)}static cr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",R3=1048576;function aE([t,e],[n,r]){const s=Se(t,n);return s===0?Se(e,r):s}class A3{constructor(e){this.Ir=e,this.buffer=new Tt(aE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(oE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ha(n)?ee(oE,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Vr(3e5)})}}class N3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ff.ce);const r=new A3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(iE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Co()<=Te.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function k3(t,e){return new N3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yl(r.mutation,s,In.empty(),Qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Di();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=Ql(),a=function(){return Ql()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof gi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Yl(h.mutation,d,h.mutation.getFieldMask(),Qe.now())):o.set(d.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new M3(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ql();let s=new rt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||In.empty();h=a.applyToLocalView(d,h),r.set(l,h);const p=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,p=JC();h.forEach(f=>{if(!i.has(f)){const w=sb(n.get(f),r.get(f));w!==null&&p.set(f,w),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Di());let a=Ec,l=i;return o.next(d=>B.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ie())).next(h=>({batchId:a,changes:XC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const d=function(p,f){return new Ka(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,qt.newInvalidDocument(h)))});let a=Pl();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Yl(h.mutation,d,In.empty(),Qe.now()),yf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:I3(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Di(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Di(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Di(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t3(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Qr=new Tt(It.$r),this.Ur=new Tt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new We([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new We([])),r=new It(n,e),s=new It(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(It.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Pv:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Se);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new It(new ie(i),0);let a=new Tt(Se);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.ri=e,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||mF(pF(h),r)<=0||(s.has(h.key)||yf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $3(this)}getSize(e){return B.resolve(this.size)}}class $3 extends D3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.persistence=e,this.si=new uo(n=>Dv(n),Mv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new $v,this.targetCount=0,this.ai=Ca.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new V3,this.referenceDelegate=e(this),this.Pi=new B3(this),this.indexManager=new C3,this.remoteDocumentCache=function(s){return new U3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new S3(n),this.Ii=new O3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new z3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class z3 extends yF{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Ri=new $v,this.Vi=null}static mi(e){return new Bv(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new uo(r=>_F(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=k3(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OV()?8:vF(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new W3;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Co()<=Te.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Co()<=Te.DEBUG&&ee("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Co()<=Te.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):B.resolve())}ys(e,n){if(Qx(n))return B.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gh(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,gh(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return Qx(n)||s.isEqual(ue.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Co()<=Te.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(n)),this.vs(e,o,n,fF(s,Ec)).next(a=>a))})}Ds(e,n){let r=new Tt(QC(e));return n.forEach((s,i)=>{yf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Co()<=Te.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,si.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LocalStore",K3=3e8;class q3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new rt(Se),this.xs=new uo(i=>Dv(i),Mv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function G3(t,e,n,r){return new q3(t,e,n,r)}async function vb(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function Q3(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const p=d.batch,f=p.keys();let w=B.resolve();return f.forEach(E=>{w=w.next(()=>h.getEntry(l,E)).next(v=>{const T=d.docVersions.get(E);Le(T!==null,48541),v.version.compareTo(T)<0&&(p.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function wb(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y3(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,p)));let w=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(p,w),function(v,T,x){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=K3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,w,h)&&a.push(n.Pi.updateTargetData(i,w))});let l=ns(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(X3(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function X3(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(Wv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function J3(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z3(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Fg(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ha(o))throw o;ee(Wv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function lE(t,e,n){const r=de(t);let s=ue.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const p=de(l),f=p.xs.get(h);return f!==void 0?B.resolve(p.Ms.get(f)):p.Pi.getTargetData(d,h)}(r,o,Sr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Ie())).next(a=>(e6(r,VF(e),a),{documents:a,Qs:i})))}function e6(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class cE{constructor(){this.activeTargetIds=WF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t6{constructor(){this.Mo=new cE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class dE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(uE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Ug(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",r6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ug(),a=this.zo(e,n.toUriEncodedString());ee(Zp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=$a(d);return this.Jo(e,a,l,r,h).then(p=>(ee(Zp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ea(Zp,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=r6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class o6 extends s6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ug();return new Promise((a,l)=>{const d=new xC;d.setWithCredentials(!0),d.listenOnce(EC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xd.NO_ERROR:const p=d.getResponseJson();ee(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case xd.TIMEOUT:ee(zt,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const f=d.getStatus();if(ee(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",d.getResponseText()),f>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(E.status);l(new X(v,E.message))}else l(new X(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ee(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ee(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Ug(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IC(),a=SC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(zt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.I_(p);let f=!1,w=!1;const E=new i6({Yo:T=>{w?ee(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(ee(zt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),ee(zt,`RPC '${e}' stream ${s} sending:`,T),p.send(T))},Zo:()=>p.close()}),v=(T,x,y)=>{T.listen(x,S=>{try{y(S)}catch(A){setTimeout(()=>{throw A},0)}})};return v(p,Al.EventType.OPEN,()=>{w||(ee(zt,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),v(p,Al.EventType.CLOSE,()=>{w||(w=!0,ee(zt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))}),v(p,Al.EventType.ERROR,T=>{w||(w=!0,Ea(zt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),v(p,Al.EventType.MESSAGE,T=>{var x;if(!w){const y=T.data[0];Le(!!y,16349);const S=y,A=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(A){ee(zt,`RPC '${e}' stream ${s} received error:`,A);const M=A.status;let j=function(R){const P=gt[R];if(P!==void 0)return ob(P)}(M),C=A.message;j===void 0&&(j=U.INTERNAL,C="Unknown error status: "+M+" with message "+A.message),w=!0,E.a_(new X(j,C)),p.close()}else ee(zt,`RPC '${e}' stream ${s} received:`,y),E.u_(y)}}),v(a,TC.STAT_EVENT,T=>{T.stat===Rg.PROXY?ee(zt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Rg.NOPROXY&&ee(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){return new u3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class xb{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ee(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ee(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a6 extends xb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Ir(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dg(l)?{documents:g3(i,l)}:{query:y3(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cb(i,o.resumeToken);const d=jg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=vh(i,o.snapshotVersion.toTimestamp());const d=jg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=w3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.q_(n)}}class l6 extends xb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m3(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{}class u6 extends c6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Og(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Og(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class d6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="RemoteStore";class h6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ho(this)&&(ee(Ji,"Restarting streams for network reachability change."),await async function(l){const d=de(l);d.Ea.add(4),await eu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ef(d)}(this))})}),this.Ra=new d6(r,s)}}async function Ef(t){if(ho(t))for(const e of t.da)await e(!0)}async function eu(t){for(const e of t.da)await e(!1)}function Eb(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gv(n)?qv(n):qa(n).O_()&&Kv(n,e))}function Hv(t,e){const n=de(t),r=qa(n);n.Ia.delete(e),r.O_()&&Tb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ho(n)&&n.Ra.set("Unknown"))}function Kv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).Y_(e)}function Tb(t,e){t.Va.Ue(e),qa(t).Z_(e)}function qv(t){t.Va=new o3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.Ra.ua()}function Gv(t){return ho(t)&&!qa(t).x_()&&t.Ia.size>0}function ho(t){return de(t).Ea.size===0}function Sb(t){t.Va=void 0}async function f6(t){t.Ra.set("Online")}async function p6(t){t.Ia.forEach((e,n)=>{Kv(t,e)})}async function m6(t,e){Sb(t),Gv(t)?(t.Ra.ha(e),qv(t)):t.Ra.set("Unknown")}async function g6(t,e,n){if(t.Ra.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ee(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(t,r)}else if(e instanceof Id?t.Va.Ze(e):e instanceof ab?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await wb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),Tb(i,l);const p=new js(h.target,l,d,h.sequenceNumber);Kv(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(Ji,"Failed to raise snapshot:",r),await _h(t,r)}}async function _h(t,e,n){if(!Ha(e))throw e;t.Ea.add(1),await eu(t),t.Ra.set("Offline"),n||(n=()=>wb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(Ji,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ef(t)})}function Ib(t,e){return e().catch(n=>_h(t,n,e))}async function Tf(t){const e=de(t),n=li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pv;for(;y6(e);)try{const s=await J3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,v6(e,s)}catch(s){await _h(e,s)}Cb(e)&&bb(e)}function y6(t){return ho(t)&&t.Ta.length<10}function v6(t,e){t.Ta.push(e);const n=li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Cb(t){return ho(t)&&!li(t).x_()&&t.Ta.length>0}function bb(t){li(t).start()}async function w6(t){li(t).ra()}async function _6(t){const e=li(t);for(const n of t.Ta)e.ea(n.mutations)}async function x6(t,e,n){const r=t.Ta.shift(),s=Vv.from(r,e,n);await Ib(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tf(t)}async function E6(t,e){e&&li(t).X_&&await async function(r,s){if(function(o){return r3(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();li(r).B_(),await Ib(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Tf(r)}}(t,e),Cb(t)&&bb(t)}async function fE(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee(Ji,"RemoteStore received new credentials");const r=ho(n);n.Ea.add(3),await eu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ef(n)}async function T6(t,e){const n=de(t);e?(n.Ea.delete(2),await Ef(n)):e||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function qa(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new a6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:f6.bind(null,t),t_:p6.bind(null,t),r_:m6.bind(null,t),H_:g6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Gv(t)?qv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Sb(t))})),t.ma}function li(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new l6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,t),r_:E6.bind(null,t),ta:_6.bind(null,t),na:x6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Tf(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(Ji,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Qv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(t,e){if(ts("AsyncQueue",`${e}: ${t}`),Ha(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ga=new rt(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ba{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ba(e,n,Xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I6{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=mE(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function mE(){return new uo(t=>GC(t),gf)}async function Rb(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new S6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Yv(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Xv(n)}async function Ab(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C6(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Xv(n)}function b6(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Xv(t){t.Ca.forEach(e=>{e.next()})}var $g,gE;(gE=$g||($g={})).Ma="default",gE.Cache="cache";class Pb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.key=e}}class kb{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=QC(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new pE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),w=yf(this.query,p)?p:null,E=!!f&&this.mutatedKeys.has(f.key),v=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;f&&w?f.data.isEqual(w.data)?E!==v&&(r.track({type:3,doc:w}),T=!0):this.su(f,w)||(r.track({type:2,doc:w}),T=!0,(l&&this.eu(w,l)>0||d&&this.eu(w,d)<0)&&(a=!0)):!f&&w?(r.track({type:0,doc:w}),T=!0):f&&!w&&(r.track({type:1,doc:f}),T=!0,(l||d)&&(a=!0)),T&&(w?(o=o.add(w),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,p)=>function(w,E){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:T})}};return v(w)-v(E)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new ba(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new kb(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Nb(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jv="SyncEngine";class A6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P6{constructor(e){this.key=e,this.hu=!1}}class N6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new uo(a=>GC(a),gf),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new $v,this.Vu={},this.mu=new Map,this.fu=Ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k6(t,e,n=!0){const r=Vb(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Db(r,e,n,!0),s}async function D6(t,e){const n=Vb(t);await Db(n,e,!0,!1)}async function Db(t,e,n,r){const s=await Z3(t.localStore,Sr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await M6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Eb(t.remoteStore,s),a}async function M6(t,e,n,r,s){t.pu=(p,f,w)=>async function(v,T,x,y){let S=T.view.ru(x);S.Cs&&(S=await lE(v.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,S)));const A=y&&y.targetChanges.get(T.targetId),M=y&&y.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(S,v.isPrimaryClient,A,M);return vE(v,T.targetId,j.au),j.snapshot}(t,p,f,w);const i=await lE(t.localStore,e,!0),o=new R6(e,i.Qs),a=o.ru(i.documents),l=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);vE(t,n,d.au);const h=new A6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function j6(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!gf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hv(r.remoteStore,s.targetId),Bg(r,s.targetId)}).catch(Wa)):(Bg(r,s.targetId),await Fg(r.localStore,s.targetId,!0))}async function O6(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hv(n.remoteStore,r.targetId))}async function L6(t,e,n){const r=W6(t);try{const s=await function(o,a){const l=de(o),d=Qe.now(),h=a.reduce((w,E)=>w.add(E.key),Ie());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=ns(),v=Ie();return l.Ns.getEntries(w,h).next(T=>{E=T,E.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,E)).next(T=>{p=T;const x=[];for(const y of a){const S=JF(y,p.get(y.key).overlayedDocument);S!=null&&x.push(new gi(y.key,S,UC(S.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(w,d,x,a)}).next(T=>{f=T;const x=T.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(w,T.batchId,x)})}).then(()=>({batchId:f.batchId,changes:XC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new rt(Se)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await tu(r,s.changes),await Tf(r.remoteStore)}catch(s){const i=Yv(s,"Failed to persist write");n.reject(i)}}async function Mb(t,e){const n=de(t);try{const r=await Y3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await tu(n,r,e)}catch(r){await Wa(r)}}function yE(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let d=!1;l.queries.forEach((h,p)=>{for(const f of p.Sa)f.va(a)&&(d=!0)}),d&&Xv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V6(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new rt(ie.comparator);o=o.insert(i,qt.newNoDocument(i,ue.min()));const a=Ie().add(i),l=new _f(ue.min(),new Map,new rt(Se),o,a);await Mb(r,l),r.du=r.du.remove(i),r.Au.delete(e),Zv(r)}else await Fg(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(Wa)}async function F6(t,e){const n=de(t),r=e.batch.batchId;try{const s=await Q3(n.localStore,e);Ob(n,r,null),jb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,s)}catch(s){await Wa(s)}}async function U6(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(p=>(Le(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);Ob(r,e,n),jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,s)}catch(s){await Wa(s)}}function jb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ob(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Lb(t,r)})}function Lb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zv(t))}function vE(t,e,n){for(const r of n)r instanceof Nb?(t.Ru.addReference(r.key,e),$6(t,r)):r instanceof kb?(ee(Jv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Lb(t,r.key)):le(19791,{wu:r})}function $6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(Jv,"New document in limbo: "+n),t.Eu.add(r),Zv(t))}function Zv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(We.fromString(e)),r=t.fu.next();t.Au.set(r,new P6(n)),t.du=t.du.insert(n,r),Eb(t.remoteStore,new js(Sr(jv(n.path)),r,"TargetPurposeLimboResolution",ff.ce))}}async function tu(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){s.push(d);const p=zv.As(l.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=de(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(d,f=>B.forEach(f.Es,w=>h.persistence.referenceDelegate.addReference(p,f.targetId,w)).next(()=>B.forEach(f.ds,w=>h.persistence.referenceDelegate.removeReference(p,f.targetId,w)))))}catch(p){if(!Ha(p))throw p;ee(Wv,"Failed to update sequence numbers: "+p)}for(const p of d){const f=p.targetId;if(!p.fromCache){const w=h.Ms.get(f),E=w.snapshotVersion,v=w.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(f,v)}}}(r.localStore,i))}async function B6(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee(Jv,"User change. New user:",e.toKey());const r=await vb(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Ls)}}function z6(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Vb(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V6.bind(null,e),e.Pu.H_=C6.bind(null,e.eventManager),e.Pu.yu=b6.bind(null,e.eventManager),e}function W6(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U6.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G3(this.persistence,new H3,e.initialUser,this.serializer)}Cu(e){return new yb(Bv.mi,this.serializer)}Du(e){return new t6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class H6 extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new yb(r=>wh.mi(r,n),this.serializer)}}class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B6.bind(null,this.syncEngine),await T6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I6}()}createDatastore(e){const n=xf(e.databaseInfo.databaseId),r=function(i){return new o6(i)}(e.databaseInfo);return function(i,o,a,l){return new u6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new h6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yE(this.syncEngine,n,0),function(){return dE.v()?new dE:new n6}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const p=new N6(s,i,o,a,l,d);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);ee(Ji,"RemoteStore shutting down."),i.Ea.add(5),await eu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class K6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=Av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee(ci,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(ci,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),ee(ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q6(t);ee(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>fE(e.remoteStore,s)),t._onlineComponents=e}async function q6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(ci,"Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ea("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new xh)}}else ee(ci,"Using default OfflineComponentProvider"),await tm(t,new H6(void 0));return t._offlineComponents}async function Ub(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(ci,"Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(ee(ci,"Using default OnlineComponentProvider"),await wE(t,new zg))),t._onlineComponents}function G6(t){return Ub(t).then(e=>e.syncEngine)}async function $b(t){const e=await Ub(t),n=e.eventManager;return n.onListen=k6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O6.bind(null,e.syncEngine),n}function Q6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new Fb({next:f=>{h.Nu(),o.enqueueAndForget(()=>Ab(i,p));const w=f.docs.has(a);!w&&f.fromCache?d.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&f.fromCache&&l&&l.source==="server"?d.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new Pb(jv(a.path),h,{includeMetadataChanges:!0,qa:!0});return Rb(i,p)}(await $b(t),t.asyncQueue,e,n,r)),r.promise}function Y6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new Fb({next:f=>{h.Nu(),o.enqueueAndForget(()=>Ab(i,p)),f.fromCache&&l.source==="server"?d.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new Pb(a,h,{includeMetadataChanges:!0,qa:!0});return Rb(i,p)}(await $b(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firestore.googleapis.com",xE=!0;class EE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R3)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nF;switch(r.type){case"firstParty":return new oF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(ee("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function X6(t,e,n,r={}){var d;t=or(t,Sf);const s=$a(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(hC(`https://${a}`),fC("Firestore",!0)),i.host!==zb&&i.host!==a&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Qi(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ht.MOCK_USER;else{h=bV(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ht(f)}t._authCredentials=new rF(new bC(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xc(n,ht._jsonSchema))return new ht(e,r||null,new ie(We.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:wt("string",ht._jsonSchemaVersion),referencePath:wt("string")};class Qs extends yi{constructor(e,n,r){super(e,n,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ie(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function ze(t,e,...n){if(t=Rt(t),RC("collection","path",e),t instanceof Sf){const r=We.fromString(e,...n);return jx(r),new Qs(t,null,r)}{if(!(t instanceof ht||t instanceof Qs))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return jx(r),new Qs(t.firestore,null,r)}}function rs(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Av.newId()),RC("doc","path",e),t instanceof Sf){const r=We.fromString(e,...n);return Mx(r),new ht(t,null,new ie(r))}{if(!(t instanceof ht||t instanceof Qs))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Mx(r),new ht(t.firestore,t instanceof Qs?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const r=em();r&&ee(TE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ha(e))throw e;ee(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fo extends Sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function J6(t,e){const n=typeof t=="object"?t:yC(),r=typeof t=="string"?t:fh,s=bv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IV("firestore");i&&X6(s,...i)}return s}function ew(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z6(t),t._firestoreClient}function Z6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new TF(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Bb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ot.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:wt("string",Vn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:wt("string",Cr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new br(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:wt("string",br._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^__.*__$/;class t5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class Wb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class tw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hb(this.Ac)&&e5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xf(e)}Cc(e,n,r,s=!1){return new tw({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bf(t){const e=t._freezeSettings(),n=xf(t._databaseId);return new n5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);rw("Data must be an object, but it was:",o,r);const a=qb(r,o);let l,d;if(i.merge)l=new In(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Wg(e,p,n);if(!o.contains(f))throw new X(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Qb(h,f)||h.push(f)}l=new In(h),d=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=o.fieldTransforms;return new t5(new pn(a),l,d)}class Rf extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}class nw extends Cf{_toFieldTransform(e){return new GF(e.path,new bc)}isEqual(e){return e instanceof nw}}function r5(t,e,n,r){const s=t.Cc(1,e,n);rw("Data must be an object, but it was:",s,r);const i=[],o=pn.empty();mi(r,(l,d)=>{const h=sw(e,l,n);d=Rt(d);const p=s.yc(h);if(d instanceof Rf)i.push(h);else{const f=nu(d,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new In(i);return new Wb(o,a,s.fieldTransforms)}function s5(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Wg(e,r,n)],l=[s];if(i.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Wg(e,i[f])),l.push(i[f+1]);const d=[],h=pn.empty();for(let f=a.length-1;f>=0;--f)if(!Qb(d,a[f])){const w=a[f];let E=l[f];E=Rt(E);const v=o.yc(w);if(E instanceof Rf)d.push(w);else{const T=nu(E,v);T!=null&&(d.push(w),h.set(w,T))}}const p=new In(d);return new Wb(h,p,o.fieldTransforms)}function i5(t,e,n,r=!1){return nu(n,t.Cc(r?4:3,e))}function nu(t,e){if(Gb(t=Rt(t)))return rw("Unsupported field value:",e,t),qb(t,e);if(t instanceof Cf)return function(r,s){if(!Hb(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=nu(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qe.fromDate(r);return{timestampValue:vh(s.serializer,i)}}if(r instanceof Qe){const i=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(s.serializer,i)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:cb(s.serializer,r._byteString)};if(r instanceof ht){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Uv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof br)return function(o,a){return{mapValue:{fields:{[LC]:{stringValue:FC},[ph]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ov(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${hf(r)}`)}(t,e)}function qb(t,e){const n={};return NC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,s)=>{const i=nu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Gb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Cr||t instanceof Vn||t instanceof ht||t instanceof Cf||t instanceof br)}function rw(t,e,n){if(!Gb(n)||!AC(n)){const r=hf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wg(t,e,n){if((e=Rt(e))instanceof If)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const o5=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(o5)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function Qb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Af("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a5 extends Yb{data(){return super.data()}}function Af(t,e){return typeof e=="string"?sw(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}class ow extends iw{}function lt(t,e,...n){let r=[];e instanceof iw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof aw).length,a=i.filter(l=>l instanceof Pf).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Pf extends ow{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return Xb(e._query,n),new yi(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=bf(e.firestore);return function(i,o,a,l,d,h,p){let f;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bE(p,h);const E=[];for(const v of p)E.push(CE(l,i,v));f={arrayValue:{values:E}}}else f=CE(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bE(p,h),f=i5(a,o,p,h==="in"||h==="not-in");return vt.create(d,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kl(t,e,n){const r=e,s=Af("where",t);return Pf._create(s,r,n)}class aw extends iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new aw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Xb(o,l),o=Mg(o,l)}(e._query,n),new yi(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lw extends ow{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(i,o)}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Rn(t,e="asc"){const n=e,r=Af("orderBy",t);return lw._create(r,n)}class cw extends ow{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cw(e,n,r)}_apply(e){return new yi(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function nm(t){return cw._create("limit",t,"F")}function CE(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qC(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ie.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zx(t,new ie(r))}if(n instanceof ht)return zx(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c5{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ph].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ct(o.doubleValue));return new br(n)}convertGeoPoint(e){return new Cr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ii(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Le(mb(r),9688,{name:e});const s=new Sc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ui extends Yb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Af("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:wt("string",Ui._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Cd extends Ui{data(e={}){return super.data(e)}}class Jo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cd(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Cd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Cd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:u5(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){t=or(t,ht);const e=or(t.firestore,fo);return Q6(ew(e),t._key).then(n=>f5(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:wt("string",Jo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Zb extends c5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Ze(t){t=or(t,yi);const e=or(t.firestore,fo),n=ew(e),r=new Zb(e);return l5(t._query),Y6(n,t._query).then(s=>new Jo(e,r,t,s))}function d5(t,e,n){t=or(t,ht);const r=or(t.firestore,fo),s=Jb(t.converter,e);return Df(r,[Kb(bf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$n.none())])}function h5(t,e,n,...r){t=or(t,ht);const s=or(t.firestore,fo),i=bf(s);let o;return o=typeof(e=Rt(e))=="string"||e instanceof If?s5(i,"updateDoc",t._key,e,n,r):r5(i,"updateDoc",t._key,e),Df(s,[o.toMutation(t._key,$n.exists(!0))])}function eR(t){return Df(or(t.firestore,fo),[new Lv(t._key,$n.none())])}function kf(t,e){const n=or(t.firestore,fo),r=rs(t),s=Jb(t.converter,e);return Df(n,[Kb(bf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Df(t,e){return function(r,s){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>L6(await G6(r),s,i)),i.promise}(ew(t),e)}function f5(t,e,n){const r=n.docs.get(e._key),s=new Zb(t);return new Ui(t,s,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function Ra(){return new nw("serverTimestamp")}(function(e,n=!0){(function(s){za=s})(Ba),xa(new Yi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fo(new sF(r.getProvider("auth-internal")),new aF(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),qs(Px,Nx,e),qs(Px,Nx,"esm2020")})();function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p5=tR,nR=new Qc("auth","Firebase",tR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Iv("@firebase/auth");function m5(t,...e){Th.logLevel<=Te.WARN&&Th.warn(`Auth (${Ba}): ${t}`,...e)}function bd(t,...e){Th.logLevel<=Te.ERROR&&Th.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,...e){throw uw(t,...e)}function Rr(t,...e){return uw(t,...e)}function rR(t,e,n){const r={...p5(),[e]:n};return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return rR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function ae(t,e,...n){if(!t)throw uw(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function ss(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function g5(){return RE()==="http:"||RE()==="https:"}function RE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g5()||DV()||"connection"in navigator)?navigator.onLine:!0}function v5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=PV()||MV()}get(){return y5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x5=new ru(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vi(t,e,n,r,s={}){return iR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Yc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return kV()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(d.credentials="include"),sR.fetch()(await oR(t,t.config.apiHost,n,a),d)})}async function iR(t,e,n){t._canInitEmulator=!1;const r={...w5,...e};try{const s=new T5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ed(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ed(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rR(t,h,d);lr(t,h)}}catch(s){if(s instanceof os)throw s;lr(t,"network-request-failed",{message:String(s)})}}async function Mf(t,e,n,r,s={}){const i=await vi(t,e,n,r,s);return"mfaPendingCredential"in i&&lr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function oR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?dw(t.config,s):`${t.config.apiScheme}://${s}`;return _5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function E5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),x5.get())})}}function ed(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function AE(t){return t!==void 0&&t.enterprise!==void 0}class S5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I5(t,e){return vi(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function Sh(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b5(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=hw(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xl(rm(s.auth_time)),issuedAtTime:Xl(rm(s.iat)),expirationTime:Xl(rm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function rm(t){return Number(t)*1e3}function hw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const s=lC(n);return s?JSON.parse(s):(bd("Failed to decode base64 JWT payload"),null)}catch(s){return bd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PE(t){const e=hw(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof os&&R5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Pc(t,Sh(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?aR(s.providerUserInfo):[],o=N5(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Kg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function P5(t){const e=Rt(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=await iR(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await oR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&$a(t.emulatorConfig.host)&&(l.credentials="include"),sR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D5(t,e){return vi(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=PE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await k5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zo;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b5(this,e)}reload(){return P5(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Pc(this,C5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:f,isAnonymous:w,providerData:E,stsTokenManager:v}=n;ae(p&&v,e,"internal-error");const T=Zo.fromJSON(this.name,v);ae(typeof p=="string",e,"internal-error"),gs(r,e.name),gs(s,e.name),ae(typeof f=="boolean",e,"internal-error"),ae(typeof w=="boolean",e,"internal-error"),gs(i,e.name),gs(o,e.name),gs(a,e.name),gs(l,e.name),gs(d,e.name),gs(h,e.name);const x=new er({uid:p,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:d,lastLoginAt:h});return E&&Array.isArray(E)&&(x.providerData=E.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zo;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?aR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zo;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Kg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function Hr(t){ss(t instanceof Function,"Expected a class definition");let e=NE.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lR.type="NONE";const kE=lR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(Hr(kE),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Hr(kE);const o=Rd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let p;if(typeof h=="string"){const f=await Sh(e,{idToken:h}).catch(()=>{});if(!f)break;p=await er._fromGetAccountInfoResponse(e,f,h)}else p=er._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ea(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ea(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pR(e))return"Blackberry";if(mR(e))return"Webos";if(uR(e))return"Safari";if((e.includes("chrome/")||dR(e))&&!e.includes("edge/"))return"Chrome";if(fR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cR(t=Jt()){return/firefox\//i.test(t)}function uR(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dR(t=Jt()){return/crios\//i.test(t)}function hR(t=Jt()){return/iemobile/i.test(t)}function fR(t=Jt()){return/android/i.test(t)}function pR(t=Jt()){return/blackberry/i.test(t)}function mR(t=Jt()){return/webos/i.test(t)}function fw(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M5(t=Jt()){var e;return fw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function j5(){return jV()&&document.documentMode===10}function gR(t=Jt()){return fw(t)||fR(t)||mR(t)||pR(t)||/windows phone/i.test(t)||hR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e=[]){let n;switch(t){case"Browser":n=DE(Jt());break;case"Worker":n=`${DE(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e={}){return vi(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=6;class F5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??V5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new O5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ys(this));const n=e?Rt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L5(this),n=new F5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await D5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&m5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ga(t){return Rt(t)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=zV(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $5(t){jf=t}function vR(t){return jf.loadJS(t)}function B5(){return jf.recaptchaEnterpriseScript}function z5(){return jf.gapiScript}function W5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class H5{constructor(){this.enterprise=new K5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q5="recaptcha-enterprise",wR="NO_RECAPTCHA";class G5{constructor(e){this.type=q5,this.auth=Ga(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{I5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new S5(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;AE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(wR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&AE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=B5();l.length!==0&&(l+=a),vR(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function jE(t,e,n,r=!1,s=!1){const i=new G5(t);let o;if(s)o=wR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function OE(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){const n=bv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qi(i,e??{}))return s;lr(s,"already-initialized")}return n.initialize({options:e})}function Y5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X5(t,e,n){const r=Ga(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=_R(e),{host:o,port:a}=J5(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Qi(d,r.config.emulator)&&Qi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$a(o)?(hC(`${i}//${o}${l}`),fC("Auth",!0)):Z5()}function _R(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J5(t){const e=_R(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:LE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:LE(o)}}}function LE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function eU(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e){return Mf(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e){return Mf(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function rU(t,e){return Mf(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends pw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,n,"signInWithPassword",tU);case"emailLink":return nU(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,r,"signUpPassword",eU);case"emailLink":return rU(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return Mf(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="http://localhost";class Zi extends pw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Zi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:sU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oU(t){const e=bl(Rl(t)).link,n=e?bl(Rl(e)).deep_link_id:null,r=bl(Rl(t)).deep_link_id;return(r?bl(Rl(r)).link:null)||r||n||e||t}class mw{constructor(e){const n=bl(Rl(e)),r=n.apiKey??null,s=n.oobCode??null,i=iU(n.mode??null);ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oU(e);try{return new mw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mw.parseLink(n);return ae(r,"argument-error"),Nc._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends xR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends su{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends su{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends su{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=VE(r);return new Aa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VE(r);return new Aa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends os{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ch(e,n,r,s)}}function ER(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,i,e,r):i})}async function aU(t,e,n=!1){const r=await Pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(Ys(r));const s="reauthenticate";try{const i=await Pc(t,ER(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=hw(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Aa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ys(t));const r="signIn",s=await ER(t,r,e),i=await Aa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function cU(t,e){return TR(Ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t){const e=Ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function dU(t,e,n){return Zn(t.app)?Promise.reject(Ys(t)):cU(Rt(t),Qa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uU(t),r})}function hU(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function fU(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function pU(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function mU(t){return Rt(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=1e3,yU=10;class IR extends SR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);j5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const vU=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends SR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CR.type="SESSION";const bR=CR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await wU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=gw("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function xU(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function EU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function SU(){return RR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebaseLocalStorageDb",IU=1,Rh="firebaseLocalStorage",PR="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function CU(){const t=indexedDB.deleteDatabase(AR);return new iu(t).toPromise()}function qg(){const t=indexedDB.open(AR,IU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:PR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await CU(),e(await qg()))})})}async function FE(t,e,n){const r=Lf(t,!0).put({[PR]:e,value:n});return new iu(r).toPromise()}async function bU(t,e){const n=Lf(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function UE(t,e){const n=Lf(t,!0).delete(e);return new iu(n).toPromise()}const RU=800,AU=3;class NR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(SU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await EU(),!this.activeServiceWorker)return;this.sender=new _U(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await FE(e,bh,"1"),await UE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Lf(s,!1).getAll();return new iu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NR.type="LOCAL";const PU=NR;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){return e?Hr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends pw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kU(t){return TR(t.auth,new yw(t),t.bypassAuthState)}function DU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),lU(n,new yw(t),t.bypassAuthState)}async function MU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),aU(n,new yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kU;case"linkViaPopup":case"linkViaRedirect":return MU;case"reauthViaPopup":case"reauthViaRedirect":return DU;default:lr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new ru(2e3,1e4);class Bo extends kR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jU.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="pendingRedirect",Ad=new Map;class LU extends kR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const r=await VU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VU(t,e){const n=$U(e),r=UU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function FU(t,e){Ad.set(t._key(),e)}function UU(t){return Hr(t._redirectPersistence)}function $U(t){return Rd(OU,t.config.apiKey,t.name)}async function BU(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ys(t));const r=Ga(t),s=NU(r,e),o=await new LU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=10*60*1e3;class WU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zU&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GU=/^https?/;async function QU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KU(t);for(const n of e)try{if(YU(n))return}catch{}lr(t,"unauthorized-domain")}function YU(t){const e=Hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GU.test(n))return!1;if(qU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new ru(3e4,6e4);function BE(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JU(t){return new Promise((e,n)=>{var s,i,o;function r(){BE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(Rr(t,"network-request-failed"))},timeout:XU.get()})}if((i=(s=Ar().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ar().gapi)!=null&&o.load)r();else{const a=W5("iframefcb");return Ar()[a]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},vR(`${z5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function ZU(t){return Pd=Pd||JU(t),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new ru(5e3,15e3),t9="__/auth/iframe",n9="emulator/auth/iframe",r9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i9(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dw(e,n9):`https://${t.config.authDomain}/${t9}`,r={apiKey:e.apiKey,appName:t.name,v:Ba},s=s9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yc(r).slice(1)}`}async function o9(t){const e=await ZU(t),n=Ar().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:i9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=Ar().setTimeout(()=>{i(o)},e9.get());function l(){Ar().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l9=500,c9=600,u9="_blank",d9="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h9(t,e,n,r=l9,s=c9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...a9,width:r.toString(),height:s.toString(),top:i,left:o},d=Jt().toLowerCase();n&&(a=dR(d)?u9:n),cR(d)&&(e=e||d9,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[w,E])=>`${f}${w}=${E},`,"");if(M5(d)&&a!=="_self")return f9(e||"",a),new zE(null);const p=window.open(e||"",a,h);ae(p,t,"popup-blocked");try{p.focus()}catch{}return new zE(p)}function f9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="__/auth/handler",m9="emulator/auth/handler",g9=encodeURIComponent("fac");async function WE(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ba,eventId:s};if(e instanceof xR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof su){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${g9}=${encodeURIComponent(l)}`:"";return`${y9(t)}?${Yc(a).slice(1)}${d}`}function y9({config:t}){return t.emulator?dw(t,m9):`https://${t.authDomain}/${p9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class v9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bR,this._completeRedirectFn=BU,this._overrideRedirectResult=FU}async _openPopup(e,n,r,s){var o;ss((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await WE(e,n,r,Hg(),s);return h9(e,i,gw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await WE(e,n,r,Hg(),s);return xU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o9(e),r=new WU(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[sm];i!==void 0&&n(!!i),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gR()||uR()||fw()}}const w9=v9;var HE="@firebase/auth",KE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E9(t){xa(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yR(t)},d=new U5(r,s,i,l);return Y5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new Yi("auth-internal",e=>{const n=Ga(e.getProvider("auth").getImmediate());return(r=>new _9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(HE,KE,x9(t)),qs(HE,KE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=5*60,S9=dC("authIdTokenMaxAge")||T9;let qE=null;const I9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S9)return;const s=n==null?void 0:n.token;qE!==s&&(qE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function C9(t=yC()){const e=bv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q5(t,{popupRedirectResolver:w9,persistence:[PU,vU,bR]}),r=dC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=I9(i.toString());fU(n,o,()=>o(n.currentUser)),hU(n,a=>o(a))}}const s=cC("auth");return s&&X5(n,`http://${s}`),n}function b9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",b9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E9("Browser");const R9={apiKey:"AIzaSyAC8JZM9Jmtak8kv_QrJ30a1nCpd8k7N1M",authDomain:"kabarsf.firebaseapp.com",projectId:"kabarsf",storageBucket:"kabarsf.firebasestorage.app",messagingSenderId:"1070337284063",appId:"1:1070337284063:web:9028507f340b3bf096966a",measurementId:"G-Q0Z62KYYH6"},MR=gC(R9),Re=J6(MR),im=C9(MR),jR=g.createContext(void 0),A9=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),i=async l=>{const d=rs(Re,"users",l.uid),h=await Nf(d);if(h.exists()){const p=h.data();return{id:l.uid,email:l.email||"",name:p.name,role:p.role,classId:p.classId}}return null};g.useEffect(()=>{const l=pU(im,async d=>{if(d){const h=await i(d);n(h)}else n(null);s(!1)});return()=>l()},[]);const o=async(l,d)=>{try{const p=(await dU(im,l,d)).user,f=await i(p);return f?(n(f),!0):!1}catch(h){return console.error("Login error:",h),!1}},a=async()=>{try{await mU(im),n(null)}catch(l){console.error("Logout error:",l)}};return u.jsx(jR.Provider,{value:{user:e,login:o,logout:a,isAuthenticated:!!e,isLoading:r},children:!r&&t})},mo=()=>{const t=g.useContext(jR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ci=({children:t,requiredRole:e})=>{const{user:n,isAuthenticated:r}=mo();return r?e&&(n==null?void 0:n.role)!==e?u.jsx(px,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:t}):u.jsx(px,{to:"/login",replace:!0})},ye=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const Ae=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));Ae.displayName="CardHeader";const ke=g.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));ke.displayName="CardTitle";const P9=g.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));P9.displayName="CardDescription";const ve=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));ve.displayName="CardContent";const N9=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));N9.displayName="CardFooter";const k9=rv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Zs:"button";return u.jsx(o,{className:oe(k9({variant:e,size:n,className:t})),ref:i,...s})});Ce.displayName="Button";var D9=g.createContext(void 0);function Vf(t){const e=g.useContext(D9);return t||e||"ltr"}var om=0;function vw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GE()),document.body.insertAdjacentElement("beforeend",t[1]??GE()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),om--}},[])}function GE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var am="focusScope.autoFocusOnMount",lm="focusScope.autoFocusOnUnmount",QE={bubbles:!1,cancelable:!0},M9="FocusScope",Ff=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),d=Yt(s),h=Yt(i),p=g.useRef(null),f=je(e,v=>l(v)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(S){if(w.paused||!a)return;const A=S.target;a.contains(A)?p.current=A:vs(p.current,{select:!0})},T=function(S){if(w.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||vs(p.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const M of S)M.removedNodes.length>0&&vs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",T);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",T),y.disconnect()}}},[r,a,w.paused]),g.useEffect(()=>{if(a){XE.add(w);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(am,QE);a.addEventListener(am,d),a.dispatchEvent(x),x.defaultPrevented||(j9(U9(OR(a)),{select:!0}),document.activeElement===v&&vs(a))}return()=>{a.removeEventListener(am,d),setTimeout(()=>{const x=new CustomEvent(lm,QE);a.addEventListener(lm,h),a.dispatchEvent(x),x.defaultPrevented||vs(v??document.body,{select:!0}),a.removeEventListener(lm,h),XE.remove(w)},0)}}},[a,d,h,w]);const E=g.useCallback(v=>{if(!n&&!r||w.paused)return;const T=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(T&&x){const y=v.currentTarget,[S,A]=O9(y);S&&A?!v.shiftKey&&x===A?(v.preventDefault(),n&&vs(S,{select:!0})):v.shiftKey&&x===S&&(v.preventDefault(),n&&vs(A,{select:!0})):x===y&&v.preventDefault()}},[n,r,w.paused]);return u.jsx(he.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});Ff.displayName=M9;function j9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vs(r,{select:e}),document.activeElement!==n)return}function O9(t){const e=OR(t),n=YE(e,t),r=YE(e.reverse(),t);return[n,r]}function OR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YE(t,e){for(const n of t)if(!L9(n,{upTo:e}))return n}function L9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V9(t){return t instanceof HTMLInputElement&&"select"in t}function vs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&V9(t)&&e&&t.select()}}var XE=F9();function F9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JE(t,e),t.unshift(e)},remove(e){var n;t=JE(t,e),(n=t[0])==null||n.resume()}}}function JE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U9(t){return t.filter(e=>e.tagName!=="A")}function $9(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function d(p){const{scope:f,children:w,...E}=p,v=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return u.jsx(v.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,B9(s,...e)]}function B9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var cm="rovingFocusGroup.onEntryFocus",z9={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[Gg,LR,W9]=Jh(Uf),[H9,$f]=$9(Uf,[W9]),[K9,q9]=H9(Uf),VR=g.forwardRef((t,e)=>u.jsx(Gg.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Gg.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(G9,{...t,ref:e})})}));VR.displayName=Uf;var G9=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=t,f=g.useRef(null),w=je(e,f),E=Vf(i),[v=null,T]=Ki({prop:o,defaultProp:a,onChange:l}),[x,y]=g.useState(!1),S=Yt(d),A=LR(n),M=g.useRef(!1),[j,C]=g.useState(0);return g.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(cm,S),()=>I.removeEventListener(cm,S)},[S]),u.jsx(K9,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(I=>T(I),[T]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>C(I=>I-1),[]),children:u.jsx(he.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...p,ref:w,style:{outline:"none",...t.style},onMouseDown:Y(t.onMouseDown,()=>{M.current=!0}),onFocus:Y(t.onFocus,I=>{const R=!M.current;if(I.target===I.currentTarget&&R&&!x){const P=new CustomEvent(cm,z9);if(I.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=A().filter(q=>q.focusable),D=k.find(q=>q.active),N=k.find(q=>q.id===v),Z=[D,N,...k].filter(Boolean).map(q=>q.ref.current);$R(Z,h)}}M.current=!1}),onBlur:Y(t.onBlur,()=>y(!1))})})}),FR="RovingFocusGroupItem",UR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Tr(),l=i||a,d=q9(FR,n),h=d.currentTabStopId===l,p=LR(n),{onFocusableItemAdd:f,onFocusableItemRemove:w}=d;return g.useEffect(()=>{if(r)return f(),()=>w()},[r,f,w]),u.jsx(Gg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(he.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Y(t.onMouseDown,E=>{r?d.onItemFocus(l):E.preventDefault()}),onFocus:Y(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:Y(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=X9(E,d.orientation,d.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let x=p().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(E.currentTarget);x=d.loop?J9(x,y+1):x.slice(y+1)}setTimeout(()=>$R(x))}})})})});UR.displayName=FR;var Q9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function X9(t,e,n){const r=Y9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Q9[r]}function $R(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function J9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BR=VR,zR=UR,Z9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},To=new WeakMap,td=new WeakMap,nd={},um=0,WR=function(t){return t&&(t.host||WR(t.parentNode))},e$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=WR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t$=function(t,e,n,r){var s=e$(e,Array.isArray(t)?t:[t]);nd[n]||(nd[n]=new WeakMap);var i=nd[n],o=[],a=new Set,l=new Set(s),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};s.forEach(d);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var w=f.getAttribute(r),E=w!==null&&w!=="false",v=(To.get(f)||0)+1,T=(i.get(f)||0)+1;To.set(f,v),i.set(f,T),o.push(f),v===1&&E&&td.set(f,!0),T===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),a.clear(),um++,function(){o.forEach(function(p){var f=To.get(p)-1,w=i.get(p)-1;To.set(p,f),i.set(p,w),f||(td.has(p)||p.removeAttribute(r),td.delete(p)),w||p.removeAttribute(n)}),um--,um||(To=new WeakMap,To=new WeakMap,td=new WeakMap,nd={})}},ww=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Z9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),t$(r,s,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)};function HR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function n$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Nd="right-scroll-bar-position",kd="width-before-scroll-bar",r$="with-scroll-bars-hidden",s$="--removed-body-scroll-bar-size";function dm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function i$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var o$=typeof window<"u"?g.useLayoutEffect:g.useEffect,ZE=new WeakMap;function a$(t,e){var n=i$(null,function(r){return t.forEach(function(s){return dm(s,r)})});return o$(function(){var r=ZE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||dm(a,null)}),i.forEach(function(a){s.has(a)||dm(a,o)})}ZE.set(n,t)},[t]),n}function l$(t){return t}function c$(t,e){e===void 0&&(e=l$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function u$(t){t===void 0&&(t={});var e=c$(null);return e.options=_r({async:!0,ssr:!1},t),e}var KR=function(t){var e=t.sideCar,n=HR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,_r({},n))};KR.isSideCarExport=!0;function d$(t,e){return t.useMedium(e),KR}var qR=u$(),hm=function(){},Bf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:hm,onWheelCapture:hm,onTouchMoveCapture:hm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,w=t.noIsolation,E=t.inert,v=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,y=t.gapMode,S=HR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,M=a$([n,e]),j=_r(_r({},S),s);return g.createElement(g.Fragment,null,h&&g.createElement(A,{sideCar:qR,removeScrollBar:d,shards:p,noIsolation:w,inert:E,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?g.cloneElement(g.Children.only(a),_r(_r({},j),{ref:M})):g.createElement(x,_r({},j,{className:l,ref:M}),a))});Bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bf.classNames={fullWidth:kd,zeroRight:Nd};var h$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h$();return e&&t.setAttribute("nonce",e),t}function p$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function m$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=f$())&&(p$(e,n),m$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y$=function(){var t=g$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},GR=function(){var t=y$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},v$={left:0,top:0,right:0,gap:0},fm=function(t){return parseInt(t||"",10)||0},w$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[fm(n),fm(r),fm(s)]},_$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return v$;var e=w$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},x$=GR(),na="data-scroll-locked",E$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(r$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kd," .").concat(kd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(na,`] {
    `).concat(s$,": ").concat(a,`px;
  }
`)},e1=function(){var t=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(t)?t:0},T$=function(){g.useEffect(function(){return document.body.setAttribute(na,(e1()+1).toString()),function(){var t=e1()-1;t<=0?document.body.removeAttribute(na):document.body.setAttribute(na,t.toString())}},[])},S$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;T$();var i=g.useMemo(function(){return _$(s)},[s]);return g.createElement(x$,{styles:E$(i,!e,s,n?"":"!important")})},Qg=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{Qg=!1}var So=Qg?{passive:!1}:!1,I$=function(t){return t.tagName==="TEXTAREA"},QR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!I$(t)&&n[e]==="visible")},C$=function(t){return QR(t,"overflowY")},b$=function(t){return QR(t,"overflowX")},t1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=YR(t,r);if(s){var i=XR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},A$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},YR=function(t,e){return t==="v"?C$(e):b$(e)},XR=function(t,e){return t==="v"?R$(e):A$(e)},P$=function(t,e){return t==="h"&&e==="rtl"?-1:1},N$=function(t,e,n,r,s){var i=P$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,p=0,f=0;do{var w=XR(t,a),E=w[0],v=w[1],T=w[2],x=v-T-i*E;(E||x)&&YR(t,a)&&(p+=x,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(d=!0),d},sd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n1=function(t){return[t.deltaX,t.deltaY]},r1=function(t){return t&&"current"in t?t.current:t},k$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},D$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M$=0,Io=[];function j$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(M$++)[0],i=g.useState(GR)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=n$([t.lockRef.current],(t.shards||[]).map(r1),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=sd(v),y=n.current,S="deltaX"in v?v.deltaX:y[0]-x[0],A="deltaY"in v?v.deltaY:y[1]-x[1],M,j=v.target,C=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in v&&C==="h"&&j.type==="range")return!1;var I=t1(C,j);if(!I)return!0;if(I?M=C:(M=C==="v"?"h":"v",I=t1(C,j)),!I)return!1;if(!r.current&&"changedTouches"in v&&(S||A)&&(r.current=M),!M)return!0;var R=r.current||M;return N$(R,T,v,R==="h"?S:A,!0)},[]),l=g.useCallback(function(v){var T=v;if(!(!Io.length||Io[Io.length-1]!==i)){var x="deltaY"in T?n1(T):sd(T),y=e.current.filter(function(M){return M.name===T.type&&(M.target===T.target||T.target===M.shadowParent)&&k$(M.delta,x)})[0];if(y&&y.should){T.cancelable&&T.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(r1).filter(Boolean).filter(function(M){return M.contains(T.target)}),A=S.length>0?a(T,S[0]):!o.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),d=g.useCallback(function(v,T,x,y){var S={name:v,delta:T,target:x,should:y,shadowParent:O$(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),h=g.useCallback(function(v){n.current=sd(v),r.current=void 0},[]),p=g.useCallback(function(v){d(v.type,n1(v),v.target,a(v,t.lockRef.current))},[]),f=g.useCallback(function(v){d(v.type,sd(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return Io.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,So),document.addEventListener("touchmove",l,So),document.addEventListener("touchstart",h,So),function(){Io=Io.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,So),document.removeEventListener("touchmove",l,So),document.removeEventListener("touchstart",h,So)}},[]);var w=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(i,{styles:D$(s)}):null,w?g.createElement(S$,{gapMode:t.gapMode}):null)}function O$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L$=d$(qR,j$);var zf=g.forwardRef(function(t,e){return g.createElement(Bf,_r({},t,{ref:e,sideCar:L$}))});zf.classNames=Bf.classNames;var Yg=["Enter"," "],V$=["ArrowDown","PageUp","Home"],JR=["ArrowUp","PageDown","End"],F$=[...V$,...JR],U$={ltr:[...Yg,"ArrowRight"],rtl:[...Yg,"ArrowLeft"]},$$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ou="Menu",[kc,B$,z$]=Jh(ou),[go,ZR]=ao(ou,[z$,Va,$f]),Wf=Va(),eA=$f(),[W$,yo]=go(ou),[H$,au]=go(ou),tA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Wf(e),[l,d]=g.useState(null),h=g.useRef(!1),p=Yt(i),f=Vf(s);return g.useEffect(()=>{const w=()=>{h.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>h.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),u.jsx(jI,{...a,children:u.jsx(W$,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:d,children:u.jsx(H$,{scope:e,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};tA.displayName=ou;var K$="MenuAnchor",_w=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wf(n);return u.jsx(mv,{...s,...r,ref:e})});_w.displayName=K$;var xw="MenuPortal",[q$,nA]=go(xw,{forceMount:void 0}),rA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=yo(xw,e);return u.jsx(q$,{scope:e,forceMount:n,children:u.jsx(cr,{present:n||i.open,children:u.jsx(Wc,{asChild:!0,container:s,children:r})})})};rA.displayName=xw;var Bn="MenuContent",[G$,Ew]=go(Bn),sA=g.forwardRef((t,e)=>{const n=nA(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=yo(Bn,t.__scopeMenu),o=au(Bn,t.__scopeMenu);return u.jsx(kc.Provider,{scope:t.__scopeMenu,children:u.jsx(cr,{present:r||i.open,children:u.jsx(kc.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Q$,{...s,ref:e}):u.jsx(Y$,{...s,ref:e})})})})}),Q$=g.forwardRef((t,e)=>{const n=yo(Bn,t.__scopeMenu),r=g.useRef(null),s=je(e,r);return g.useEffect(()=>{const i=r.current;if(i)return ww(i)},[]),u.jsx(Tw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Y(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Y$=g.forwardRef((t,e)=>{const n=yo(Bn,t.__scopeMenu);return u.jsx(Tw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Tw=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:w,disableOutsideScroll:E,...v}=t,T=yo(Bn,n),x=au(Bn,n),y=Wf(n),S=eA(n),A=B$(n),[M,j]=g.useState(null),C=g.useRef(null),I=je(e,C,T.onContentChange),R=g.useRef(0),P=g.useRef(""),k=g.useRef(0),D=g.useRef(null),N=g.useRef("right"),$=g.useRef(0),Z=E?zf:g.Fragment,q=E?{as:Zs,allowPinchZoom:!0}:void 0,se=V=>{var ne,xe;const H=P.current+V,K=A().filter(Pe=>!Pe.disabled),J=document.activeElement,re=(ne=K.find(Pe=>Pe.ref.current===J))==null?void 0:ne.textValue,_e=K.map(Pe=>Pe.textValue),$e=lB(_e,H,re),fe=(xe=K.find(Pe=>Pe.textValue===$e))==null?void 0:xe.ref.current;(function Pe(me){P.current=me,window.clearTimeout(R.current),me!==""&&(R.current=window.setTimeout(()=>Pe(""),1e3))})(H),fe&&setTimeout(()=>fe.focus())};g.useEffect(()=>()=>window.clearTimeout(R.current),[]),vw();const L=g.useCallback(V=>{var K,J;return N.current===((K=D.current)==null?void 0:K.side)&&uB(V,(J=D.current)==null?void 0:J.area)},[]);return u.jsx(G$,{scope:n,searchRef:P,onItemEnter:g.useCallback(V=>{L(V)&&V.preventDefault()},[L]),onItemLeave:g.useCallback(V=>{var H;L(V)||((H=C.current)==null||H.focus(),j(null))},[L]),onTriggerLeave:g.useCallback(V=>{L(V)&&V.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:g.useCallback(V=>{D.current=V},[]),children:u.jsx(Z,{...q,children:u.jsx(Ff,{asChild:!0,trapped:s,onMountAutoFocus:Y(i,V=>{var H;V.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Da,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:w,children:u.jsx(BR,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:j,onEntryFocus:Y(l,V=>{x.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(gv,{role:"menu","aria-orientation":"vertical","data-state":_A(T.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:Y(v.onKeyDown,V=>{const K=V.target.closest("[data-radix-menu-content]")===V.currentTarget,J=V.ctrlKey||V.altKey||V.metaKey,re=V.key.length===1;K&&(V.key==="Tab"&&V.preventDefault(),!J&&re&&se(V.key));const _e=C.current;if(V.target!==_e||!F$.includes(V.key))return;V.preventDefault();const fe=A().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);JR.includes(V.key)&&fe.reverse(),oB(fe)}),onBlur:Y(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:Y(t.onPointerMove,Dc(V=>{const H=V.target,K=$.current!==V.clientX;if(V.currentTarget.contains(H)&&K){const J=V.clientX>$.current?"right":"left";N.current=J,$.current=V.clientX}}))})})})})})})});sA.displayName=Bn;var X$="MenuGroup",Sw=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(he.div,{role:"group",...r,ref:e})});Sw.displayName=X$;var J$="MenuLabel",iA=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(he.div,{...r,ref:e})});iA.displayName=J$;var Ah="MenuItem",s1="menu.itemSelect",Hf=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=au(Ah,t.__scopeMenu),a=Ew(Ah,t.__scopeMenu),l=je(e,i),d=g.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const f=new CustomEvent(s1,{bubbles:!0,cancelable:!0});p.addEventListener(s1,w=>r==null?void 0:r(w),{once:!0}),Zy(p,f),f.defaultPrevented?d.current=!1:o.onClose()}};return u.jsx(oA,{...s,ref:l,disabled:n,onClick:Y(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),d.current=!0},onPointerUp:Y(t.onPointerUp,p=>{var f;d.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:Y(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||Yg.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Hf.displayName=Ah;var oA=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Ew(Ah,n),a=eA(n),l=g.useRef(null),d=je(e,l),[h,p]=g.useState(!1),[f,w]=g.useState("");return g.useEffect(()=>{const E=l.current;E&&w((E.textContent??"").trim())},[i.children]),u.jsx(kc.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:u.jsx(zR,{asChild:!0,...a,focusable:!r,children:u.jsx(he.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:Y(t.onPointerMove,Dc(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(t.onPointerLeave,Dc(E=>o.onItemLeave(E))),onFocus:Y(t.onFocus,()=>p(!0)),onBlur:Y(t.onBlur,()=>p(!1))})})})}),Z$="MenuCheckboxItem",aA=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(hA,{scope:t.__scopeMenu,checked:n,children:u.jsx(Hf,{role:"menuitemcheckbox","aria-checked":Ph(n)?"mixed":n,...s,ref:e,"data-state":Cw(n),onSelect:Y(s.onSelect,()=>r==null?void 0:r(Ph(n)?!0:!n),{checkForDefaultPrevented:!1})})})});aA.displayName=Z$;var lA="MenuRadioGroup",[eB,tB]=go(lA,{value:void 0,onValueChange:()=>{}}),cA=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Yt(r);return u.jsx(eB,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(Sw,{...s,ref:e})})});cA.displayName=lA;var uA="MenuRadioItem",dA=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=tB(uA,t.__scopeMenu),i=n===s.value;return u.jsx(hA,{scope:t.__scopeMenu,checked:i,children:u.jsx(Hf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Cw(i),onSelect:Y(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});dA.displayName=uA;var Iw="MenuItemIndicator",[hA,nB]=go(Iw,{checked:!1}),fA=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=nB(Iw,n);return u.jsx(cr,{present:r||Ph(i.checked)||i.checked===!0,children:u.jsx(he.span,{...s,ref:e,"data-state":Cw(i.checked)})})});fA.displayName=Iw;var rB="MenuSeparator",pA=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});pA.displayName=rB;var sB="MenuArrow",mA=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wf(n);return u.jsx(yv,{...s,...r,ref:e})});mA.displayName=sB;var iB="MenuSub",[E8,gA]=go(iB),Ml="MenuSubTrigger",yA=g.forwardRef((t,e)=>{const n=yo(Ml,t.__scopeMenu),r=au(Ml,t.__scopeMenu),s=gA(Ml,t.__scopeMenu),i=Ew(Ml,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,d={__scopeMenu:t.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),u.jsx(_w,{asChild:!0,...d,children:u.jsx(oA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_A(n.open),...t,ref:Xh(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Y(t.onPointerMove,Dc(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Y(t.onPointerLeave,Dc(p=>{var w,E;h();const f=(w=n.content)==null?void 0:w.getBoundingClientRect();if(f){const v=(E=n.content)==null?void 0:E.dataset.side,T=v==="right",x=T?-5:5,y=f[T?"left":"right"],S=f[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+x,y:p.clientY},{x:y,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:y,y:f.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Y(t.onKeyDown,p=>{var w;const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||U$[r.dir].includes(p.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),p.preventDefault())})})})});yA.displayName=Ml;var vA="MenuSubContent",wA=g.forwardRef((t,e)=>{const n=nA(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=yo(Bn,t.__scopeMenu),o=au(Bn,t.__scopeMenu),a=gA(vA,t.__scopeMenu),l=g.useRef(null),d=je(e,l);return u.jsx(kc.Provider,{scope:t.__scopeMenu,children:u.jsx(cr,{present:r||i.open,children:u.jsx(kc.Slot,{scope:t.__scopeMenu,children:u.jsx(Tw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Y(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Y(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Y(t.onKeyDown,h=>{var w;const p=h.currentTarget.contains(h.target),f=$$[o.dir].includes(h.key);p&&f&&(i.onOpenChange(!1),(w=a.trigger)==null||w.focus(),h.preventDefault())})})})})})});wA.displayName=vA;function _A(t){return t?"open":"closed"}function Ph(t){return t==="indeterminate"}function Cw(t){return Ph(t)?"indeterminate":t?"checked":"unchecked"}function oB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function aB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function lB(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=aB(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function cB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,d=e[o].x,h=e[o].y;l>r!=h>r&&n<(d-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function uB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return cB(n,e)}function Dc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dB=tA,hB=_w,fB=rA,pB=sA,mB=Sw,gB=iA,yB=Hf,vB=aA,wB=cA,_B=dA,xB=fA,EB=pA,TB=mA,SB=yA,IB=wA,bw="DropdownMenu",[CB,T8]=ao(bw,[ZR]),cn=ZR(),[bB,xA]=CB(bw),EA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=cn(e),d=g.useRef(null),[h=!1,p]=Ki({prop:s,defaultProp:i,onChange:o});return u.jsx(bB,{scope:e,triggerId:Tr(),triggerRef:d,contentId:Tr(),open:h,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(f=>!f),[p]),modal:a,children:u.jsx(dB,{...l,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};EA.displayName=bw;var TA="DropdownMenuTrigger",SA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=xA(TA,n),o=cn(n);return u.jsx(hB,{asChild:!0,...o,children:u.jsx(he.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Xh(e,i.triggerRef),onPointerDown:Y(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Y(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});SA.displayName=TA;var RB="DropdownMenuPortal",IA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=cn(e);return u.jsx(fB,{...r,...n})};IA.displayName=RB;var CA="DropdownMenuContent",bA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xA(CA,n),i=cn(n),o=g.useRef(!1);return u.jsx(pB,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Y(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Y(t.onInteractOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bA.displayName=CA;var AB="DropdownMenuGroup",PB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(mB,{...s,...r,ref:e})});PB.displayName=AB;var NB="DropdownMenuLabel",RA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(gB,{...s,...r,ref:e})});RA.displayName=NB;var kB="DropdownMenuItem",AA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(yB,{...s,...r,ref:e})});AA.displayName=kB;var DB="DropdownMenuCheckboxItem",PA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(vB,{...s,...r,ref:e})});PA.displayName=DB;var MB="DropdownMenuRadioGroup",jB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(wB,{...s,...r,ref:e})});jB.displayName=MB;var OB="DropdownMenuRadioItem",NA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(_B,{...s,...r,ref:e})});NA.displayName=OB;var LB="DropdownMenuItemIndicator",kA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(xB,{...s,...r,ref:e})});kA.displayName=LB;var VB="DropdownMenuSeparator",DA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(EB,{...s,...r,ref:e})});DA.displayName=VB;var FB="DropdownMenuArrow",UB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(TB,{...s,...r,ref:e})});UB.displayName=FB;var $B="DropdownMenuSubTrigger",MA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(SB,{...s,...r,ref:e})});MA.displayName=$B;var BB="DropdownMenuSubContent",jA=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return u.jsx(IB,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jA.displayName=BB;var zB=EA,WB=SA,HB=IA,OA=bA,LA=RA,VA=AA,FA=PA,UA=NA,$A=kA,BA=DA,zA=MA,WA=jA;const KB=zB,qB=WB,GB=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(zA,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(sM,{className:"ml-auto h-4 w-4"})]}));GB.displayName=zA.displayName;const QB=g.forwardRef(({className:t,...e},n)=>u.jsx(WA,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));QB.displayName=WA.displayName;const HA=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(HB,{children:u.jsx(OA,{ref:r,sideOffset:e,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));HA.displayName=OA.displayName;const Xg=g.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(VA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Xg.displayName=VA.displayName;const YB=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(FA,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($A,{children:u.jsx(rI,{className:"h-4 w-4"})})}),e]}));YB.displayName=FA.displayName;const XB=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(UA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($A,{children:u.jsx(oM,{className:"h-2 w-2 fill-current"})})}),e]}));XB.displayName=UA.displayName;const JB=g.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(LA,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));JB.displayName=LA.displayName;const ZB=g.forwardRef(({className:t,...e},n)=>u.jsx(BA,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));ZB.displayName=BA.displayName;const on=()=>{const t=lo(),e=co(),{user:n,logout:r,isAuthenticated:s}=mo(),i=[{name:"Beranda",href:"/"},{name:"Jurnal",href:"/journal"},{name:"Refleksi",href:"/reflection"},{name:"Diary",href:"/diary"}],o=l=>t.pathname===l,a=()=>{r(),e("/")};return u.jsx("nav",{className:"bg-white shadow-sm border-b",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(dt,{to:"/",className:"flex items-center gap-2",children:[u.jsx(Kc,{className:"w-8 h-8 text-blue-600"}),u.jsx("span",{className:"text-xl font-bold text-gray-800",children:"WritingHub"})]}),u.jsx("div",{className:"hidden md:flex space-x-8",children:i.map(l=>u.jsx(dt,{to:l.href,className:`px-3 py-2 text-sm font-medium transition-colors ${o(l.href)?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}`,children:l.name},l.name))}),u.jsx("div",{className:"flex items-center gap-4",children:s?u.jsxs(u.Fragment,{children:[u.jsx(dt,{to:"/dashboard",children:u.jsx(Ce,{variant:"outline",size:"sm",children:"Dashboard"})}),u.jsxs(KB,{children:[u.jsx(qB,{asChild:!0,children:u.jsxs(Ce,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[u.jsx(qi,{className:"w-4 h-4"}),n==null?void 0:n.name,u.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:(n==null?void 0:n.role)==="admin"?"Admin":"Siswa"})]})}),u.jsxs(HA,{className:"bg-white",children:[u.jsxs(Xg,{children:[u.jsx(qi,{className:"w-4 h-4 mr-2"}),"Profile"]}),u.jsxs(Xg,{onClick:a,children:[u.jsx(lM,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]}):u.jsx(dt,{to:"/login",children:u.jsx(Ce,{size:"sm",children:"Login"})})})]})})})},ez=()=>{const t={id:1,title:"Refleksi Minggu Pertama Sekolah",author:"Andi Pratama",class:"Kelas 8A",date:"2024-01-15",preview:"Minggu pertama sekolah sangat menyenangkan. Saya bertemu dengan teman-teman baru dan guru-guru yang baik...",wordCount:450};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Sistem Manajemen Menulis Siswa"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Platform digital untuk mengelola jurnal harian, refleksi, dan diary mingguan siswa"}),u.jsxs(ye,{className:"max-w-4xl mx-auto mb-8",children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(qi,{className:"w-6 h-6"}),"Pesan Kepala Sekolah"]})}),u.jsxs(ve,{children:[u.jsx("p",{className:"text-gray-700 leading-relaxed",children:'"Sistem ini dirancang untuk meningkatkan kemampuan menulis siswa melalui kegiatan reflektif harian dan mingguan. Dengan menulis secara teratur, siswa akan mengembangkan kemampuan berpikir kritis dan mengekspresikan ide dengan lebih baik. Mari kita manfaatkan teknologi ini untuk menciptakan generasi yang literat dan reflektif."'}),u.jsx("p",{className:"text-right mt-4 font-semibold",children:"- Drs. Ahmad Wijaya, M.Pd"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[u.jsx(dt,{to:"/journal",children:u.jsxs(ye,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(Gt,{className:"w-6 h-6"}),"Jurnal Harian"]})}),u.jsx(ve,{children:u.jsx("p",{className:"text-gray-600",children:"Catat pengalaman dan pembelajaran harian siswa"})})]})}),u.jsx(dt,{to:"/reflection",children:u.jsxs(ye,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-green-600",children:[u.jsx(tf,{className:"w-6 h-6"}),"Refleksi Harian"]})}),u.jsx(ve,{children:u.jsx("p",{className:"text-gray-600",children:"Refleksi mendalam tentang pembelajaran dan pengalaman"})})]})}),u.jsx(dt,{to:"/diary",children:u.jsxs(ye,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-purple-600",children:[u.jsx(Gt,{className:"w-6 h-6"}),"Diary Mingguan"]})}),u.jsx(ve,{children:u.jsx("p",{className:"text-gray-600",children:"Rangkuman dan refleksi pengalaman selama seminggu"})})]})})]}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Diary Mingguan Terbaru"}),u.jsxs(ye,{className:"bg-white shadow-lg",children:[u.jsx(Ae,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(ke,{className:"text-xl text-purple-600",children:t.title}),u.jsxs("p",{className:"text-gray-600 mt-2",children:["Oleh: ",t.author,"  ",t.class]}),u.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),u.jsxs("span",{className:"text-sm bg-purple-100 text-purple-800 px-2 py-1 rounded",children:[t.wordCount," kata"]})]})}),u.jsxs(ve,{children:[u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:t.preview}),u.jsx(Ce,{variant:"outline",className:"w-full",children:"Baca Selengkapnya"})]})]})]})]})]})},Xe=g.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xe.displayName="Input";const tz=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{login:o}=mo(),a=co(),l=async d=>{d.preventDefault(),i(!0);try{await o(t,n)?(wd({title:"Login berhasil!",description:"Selamat datang di WritingHub"}),a("/dashboard")):wd({title:"Login gagal",description:"Email atau password salah",variant:"destructive"})}catch{wd({title:"Error",description:"Terjadi kesalahan saat login",variant:"destructive"})}finally{i(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs(dt,{to:"/",className:"inline-flex items-center gap-2 mb-4",children:[u.jsx(Kc,{className:"w-8 h-8 text-blue-600"}),u.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"WritingHub"})]}),u.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Masuk ke Akun"}),u.jsx("p",{className:"text-gray-600",children:"Silakan masuk untuk melanjutkan"})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(aM,{className:"w-5 h-5"}),"Login"]})}),u.jsxs(ve,{children:[u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx(Xe,{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"Masukkan email Anda",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx(Xe,{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),placeholder:"Masukkan password Anda",required:!0})]}),u.jsx(Ce,{type:"submit",className:"w-full",disabled:s,children:s?"Memproses...":"Masuk"})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Akun Demo:"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Siswa:"}),u.jsx("p",{children:"Email: student@test.com"}),u.jsx("p",{children:"Password: 123456"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Admin:"}),u.jsx("p",{children:"Email: admin@test.com"}),u.jsx("p",{children:"Password: 123456"})]})]})]})]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx(dt,{to:"/",className:"text-blue-600 hover:underline",children:" Kembali ke Beranda"})})]})})};function i1(t,[e,n]){return Math.min(n,Math.max(e,t))}function nz(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rz=[" ","Enter","ArrowUp","ArrowDown"],sz=[" ","Enter"],lu="Select",[Kf,qf,iz]=Jh(lu),[Ya,S8]=ao(lu,[iz,Va]),Gf=Va(),[oz,wi]=Ya(lu),[az,lz]=Ya(lu),KA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:p,disabled:f,required:w,form:E}=t,v=Gf(e),[T,x]=g.useState(null),[y,S]=g.useState(null),[A,M]=g.useState(!1),j=Vf(d),[C=!1,I]=Ki({prop:r,defaultProp:s,onChange:i}),[R,P]=Ki({prop:o,defaultProp:a,onChange:l}),k=g.useRef(null),D=T?E||!!T.closest("form"):!0,[N,$]=g.useState(new Set),Z=Array.from(N).map(q=>q.props.value).join(";");return u.jsx(jI,{...v,children:u.jsxs(oz,{required:w,scope:e,trigger:T,onTriggerChange:x,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:M,contentId:Tr(),value:R,onValueChange:P,open:C,onOpenChange:I,dir:j,triggerPointerDownPosRef:k,disabled:f,children:[u.jsx(Kf.Provider,{scope:e,children:u.jsx(az,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{$(se=>new Set(se).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{$(se=>{const L=new Set(se);return L.delete(q),L})},[]),children:n})}),D?u.jsxs(yP,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:p,value:R,onChange:q=>P(q.target.value),disabled:f,form:E,children:[R===void 0?u.jsx("option",{value:""}):null,Array.from(N)]},Z):null]})})};KA.displayName=lu;var qA="SelectTrigger",GA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Gf(n),o=wi(qA,n),a=o.disabled||r,l=je(e,o.onTriggerChange),d=qf(n),h=g.useRef("touch"),[p,f,w]=vP(v=>{const T=d().filter(S=>!S.disabled),x=T.find(S=>S.value===o.value),y=wP(T,v,x);y!==void 0&&o.onValueChange(y.value)}),E=v=>{a||(o.onOpenChange(!0),w()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(mv,{asChild:!0,...i,children:u.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":gP(o.value)?"":void 0,...s,ref:l,onClick:Y(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&E(v)}),onPointerDown:Y(s.onPointerDown,v=>{h.current=v.pointerType;const T=v.target;T.hasPointerCapture(v.pointerId)&&T.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(E(v),v.preventDefault())}),onKeyDown:Y(s.onKeyDown,v=>{const T=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(T&&v.key===" ")&&rz.includes(v.key)&&(E(),v.preventDefault())})})})});GA.displayName=qA;var QA="SelectValue",YA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=wi(QA,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,p=je(e,l.onValueNodeChange);return Xt(()=>{d(h)},[d,h]),u.jsx(he.span,{...a,ref:p,style:{pointerEvents:"none"},children:gP(l.value)?u.jsx(u.Fragment,{children:o}):i})});YA.displayName=QA;var cz="SelectIcon",XA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});XA.displayName=cz;var uz="SelectPortal",JA=t=>u.jsx(Wc,{asChild:!0,...t});JA.displayName=uz;var eo="SelectContent",ZA=g.forwardRef((t,e)=>{const n=wi(eo,t.__scopeSelect),[r,s]=g.useState();if(Xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?io.createPortal(u.jsx(eP,{scope:t.__scopeSelect,children:u.jsx(Kf.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(tP,{...t,ref:e})});ZA.displayName=eo;var qn=10,[eP,_i]=Ya(eo),dz="SelectContentImpl",tP=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:E,hideWhenDetached:v,avoidCollisions:T,...x}=t,y=wi(eo,n),[S,A]=g.useState(null),[M,j]=g.useState(null),C=je(e,ne=>A(ne)),[I,R]=g.useState(null),[P,k]=g.useState(null),D=qf(n),[N,$]=g.useState(!1),Z=g.useRef(!1);g.useEffect(()=>{if(S)return ww(S)},[S]),vw();const q=g.useCallback(ne=>{const[xe,...Pe]=D().map(Ee=>Ee.ref.current),[me]=Pe.slice(-1),be=document.activeElement;for(const Ee of ne)if(Ee===be||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===xe&&M&&(M.scrollTop=0),Ee===me&&M&&(M.scrollTop=M.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==be))return},[D,M]),se=g.useCallback(()=>q([I,S]),[q,I,S]);g.useEffect(()=>{N&&se()},[N,se]);const{onOpenChange:L,triggerPointerDownPosRef:V}=y;g.useEffect(()=>{if(S){let ne={x:0,y:0};const xe=me=>{var be,Ee;ne={x:Math.abs(Math.round(me.pageX)-(((be=V.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(me.pageY)-(((Ee=V.current)==null?void 0:Ee.y)??0))}},Pe=me=>{ne.x<=10&&ne.y<=10?me.preventDefault():S.contains(me.target)||L(!1),document.removeEventListener("pointermove",xe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[S,L,V]),g.useEffect(()=>{const ne=()=>L(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[L]);const[H,K]=vP(ne=>{const xe=D().filter(be=>!be.disabled),Pe=xe.find(be=>be.ref.current===document.activeElement),me=wP(xe,ne,Pe);me&&setTimeout(()=>me.ref.current.focus())}),J=g.useCallback((ne,xe,Pe)=>{const me=!Z.current&&!Pe;(y.value!==void 0&&y.value===xe||me)&&(R(ne),me&&(Z.current=!0))},[y.value]),re=g.useCallback(()=>S==null?void 0:S.focus(),[S]),_e=g.useCallback((ne,xe,Pe)=>{const me=!Z.current&&!Pe;(y.value!==void 0&&y.value===xe||me)&&k(ne)},[y.value]),$e=r==="popper"?Jg:nP,fe=$e===Jg?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:E,hideWhenDetached:v,avoidCollisions:T}:{};return u.jsx(eP,{scope:n,content:S,viewport:M,onViewportChange:j,itemRefCallback:J,selectedItem:I,onItemLeave:re,itemTextRefCallback:_e,focusSelectedItem:se,selectedItemText:P,position:r,isPositioned:N,searchRef:H,children:u.jsx(zf,{as:Zs,allowPinchZoom:!0,children:u.jsx(Ff,{asChild:!0,trapped:y.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Y(s,ne=>{var xe;(xe=y.trigger)==null||xe.focus({preventScroll:!0}),ne.preventDefault()}),children:u.jsx(Da,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx($e,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ne=>ne.preventDefault(),...x,...fe,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Y(x.onKeyDown,ne=>{const xe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!xe&&ne.key.length===1&&K(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let me=D().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const be=ne.target,Ee=me.indexOf(be);me=me.slice(Ee+1)}setTimeout(()=>q(me)),ne.preventDefault()}})})})})})})});tP.displayName=dz;var hz="SelectItemAlignedPosition",nP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wi(eo,n),o=_i(eo,n),[a,l]=g.useState(null),[d,h]=g.useState(null),p=je(e,C=>h(C)),f=qf(n),w=g.useRef(!1),E=g.useRef(!0),{viewport:v,selectedItem:T,selectedItemText:x,focusSelectedItem:y}=o,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&T&&x){const C=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=P.left-I.left,Ee=R.left-be,_t=C.left-Ee,At=C.width+_t,kn=Math.max(At,I.width),Zt=window.innerWidth-qn,Dr=i1(Ee,[qn,Math.max(qn,Zt-kn)]);a.style.minWidth=At+"px",a.style.left=Dr+"px"}else{const be=I.right-P.right,Ee=window.innerWidth-R.right-be,_t=window.innerWidth-C.right-Ee,At=C.width+_t,kn=Math.max(At,I.width),Zt=window.innerWidth-qn,Dr=i1(Ee,[qn,Math.max(qn,Zt-kn)]);a.style.minWidth=At+"px",a.style.right=Dr+"px"}const k=f(),D=window.innerHeight-qn*2,N=v.scrollHeight,$=window.getComputedStyle(d),Z=parseInt($.borderTopWidth,10),q=parseInt($.paddingTop,10),se=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),V=Z+q+N+L+se,H=Math.min(T.offsetHeight*5,V),K=window.getComputedStyle(v),J=parseInt(K.paddingTop,10),re=parseInt(K.paddingBottom,10),_e=C.top+C.height/2-qn,$e=D-_e,fe=T.offsetHeight/2,ne=T.offsetTop+fe,xe=Z+q+ne,Pe=V-xe;if(xe<=_e){const be=k.length>0&&T===k[k.length-1].ref.current;a.style.bottom="0px";const Ee=d.clientHeight-v.offsetTop-v.offsetHeight,_t=Math.max($e,fe+(be?re:0)+Ee+se),At=xe+_t;a.style.height=At+"px"}else{const be=k.length>0&&T===k[0].ref.current;a.style.top="0px";const _t=Math.max(_e,Z+v.offsetTop+(be?J:0)+fe)+Pe;a.style.height=_t+"px",v.scrollTop=xe-_e+v.offsetTop}a.style.margin=`${qn}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[f,i.trigger,i.valueNode,a,d,v,T,x,i.dir,r]);Xt(()=>S(),[S]);const[A,M]=g.useState();Xt(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const j=g.useCallback(C=>{C&&E.current===!0&&(S(),y==null||y(),E.current=!1)},[S,y]);return u.jsx(pz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(he.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nP.displayName=hz;var fz="SelectPopperPosition",Jg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qn,...i}=t,o=Gf(n);return u.jsx(gv,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jg.displayName=fz;var[pz,Rw]=Ya(eo,{}),Zg="SelectViewport",rP=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_i(Zg,n),o=Rw(Zg,n),a=je(e,i.onViewportChange),l=g.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Kf.Slot,{scope:n,children:u.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const w=Math.abs(l.current-h.scrollTop);if(w>0){const E=window.innerHeight-qn*2,v=parseFloat(p.style.minHeight),T=parseFloat(p.style.height),x=Math.max(v,T);if(x<E){const y=x+w,S=Math.min(E,y),A=y-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});rP.displayName=Zg;var sP="SelectGroup",[mz,gz]=Ya(sP),yz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Tr();return u.jsx(mz,{scope:n,id:s,children:u.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});yz.displayName=sP;var iP="SelectLabel",oP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gz(iP,n);return u.jsx(he.div,{id:s.id,...r,ref:e})});oP.displayName=iP;var Nh="SelectItem",[vz,aP]=Ya(Nh),lP=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wi(Nh,n),l=_i(Nh,n),d=a.value===r,[h,p]=g.useState(i??""),[f,w]=g.useState(!1),E=je(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,r,s)}),v=Tr(),T=g.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(vz,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(y=>{p(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(Kf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(he.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:Y(o.onFocus,()=>w(!0)),onBlur:Y(o.onBlur,()=>w(!1)),onClick:Y(o.onClick,()=>{T.current!=="mouse"&&x()}),onPointerUp:Y(o.onPointerUp,()=>{T.current==="mouse"&&x()}),onPointerDown:Y(o.onPointerDown,y=>{T.current=y.pointerType}),onPointerMove:Y(o.onPointerMove,y=>{var S;T.current=y.pointerType,s?(S=l.onItemLeave)==null||S.call(l):T.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Y(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(sz.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});lP.displayName=Nh;var jl="SelectItemText",cP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wi(jl,n),a=_i(jl,n),l=aP(jl,n),d=lz(jl,n),[h,p]=g.useState(null),f=je(e,x=>p(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),w=h==null?void 0:h.textContent,E=g.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:w},l.value),[l.disabled,l.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:T}=d;return Xt(()=>(v(E),()=>T(E)),[v,T,E]),u.jsxs(u.Fragment,{children:[u.jsx(he.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?io.createPortal(i.children,o.valueNode):null]})});cP.displayName=jl;var uP="SelectItemIndicator",dP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aP(uP,n).isSelected?u.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});dP.displayName=uP;var ey="SelectScrollUpButton",hP=g.forwardRef((t,e)=>{const n=_i(ey,t.__scopeSelect),r=Rw(ey,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(pP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});hP.displayName=ey;var ty="SelectScrollDownButton",fP=g.forwardRef((t,e)=>{const n=_i(ty,t.__scopeSelect),r=Rw(ty,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(pP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});fP.displayName=ty;var pP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_i("SelectScrollButton",n),o=g.useRef(null),a=qf(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Xt(()=>{var h;const d=a().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{l()})})}),wz="SelectSeparator",mP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});mP.displayName=wz;var ny="SelectArrow",_z=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gf(n),i=wi(ny,n),o=_i(ny,n);return i.open&&o.position==="popper"?u.jsx(yv,{...s,...r,ref:e}):null});_z.displayName=ny;function gP(t){return t===""||t===void 0}var yP=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=je(e,s),o=nz(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),u.jsx(Hc,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});yP.displayName="BubbleSelect";function vP(t){const e=Yt(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function wP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=xz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function xz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ez=KA,_P=GA,Tz=YA,Sz=XA,Iz=JA,xP=ZA,Cz=rP,EP=oP,TP=lP,bz=cP,Rz=dP,SP=hP,IP=fP,CP=mP;const kh=Ez,Dh=Tz,Mc=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(_P,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Sz,{asChild:!0,children:u.jsx(sI,{className:"h-4 w-4 opacity-50"})})]}));Mc.displayName=_P.displayName;const bP=g.forwardRef(({className:t,...e},n)=>u.jsx(SP,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(iM,{className:"h-4 w-4"})}));bP.displayName=SP.displayName;const RP=g.forwardRef(({className:t,...e},n)=>u.jsx(IP,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(sI,{className:"h-4 w-4"})}));RP.displayName=IP.displayName;const jc=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(Iz,{children:u.jsxs(xP,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(bP,{}),u.jsx(Cz,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(RP,{})]})}));jc.displayName=xP.displayName;const Az=g.forwardRef(({className:t,...e},n)=>u.jsx(EP,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Az.displayName=EP.displayName;const to=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TP,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Rz,{children:u.jsx(rI,{className:"h-4 w-4"})})}),u.jsx(bz,{children:e})]}));to.displayName=TP.displayName;const Pz=g.forwardRef(({className:t,...e},n)=>u.jsx(CP,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));Pz.displayName=CP.displayName;var Aw="Dialog",[AP,I8]=ao(Aw),[Nz,ur]=AP(Aw),PP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[d=!1,h]=Ki({prop:r,defaultProp:s,onChange:i});return u.jsx(Nz,{scope:e,triggerRef:a,contentRef:l,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};PP.displayName=Aw;var NP="DialogTrigger",kz=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(NP,n),i=je(e,s.triggerRef);return u.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kw(s.open),...r,ref:i,onClick:Y(t.onClick,s.onOpenToggle)})});kz.displayName=NP;var Pw="DialogPortal",[Dz,kP]=AP(Pw,{forceMount:void 0}),DP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ur(Pw,e);return u.jsx(Dz,{scope:e,forceMount:n,children:g.Children.map(r,o=>u.jsx(cr,{present:n||i.open,children:u.jsx(Wc,{asChild:!0,container:s,children:o})}))})};DP.displayName=Pw;var Mh="DialogOverlay",MP=g.forwardRef((t,e)=>{const n=kP(Mh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(Mh,t.__scopeDialog);return i.modal?u.jsx(cr,{present:r||i.open,children:u.jsx(Mz,{...s,ref:e})}):null});MP.displayName=Mh;var Mz=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(Mh,n);return u.jsx(zf,{as:Zs,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(he.div,{"data-state":kw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),no="DialogContent",jP=g.forwardRef((t,e)=>{const n=kP(no,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(no,t.__scopeDialog);return u.jsx(cr,{present:r||i.open,children:i.modal?u.jsx(jz,{...s,ref:e}):u.jsx(Oz,{...s,ref:e})})});jP.displayName=no;var jz=g.forwardRef((t,e)=>{const n=ur(no,t.__scopeDialog),r=g.useRef(null),s=je(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return ww(i)},[]),u.jsx(OP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Y(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Y(t.onFocusOutside,i=>i.preventDefault())})}),Oz=g.forwardRef((t,e)=>{const n=ur(no,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return u.jsx(OP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OP=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ur(no,n),l=g.useRef(null),d=je(e,l);return vw(),u.jsxs(u.Fragment,{children:[u.jsx(Ff,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Da,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":kw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Lz,{titleId:a.titleId}),u.jsx(Fz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Nw="DialogTitle",LP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(Nw,n);return u.jsx(he.h2,{id:s.titleId,...r,ref:e})});LP.displayName=Nw;var VP="DialogDescription",FP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(VP,n);return u.jsx(he.p,{id:s.descriptionId,...r,ref:e})});FP.displayName=VP;var UP="DialogClose",$P=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(UP,n);return u.jsx(he.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,()=>s.onOpenChange(!1))})});$P.displayName=UP;function kw(t){return t?"open":"closed"}var BP="DialogTitleWarning",[C8,zP]=vD(BP,{contentName:no,titleName:Nw,docsSlug:"dialog"}),Lz=({titleId:t})=>{const e=zP(BP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Vz="DialogDescriptionWarning",Fz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zP(Vz).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Uz=PP,$z=DP,WP=MP,HP=jP,KP=LP,qP=FP,Bz=$P;const zz=Uz,Wz=$z,GP=g.forwardRef(({className:t,...e},n)=>u.jsx(WP,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GP.displayName=WP.displayName;const QP=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Wz,{children:[u.jsx(GP,{}),u.jsxs(HP,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Bz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(oI,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QP.displayName=HP.displayName;const YP=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});YP.displayName="DialogHeader";const XP=g.forwardRef(({className:t,...e},n)=>u.jsx(KP,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));XP.displayName=KP.displayName;const JP=g.forwardRef(({className:t,...e},n)=>u.jsx(qP,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));JP.displayName=qP.displayName;const Hz=rv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kz({className:t,variant:e,...n}){return u.jsx("div",{className:oe(Hz({variant:e}),t),...n})}const qz=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,a]=g.useState("Semua Kelas"),[l,d]=g.useState(""),[h,p]=g.useState(null),[f,w]=g.useState(!1);g.useEffect(()=>{(async()=>{i(!0);try{const x=ze(Re,"journals"),y=ze(Re,"classes"),S=lt(x,Rn("createdAt","desc")),A=lt(y,Rn("name","asc")),[M,j]=await Promise.all([Ze(S),Ze(A)]),C=M.docs.map(R=>({id:R.id,...R.data()}));e(C);const I=j.docs.map(R=>({id:R.id,...R.data()}));r(I)}catch(x){console.error("Error fetching data:",x)}finally{i(!1)}})()},[]);const E=T=>{p(T),w(!0)},v=t.filter(T=>{const x=o==="Semua Kelas"||T.className===o,y=!l||T.authorName.toLowerCase().includes(l.toLowerCase());return x&&y});return s?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:u.jsx("p",{children:"Memuat data..."})})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Jurnal Harian"}),u.jsx("p",{className:"text-gray-600",children:"Kelola dan lihat jurnal harian siswa"})]}),u.jsx(dt,{to:"/dashboard/student/journal/create",children:u.jsxs(Ce,{className:"flex items-center gap-2",children:[u.jsx(qc,{className:"w-4 h-4"}),"Tulis Jurnal"]})})]}),u.jsxs(ye,{className:"mb-6",children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(iv,{className:"w-5 h-5"}),"Filter"]})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kelas"}),u.jsxs(kh,{value:o,onValueChange:a,children:[u.jsx(Mc,{children:u.jsx(Dh,{placeholder:"Pilih kelas"})}),u.jsxs(jc,{className:"bg-white",children:[u.jsx(to,{value:"Semua Kelas",children:"Semua Kelas"}),n.map(T=>u.jsx(to,{value:T.name,children:T.name},T.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Siswa"}),u.jsx(Xe,{placeholder:"Cari nama siswa...",value:l,onChange:T=>d(T.target.value)})]}),u.jsx("div",{className:"flex items-end",children:u.jsx(Ce,{variant:"outline",className:"w-full",onClick:()=>{d(""),a("Semua Kelas")},children:"Reset Filter"})})]})})]}),u.jsx("div",{className:"grid gap-6",children:v.map(T=>{const x=new Date(T.createdAt.seconds*1e3),y=x.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),S=x.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return u.jsxs(ye,{className:"hover:shadow-md transition-shadow",children:[u.jsx(Ae,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs(ke,{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(Gt,{className:"w-5 h-5"}),T.title]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["Oleh: ",T.authorName,"  ",T.className]}),u.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[u.jsx(tf,{className:"w-4 h-4"}),y,"  ",S]})]}),u.jsxs(Kz,{variant:"secondary",children:[T.wordCount," kata"]})]})}),u.jsxs(ve,{children:[u.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:T.content}),u.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>E(T),children:"Baca Selengkapnya"})]})]},T.id)})}),v.length===0&&!s&&u.jsx(ye,{children:u.jsxs(ve,{className:"text-center py-12",children:[u.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Tidak ada jurnal yang ditemukan"})]})})]}),u.jsx(zz,{open:f,onOpenChange:w,children:u.jsx(QP,{className:"max-w-3xl",children:h&&u.jsxs(u.Fragment,{children:[u.jsxs(YP,{children:[u.jsx(XP,{className:"text-2xl",children:h.title}),u.jsxs(JP,{children:["Oleh ",h.authorName," dari ",h.className,"  ",new Date(h.createdAt.seconds*1e3).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),u.jsx("div",{className:"prose max-w-none mt-4 text-gray-800",style:{whiteSpace:"pre-wrap"},children:h.content})]})})})]})},Gz=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0);g.useState("");const[s,i]=g.useState(""),[o,a]=g.useState("");g.useEffect(()=>{(async()=>{try{const h=ze(Re,"reflections"),p=lt(h,Rn("createdAt","desc")),w=(await Ze(p)).docs.map(E=>({id:E.id,...E.data()}));e(w)}catch(h){console.error("Error fetching reflections:",h)}finally{r(!1)}})()},[]);const l=t.filter(d=>{const h=!s||s==="Semua Kelas"||d.className===s,p=!o||d.authorName.toLowerCase().includes(o.toLowerCase());return h&&p});return n?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:u.jsx("p",{children:"Memuat data refleksi..."})})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Refleksi Harian"}),u.jsx("p",{className:"text-gray-600",children:"Kelola dan lihat refleksi harian siswa"})]}),u.jsx(dt,{to:"/dashboard/student/reflection/create",children:u.jsxs(Ce,{className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[u.jsx(qc,{className:"w-4 h-4"}),"Tulis Refleksi"]})})]}),u.jsx(ye,{className:"mb-6"}),u.jsx("div",{className:"grid gap-6",children:l.map(d=>{const h=new Date(d.createdAt.seconds*1e3),p=h.toLocaleDateString("id-ID"),f=h.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return u.jsxs(ye,{className:"hover:shadow-md transition-shadow",children:[u.jsx(Ae,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs(ke,{className:"flex items-center gap-2 text-green-600",children:[u.jsx(Gt,{className:"w-5 h-5"}),"Refleksi Harian"]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["Oleh: ",d.authorName,"  ",d.className]}),u.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[u.jsx(tf,{className:"w-4 h-4"}),p,"  ",f]})]}),u.jsxs("span",{className:"text-sm bg-green-100 text-green-800 px-2 py-1 rounded",children:[d.wordCount," kata"]})]})}),u.jsxs(ve,{children:[u.jsx("p",{className:"text-gray-700 mb-4",children:d.content}),u.jsx(Ce,{variant:"outline",size:"sm",children:"Baca Selengkapnya"})]})]},d.id)})}),l.length===0&&u.jsx(ye,{children:u.jsxs(ve,{className:"text-center py-12",children:[u.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Tidak ada refleksi yang ditemukan"})]})})]})]})},Qz=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0);g.useState("");const[s,i]=g.useState(""),[o,a]=g.useState("");g.useEffect(()=>{(async()=>{try{const h=ze(Re,"diaries"),p=lt(h,Rn("createdAt","desc")),w=(await Ze(p)).docs.map(E=>({id:E.id,...E.data()}));e(w)}catch(h){console.error("Error fetching diaries:",h)}finally{r(!1)}})()},[]);const l=t.filter(d=>{const h=!s||s==="Semua Kelas"||d.className===s,p=!o||d.authorName.toLowerCase().includes(o.toLowerCase());return h&&p});return n?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:u.jsx("p",{children:"Memuat data diary..."})})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Diary Mingguan"}),u.jsx("p",{className:"text-gray-600",children:"Kelola dan lihat diary mingguan siswa"})]}),u.jsx(dt,{to:"/dashboard/student/diary/create",children:u.jsxs(Ce,{className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700",children:[u.jsx(qc,{className:"w-4 h-4"}),"Tulis Diary"]})})]}),u.jsx(ye,{className:"mb-6"}),u.jsx("div",{className:"grid gap-6",children:l.map(d=>{const h=new Date(d.createdAt.seconds*1e3),p=h.toLocaleDateString("id-ID"),f=h.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return u.jsxs(ye,{className:"hover:shadow-md transition-shadow",children:[u.jsx(Ae,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs(ke,{className:"flex items-center gap-2 text-purple-600",children:[u.jsx(Gt,{className:"w-5 h-5"}),d.title]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["Oleh: ",d.authorName,"  ",d.className]}),u.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[u.jsx(tf,{className:"w-4 h-4"}),p,"  ",f]})]}),u.jsxs("span",{className:"text-sm bg-purple-100 text-purple-800 px-2 py-1 rounded",children:[d.wordCount," kata"]})]})}),u.jsxs(ve,{children:[u.jsx("p",{className:"text-gray-700 mb-4",children:d.content}),u.jsx(Ce,{variant:"outline",size:"sm",children:"Baca Selengkapnya"})]})]},d.id)})}),l.length===0&&u.jsx(ye,{children:u.jsxs(ve,{className:"text-center py-12",children:[u.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Tidak ada diary yang ditemukan"})]})})]})]})};var Dw="Tabs",[Yz,b8]=ao(Dw,[$f]),ZP=$f(),[Xz,Mw]=Yz(Dw),eN=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...d}=t,h=Vf(a),[p,f]=Ki({prop:r,onChange:s,defaultProp:i});return u.jsx(Xz,{scope:n,baseId:Tr(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:l,children:u.jsx(he.div,{dir:h,"data-orientation":o,...d,ref:e})})});eN.displayName=Dw;var tN="TabsList",nN=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Mw(tN,n),o=ZP(n);return u.jsx(BR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(he.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});nN.displayName=tN;var rN="TabsTrigger",sN=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Mw(rN,n),a=ZP(n),l=aN(o.baseId,r),d=lN(o.baseId,r),h=r===o.value;return u.jsx(zR,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(he.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Y(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:Y(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:Y(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});sN.displayName=rN;var iN="TabsContent",oN=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Mw(iN,n),l=aN(a.baseId,r),d=lN(a.baseId,r),h=r===a.value,p=g.useRef(h);return g.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),u.jsx(cr,{present:s||h,children:({present:f})=>u.jsx(he.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});oN.displayName=iN;function aN(t,e){return`${t}-trigger-${e}`}function lN(t,e){return`${t}-content-${e}`}var Jz=eN,cN=nN,uN=sN,dN=oN;const Zz=Jz,hN=g.forwardRef(({className:t,...e},n)=>u.jsx(cN,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));hN.displayName=cN.displayName;const ry=g.forwardRef(({className:t,...e},n)=>u.jsx(uN,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ry.displayName=uN.displayName;const sy=g.forwardRef(({className:t,...e},n)=>u.jsx(dN,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sy.displayName=dN.displayName;const e8=()=>{const{user:t}=mo(),[e,n]=g.useState({journals:0,reflections:0,diaries:0}),[r,s]=g.useState({totalJournals:0,totalReflections:0,totalDiaries:0,activeStudents:0}),[i,o]=g.useState([]),[a,l]=g.useState(!0);g.useEffect(()=>{(async()=>{if(l(!0),t){if(t.role==="student"){const w=lt(ze(Re,"journals"),kl("authorId","==",t.id)),E=lt(ze(Re,"reflections"),kl("authorId","==",t.id)),v=lt(ze(Re,"diaries"),kl("authorId","==",t.id)),[T,x,y]=await Promise.all([Ze(w),Ze(E),Ze(v)]);n({journals:T.size,reflections:x.size,diaries:y.size})}else if(t.role==="admin"){const w=lt(ze(Re,"journals")),E=lt(ze(Re,"reflections")),v=lt(ze(Re,"diaries")),T=lt(ze(Re,"users"),kl("role","==","student")),[x,y,S,A]=await Promise.all([Ze(w),Ze(E),Ze(v),Ze(T)]);s({totalJournals:x.size,totalReflections:y.size,totalDiaries:S.size,activeStudents:A.size});const M=lt(ze(Re,"journals"),Rn("createdAt","desc"),nm(3)),j=lt(ze(Re,"reflections"),Rn("createdAt","desc"),nm(3)),C=lt(ze(Re,"diaries"),Rn("createdAt","desc"),nm(3)),[I,R,P]=await Promise.all([Ze(M),Ze(j),Ze(C)]),k=I.docs.map(Z=>({id:Z.id,type:"journal",...Z.data()})),D=R.docs.map(Z=>({id:Z.id,type:"reflection",...Z.data()})),N=P.docs.map(Z=>({id:Z.id,type:"diary",...Z.data()})),$=[...k,...D,...N];$.sort((Z,q)=>q.createdAt.seconds-Z.createdAt.seconds),o($.slice(0,3))}}l(!1)})()},[t]);const d=f=>{const E=new Date().getTime()/1e3-f;return E<60?"beberapa detik lalu":E<3600?`${Math.floor(E/60)} menit lalu`:E<86400?`${Math.floor(E/3600)} jam lalu`:`${Math.floor(E/86400)} hari lalu`},h=u.jsx("div",{className:"grid gap-6"}),p=u.jsxs("div",{className:"grid gap-6",children:[u.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Gt,{className:"w-5 h-5 text-blue-600"}),"Total Jurnal"]})}),u.jsx(ve,{children:u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a?"...":r.totalJournals})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Kc,{className:"w-5 h-5 text-green-600"}),"Total Refleksi"]})}),u.jsx(ve,{children:u.jsx("div",{className:"text-3xl font-bold text-green-600",children:a?"...":r.totalReflections})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Gt,{className:"w-5 h-5 text-purple-600"}),"Total Diary"]})}),u.jsx(ve,{children:u.jsx("div",{className:"text-3xl font-bold text-purple-600",children:a?"...":r.totalDiaries})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(cM,{className:"w-5 h-5 text-orange-600"}),"Siswa Aktif"]})}),u.jsx(ve,{children:u.jsx("div",{className:"text-3xl font-bold text-orange-600",children:a?"...":r.activeStudents})})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(ke,{children:"Manajemen Sistem"})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsx(dt,{to:"/dashboard/teacher/users",children:u.jsxs(Ce,{variant:"outline",className:"w-full h-20 flex flex-col gap-2",children:[u.jsx(qi,{className:"w-6 h-6"}),"Manajemen User"]})}),u.jsx(dt,{to:"/dashboard/teacher/classes",children:u.jsxs(Ce,{variant:"outline",className:"w-full h-20 flex flex-col gap-2",children:[u.jsx(iI,{className:"w-6 h-6"}),"Manajemen Kelas"]})}),u.jsx(dt,{to:"/dashboard/teacher/statistics",children:u.jsxs(Ce,{variant:"outline",className:"w-full h-20 flex flex-col gap-2",children:[u.jsx(nI,{className:"w-6 h-6"}),"Statistik Siswa"]})})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(ke,{children:"Aktivitas Terbaru"})}),u.jsx(ve,{children:a?u.jsx("p",{children:"Memuat aktivitas..."}):u.jsxs("div",{className:"space-y-4",children:[i.map(f=>u.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${f.type==="journal"?"bg-blue-500":f.type==="reflection"?"bg-green-500":"bg-purple-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:f.title||`Refleksi oleh ${f.authorName}`}),u.jsxs("p",{className:"text-sm text-gray-600",children:[f.authorName,"  ",f.className]})]}),u.jsx("span",{className:"text-sm text-gray-500",children:d(f.createdAt.seconds)})]},f.id)),i.length===0&&u.jsx("p",{className:"text-gray-500",children:"Belum ada aktivitas."})]})})]})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard"}),u.jsxs("p",{className:"text-gray-600",children:["Selamat datang, ",t==null?void 0:t.name,"!"]})]}),(t==null?void 0:t.role)==="admin"?u.jsxs(Zz,{defaultValue:"teacher",className:"w-full",children:[u.jsxs(hN,{className:"grid w-full grid-cols-2 mb-6",children:[u.jsx(ry,{value:"student",children:"Tampilan Siswa"}),u.jsx(ry,{value:"teacher",children:"Dashboard Admin"})]}),u.jsx(sy,{value:"student",children:h}),u.jsx(sy,{value:"teacher",children:p})]}):h]})]})},Qf=g.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Qf.displayName="Textarea";const t8=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(!1),[l,d]=g.useState(""),{toast:h}=oo(),p=co(),{user:f}=mo();g.useEffect(()=>{(async()=>{if(f&&f.classId){const M=rs(Re,"classes",f.classId),j=await Nf(M);j.exists()&&d(j.data().name)}})()},[f]);const w=new Date().toISOString().split("T")[0],E=new Date().toTimeString().split(" ")[0].substring(0,5);s||i(E);const v=n.trim().split(/\s+/).filter(A=>A.length>0).length,T=100,x=Math.max(0,T-v),y=v>=T&&t.trim()!=="",S=async A=>{if(A.preventDefault(),!f){h({title:"Anda harus login",variant:"destructive"});return}if(!y){h({title:"Jurnal belum lengkap",description:`Judul harus diisi dan konten perlu ${x} kata lagi.`,variant:"destructive"});return}a(!0);try{const M={title:t,content:n,wordCount:v,isDraft:!1,authorId:f.id,authorName:f.name,classId:f.classId||"",className:l,createdAt:Ra(),updatedAt:Ra()};await kf(ze(Re,"journals"),M),h({title:"Jurnal berhasil disimpan!"}),p("/journal")}catch(M){console.error("Error adding document: ",M),h({title:"Gagal menyimpan jurnal",variant:"destructive"})}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tulis Jurnal Harian"}),u.jsx("p",{className:"text-gray-600",children:"Catat pengalaman dan pembelajaran harian Anda"})]})]}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Gt,{className:"w-5 h-5"}),"Informasi Jurnal"]})}),u.jsxs(ve,{className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal"}),u.jsx(Xe,{type:"date",value:w,disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Waktu"}),u.jsx(Xe,{type:"time",value:s,onChange:A=>i(A.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Judul Jurnal"}),u.jsx(Xe,{placeholder:"Masukkan judul jurnal Anda...",value:t,onChange:A=>e(A.target.value),required:!0})]})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(ke,{children:"Konten Jurnal"})}),u.jsx(ve,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Qf,{placeholder:"Tuliskan pengalaman dan pembelajaran Anda hari ini...",value:n,onChange:A=>r(A.target.value),rows:12,required:!0}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sv,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm font-medium",children:["Jumlah kata: ",v," / ",T," minimum"]})]}),!y&&u.jsx("span",{className:"text-sm text-red-600 font-medium",children:x>0?`Masih perlu ${x} kata lagi`:"Judul harus diisi"}),y&&u.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Sudah memenuhi minimum kata"})]})]})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ce,{type:"submit",disabled:!y||o,className:"flex-1",children:o?"Menyimpan...":"Simpan Jurnal"}),u.jsx(Ce,{type:"button",variant:"outline",className:"flex-1",children:"Simpan sebagai Draft"})]})]})]})})]})},n8=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState(""),{toast:l}=oo(),d=co(),{user:h}=mo();g.useEffect(()=>{(async()=>{if(h&&h.classId){const S=rs(Re,"classes",h.classId),A=await Nf(S);A.exists()&&a(A.data().name)}})()},[h]);const p=new Date().toISOString().split("T")[0],f=new Date().toTimeString().split(" ")[0].substring(0,5);n||r(f);const w=t.trim().split(/\s+/).filter(y=>y.length>0).length,E=150,v=Math.max(0,E-w),T=w>=E,x=async y=>{if(y.preventDefault(),!h){l({title:"Anda harus login",variant:"destructive"});return}if(!T){l({title:"Refleksi belum lengkap",description:`Anda masih perlu menambah ${v} kata lagi`,variant:"destructive"});return}i(!0);try{const S={content:t,wordCount:w,isDraft:!1,authorId:h.id,authorName:h.name,classId:h.classId||"",className:o,createdAt:Ra(),updatedAt:Ra()};await kf(ze(Re,"reflections"),S),l({title:"Refleksi berhasil disimpan!"}),d("/reflection")}catch(S){console.error("Error adding document: ",S),l({title:"Gagal menyimpan refleksi",variant:"destructive"})}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tulis Refleksi Harian"}),u.jsx("p",{className:"text-gray-600",children:"Refleksikan pembelajaran dan pengalaman Anda hari ini"})]})]}),u.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Kc,{className:"w-5 h-5"}),"Informasi Refleksi"]})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal"}),u.jsx(Xe,{type:"date",value:p,disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Waktu"}),u.jsx(Xe,{type:"time",value:n,onChange:y=>r(y.target.value),required:!0})]})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(ke,{children:"Konten Refleksi"})}),u.jsx(ve,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Qf,{placeholder:"Refleksikan pembelajaran dan pengalaman Anda hari ini...",value:t,onChange:y=>e(y.target.value),rows:15,required:!0}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sv,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm font-medium",children:["Jumlah kata: ",w," / ",E," minimum"]})]}),!T&&u.jsxs("span",{className:"text-sm text-red-600 font-medium",children:["Masih perlu ",v," kata lagi"]}),T&&u.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Sudah memenuhi minimum kata"})]})]})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ce,{type:"submit",disabled:!T||s,className:"flex-1 bg-green-600 hover:bg-green-700",children:s?"Menyimpan...":"Simpan Refleksi"}),u.jsx(Ce,{type:"button",variant:"outline",className:"flex-1",children:"Simpan sebagai Draft"})]})]})]})})]})},r8=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(!1),[l,d]=g.useState(""),{toast:h}=oo(),p=co(),{user:f}=mo();g.useEffect(()=>{(async()=>{if(f&&f.classId){const M=rs(Re,"classes",f.classId),j=await Nf(M);j.exists()&&d(j.data().name)}})()},[f]);const w=new Date().toISOString().split("T")[0],E=new Date().toTimeString().split(" ")[0].substring(0,5);s||i(E);const v=n.trim().split(/\s+/).filter(A=>A.length>0).length,T=300,x=Math.max(0,T-v),y=v>=T&&t.trim()!=="",S=async A=>{if(A.preventDefault(),!f){h({title:"Anda harus login",variant:"destructive"});return}if(!y){h({title:"Diary belum lengkap",description:`Judul harus diisi dan konten perlu ${x} kata lagi.`,variant:"destructive"});return}a(!0);try{const M={title:t,content:n,wordCount:v,isDraft:!1,authorId:f.id,authorName:f.name,classId:f.classId||"",className:l,createdAt:Ra(),updatedAt:Ra()};await kf(ze(Re,"diaries"),M),h({title:"Diary berhasil disimpan!"}),p("/diary")}catch(M){console.error("Error adding document: ",M),h({title:"Gagal menyimpan diary",variant:"destructive"})}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tulis Diary Mingguan"}),u.jsx("p",{className:"text-gray-600",children:"Rangkum dan refleksikan pengalaman selama seminggu"})]})]}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(Gt,{className:"w-5 h-5"}),"Informasi Diary"]})}),u.jsxs(ve,{className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal"}),u.jsx(Xe,{type:"date",value:w,disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Waktu"}),u.jsx(Xe,{type:"time",value:s,onChange:A=>i(A.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Judul Diary"}),u.jsx(Xe,{placeholder:"Masukkan judul diary mingguan Anda...",value:t,onChange:A=>e(A.target.value),required:!0})]})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(ke,{children:"Konten Diary"})}),u.jsx(ve,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Qf,{placeholder:"Tuliskan rangkuman dan refleksi pengalaman Anda selama seminggu...",value:n,onChange:A=>r(A.target.value),rows:18,required:!0}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sv,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm font-medium",children:["Jumlah kata: ",v," / ",T," minimum"]})]}),!y&&u.jsx("span",{className:"text-sm text-red-600 font-medium",children:x>0?`Masih perlu ${x} kata lagi`:"Judul harus diisi"}),y&&u.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Sudah memenuhi minimum kata"})]})]})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ce,{type:"submit",disabled:!y||o,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:o?"Menyimpan...":"Simpan Diary"}),u.jsx(Ce,{type:"button",variant:"outline",className:"flex-1",children:"Simpan sebagai Draft"})]})]})]})})]})},jw=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",t),...e})}));jw.displayName="Table";const Ow=g.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",t),...e}));Ow.displayName="TableHeader";const Lw=g.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",t),...e}));Lw.displayName="TableBody";const s8=g.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));s8.displayName="TableFooter";const Oc=g.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Oc.displayName="TableRow";const On=g.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));On.displayName="TableHead";const Ln=g.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ln.displayName="TableCell";const i8=g.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",t),...e}));i8.displayName="TableCaption";const o8=()=>{const{toast:t}=oo(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),[a,l]=g.useState(""),[d,h]=g.useState(""),[p,f]=g.useState({uid:"",email:"",fullName:"",classId:"",role:"student"}),w=async()=>{o(!0);try{const y=ze(Re,"users"),S=lt(y,Rn("name","asc")),M=(await Ze(S)).docs.map(P=>({id:P.id,...P.data()}));n(M);const j=ze(Re,"classes"),C=lt(j,Rn("name","asc")),R=(await Ze(C)).docs.map(P=>({id:P.id,name:P.data().name}));s(R)}catch(y){console.error("Error fetching data:",y),t({title:"Gagal memuat data",variant:"destructive"})}finally{o(!1)}};g.useEffect(()=>{w()},[]);const E=async()=>{if(!p.uid||!p.email||!p.fullName||p.role==="student"&&!p.classId){t({title:"Data tidak lengkap",description:"UID, Email, Nama Lengkap, dan Kelas (untuk siswa) harus diisi.",variant:"destructive"});return}try{const y=rs(Re,"users",p.uid);await d5(y,{name:p.fullName,email:p.email,role:p.role,classId:p.classId,createdAt:new Date}),t({title:"Profil User Berhasil Dibuat!"}),w(),f({uid:"",email:"",fullName:"",classId:"",role:"student"})}catch{t({title:"Gagal membuat profil user",description:"Pastikan UID unik dan belum terdaftar.",variant:"destructive"})}},v=async(y,S)=>{if(window.confirm(`Anda yakin ingin menghapus profil untuk ${S}? Akun login tidak akan terhapus.`))try{await eR(rs(Re,"users",y)),t({title:"Profil User Dihapus",description:`Profil untuk ${S} telah dihapus dari database.`}),w()}catch{t({title:"Gagal Menghapus Profil",variant:"destructive"})}},T=y=>{t({title:"Aksi Manual Diperlukan",description:`Buka Firebase Authentication Console untuk mereset password untuk ${y}.`})},x=e.filter(y=>{var j;const S=((j=r.find(C=>C.id===y.classId))==null?void 0:j.name)||"-",A=!d||d==="Semua Kelas"||S===d,M=!a||y.name.toLowerCase().includes(a.toLowerCase());return A&&M});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Manajemen User"}),u.jsx("p",{className:"text-gray-600",children:"Kelola profil pengguna. Akun login dibuat melalui Firebase Console."})]})]}),u.jsxs("div",{className:"grid gap-6",children:[u.jsxs(ye,{children:[u.jsxs(Ae,{children:[u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(qc,{className:"w-5 h-5"}),"Tambah Profil User Baru"]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Alur: Buat akun login di ",u.jsx("strong",{children:"Firebase Authentication"}),"  Salin UID  Tempel UID di form ini."]})]}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[u.jsx(Xe,{placeholder:"Tempel UID dari Firebase Auth",value:p.uid,onChange:y=>f({...p,uid:y.target.value})}),u.jsx(Xe,{placeholder:"Email Pengguna",value:p.email,onChange:y=>f({...p,email:y.target.value})}),u.jsx(Xe,{placeholder:"Nama Lengkap",value:p.fullName,onChange:y=>f({...p,fullName:y.target.value})}),u.jsxs(kh,{value:p.classId,onValueChange:y=>f({...p,classId:y}),children:[u.jsx(Mc,{children:u.jsx(Dh,{placeholder:"Pilih kelas"})}),u.jsx(jc,{className:"bg-white",children:r.map(y=>u.jsx(to,{value:y.id,children:y.name},y.id))})]}),u.jsx(Ce,{onClick:E,children:"Simpan Profil"})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(iv,{className:"w-5 h-5"}),"Filter User"]})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama"}),u.jsx(Xe,{placeholder:"Cari nama user...",value:a,onChange:y=>l(y.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kelas"}),u.jsxs(kh,{value:d,onValueChange:h,children:[u.jsx(Mc,{children:u.jsx(Dh,{placeholder:"Pilih kelas"})}),u.jsx(jc,{className:"bg-white",children:["Semua Kelas",...r.map(y=>y.name)].map(y=>u.jsx(to,{value:y,children:y},y))})]})]}),u.jsx("div",{className:"flex items-end",children:u.jsx(Ce,{variant:"outline",className:"w-full",onClick:()=>{l(""),h("")},children:"Reset Filter"})})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(qi,{className:"w-5 h-5"}),"Daftar User (",x.length,")"]})}),u.jsx(ve,{children:u.jsx("div",{className:"overflow-x-auto",children:i?u.jsx("p",{className:"text-center",children:"Memuat data..."}):u.jsxs(jw,{children:[u.jsx(Ow,{children:u.jsxs(Oc,{children:[u.jsx(On,{children:"Nama Lengkap"}),u.jsx(On,{children:"Email"}),u.jsx(On,{children:"Kelas"}),u.jsx(On,{children:"Role"}),u.jsx(On,{children:"Aksi"})]})}),u.jsx(Lw,{children:x.map(y=>{var A;const S=((A=r.find(M=>M.id===y.classId))==null?void 0:A.name)||"-";return u.jsxs(Oc,{children:[u.jsx(Ln,{className:"font-medium",children:y.name}),u.jsx(Ln,{children:y.email}),u.jsx(Ln,{children:u.jsx("span",{className:`px-2 py-1 rounded text-xs ${S==="-"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:S})}),u.jsx(Ln,{children:u.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.role==="admin"?"bg-red-100 text-red-800":y.role==="teacher"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:y.role})}),u.jsx(Ln,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>T(y.name),children:"Reset Password"}),u.jsx(Ce,{size:"sm",variant:"destructive",onClick:()=>v(y.id,y.name),children:"Hapus Profil"})]})})]},y.id)})})]})})})]})]})]})]})},a8=()=>{const{toast:t}=oo(),[e,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState({name:"",minJournalWords:"",minReflectionWords:"",minDiaryWords:""}),a=async()=>{s(!0);try{const p=ze(Re,"classes"),f=lt(p,Rn("name","asc")),E=(await Ze(f)).docs.map(S=>({id:S.id,...S.data()})),v=ze(Re,"users"),x=(await Ze(v)).docs.map(S=>S.data()),y=E.map(S=>{const A=x.filter(M=>M.classId===S.id).length;return{...S,students:A}});n(y)}catch(p){console.error("Error fetching data:",p),t({title:"Gagal memuat data",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{a()},[]);const l=async()=>{if(!i.name||!i.minJournalWords||!i.minReflectionWords||!i.minDiaryWords){t({title:"Data tidak lengkap",variant:"destructive"});return}try{const p={name:i.name,minJournalWords:parseInt(i.minJournalWords),minReflectionWords:parseInt(i.minReflectionWords),minDiaryWords:parseInt(i.minDiaryWords)};await kf(ze(Re,"classes"),p),t({title:"Kelas berhasil ditambahkan"}),o({name:"",minJournalWords:"",minReflectionWords:"",minDiaryWords:""}),a()}catch(p){console.error("Error adding class:",p),t({title:"Gagal menambah kelas",variant:"destructive"})}},d=async(p,f,w)=>{if(isNaN(w))return;const E=rs(Re,"classes",p);try{await h5(E,{[f]:w}),n(v=>v.map(T=>T.id===p?{...T,[f]:w}:T)),t({description:"Perubahan disimpan."})}catch(v){console.error("Error updating class:",v),t({title:"Gagal menyimpan perubahan",variant:"destructive"})}},h=async(p,f)=>{try{await eR(rs(Re,"classes",p)),t({title:"Kelas Dihapus",description:`${f} telah dihapus dari sistem.`,variant:"destructive"}),a()}catch(w){console.error("Error deleting class:",w),t({title:"Gagal menghapus kelas",variant:"destructive"})}};return r?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:u.jsx("p",{children:"Memuat data kelas..."})})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Manajemen Kelas"}),u.jsx("p",{className:"text-gray-600",children:"Kelola kelas dan pengaturan minimum kata untuk setiap jenis tulisan"})]})]}),u.jsxs("div",{className:"grid gap-6",children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(qc,{className:"w-5 h-5"}),"Tambah Kelas Baru"]})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Kelas"}),u.jsx(Xe,{placeholder:"Kelas 7",value:i.name,onChange:p=>o({...i,name:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Min. Jurnal"}),u.jsx(Xe,{type:"number",placeholder:"100",value:i.minJournalWords,onChange:p=>o({...i,minJournalWords:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Min. Refleksi"}),u.jsx(Xe,{type:"number",placeholder:"150",value:i.minReflectionWords,onChange:p=>o({...i,minReflectionWords:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Min. Diary"}),u.jsx(Xe,{type:"number",placeholder:"300",value:i.minDiaryWords,onChange:p=>o({...i,minDiaryWords:p.target.value})})]}),u.jsx("div",{className:"flex items-end",children:u.jsx(Ce,{onClick:l,className:"w-full",children:"Tambah Kelas"})})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(iI,{className:"w-5 h-5"}),"Daftar Kelas (",e.length,")"]})}),u.jsx(ve,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(jw,{children:[u.jsx(Ow,{children:u.jsxs(Oc,{children:[u.jsx(On,{children:"Nama Kelas"}),u.jsx(On,{children:"Jumlah Siswa"}),u.jsx(On,{children:"Min. Jurnal (kata)"}),u.jsx(On,{children:"Min. Refleksi (kata)"}),u.jsx(On,{children:"Min. Diary (kata)"}),u.jsx(On,{children:"Aksi"})]})}),u.jsx(Lw,{children:e.map(p=>u.jsxs(Oc,{children:[u.jsx(Ln,{className:"font-medium",children:p.name}),u.jsx(Ln,{children:u.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:[p.students," siswa"]})}),u.jsx(Ln,{children:u.jsx(Xe,{type:"number",defaultValue:p.minJournalWords,onBlur:f=>d(p.id,"minJournalWords",parseInt(f.target.value)),className:"w-20"})}),u.jsx(Ln,{children:u.jsx(Xe,{type:"number",defaultValue:p.minReflectionWords,onBlur:f=>d(p.id,"minReflectionWords",parseInt(f.target.value)),className:"w-20"})}),u.jsx(Ln,{children:u.jsx(Xe,{type:"number",defaultValue:p.minDiaryWords,onBlur:f=>d(p.id,"minDiaryWords",parseInt(f.target.value)),className:"w-20"})}),u.jsx(Ln,{children:u.jsx(Ce,{size:"sm",variant:"destructive",onClick:()=>h(p.id,p.name),children:"Hapus"})})]},p.id))})]})})})]})]})]})]})};function pm({className:t,...e}){return u.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",t),...e})}const l8=()=>{const{toast:t}=oo(),[e,n]=g.useState(!0),[r,s]=g.useState("Semua Kelas"),[i,o]=g.useState(""),[a,l]=g.useState(null),[d,h]=g.useState({totalJournals:0,totalReflections:0,totalDiaries:0,activeStudents:0}),[p,f]=g.useState([]),[w,E]=g.useState([]);g.useEffect(()=>{(async()=>{n(!0);try{const[S,A,M,j,C]=await Promise.all([Ze(lt(ze(Re,"journals"),Rn("createdAt","desc"))),Ze(lt(ze(Re,"reflections"),Rn("createdAt","desc"))),Ze(lt(ze(Re,"diaries"),Rn("createdAt","desc"))),Ze(lt(ze(Re,"users"),kl("role","==","student"))),Ze(ze(Re,"classes"))]),I=C.docs.map($=>({id:$.id,name:$.data().name}));E(I);const R=new Map(I.map($=>[$.id,$.name])),P=S.docs.map($=>({id:$.id,...$.data()})),k=A.docs.map($=>({id:$.id,...$.data()})),D=M.docs.map($=>({id:$.id,...$.data()}));h({totalJournals:S.size,totalReflections:A.size,totalDiaries:M.size,activeStudents:j.size});const N=j.docs.map($=>{const Z=$.data(),q=$.id,se=P.filter(H=>H.authorId===q),L=k.filter(H=>H.authorId===q),V=D.filter(H=>H.authorId===q);return{id:q,name:Z.name,class:R.get(Z.classId)||"Tanpa Kelas",journals:se.length,reflections:L.length,diaries:V.length,journalTitles:se.slice(0,5).map(H=>H.title),diaryTitles:V.slice(0,5).map(H=>H.title)}});f(N)}catch(S){console.error("Error fetching statistics:",S),t({title:"Gagal memuat statistik",variant:"destructive"})}finally{n(!1)}})()},[t]);const v=p.filter(y=>{const S=r==="Semua Kelas"||y.class===r,A=!i||y.name.toLowerCase().includes(i.toLowerCase());return S&&A}),T=y=>{l((a==null?void 0:a.id)===y.id?null:y)},x=()=>u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsx(pm,{className:"h-5 w-3/4"})}),u.jsx(ve,{children:u.jsx(pm,{className:"h-8 w-1/2"})})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(on,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(dt,{to:"/dashboard",children:u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Statistik Siswa"}),u.jsx("p",{className:"text-gray-600",children:"Lihat statistik aktivitas menulis siswa"})]})]}),u.jsxs("div",{className:"grid gap-6",children:[u.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:e?u.jsxs(u.Fragment,{children:[u.jsx(x,{}),u.jsx(x,{}),u.jsx(x,{}),u.jsx(x,{})]}):u.jsxs(u.Fragment,{children:[u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(Gt,{className:"w-5 h-5"}),"Total Jurnal"]})}),u.jsxs(ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:d.totalJournals}),u.jsx("p",{className:"text-sm text-gray-600",children:"Jurnal yang telah ditulis"})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-green-600",children:[u.jsx(Kc,{className:"w-5 h-5"}),"Total Refleksi"]})}),u.jsxs(ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:d.totalReflections}),u.jsx("p",{className:"text-sm text-gray-600",children:"Refleksi yang telah ditulis"})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-purple-600",children:[u.jsx(Gt,{className:"w-5 h-5"}),"Total Diary"]})}),u.jsxs(ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-purple-600",children:d.totalDiaries}),u.jsx("p",{className:"text-sm text-gray-600",children:"Diary yang telah ditulis"})]})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2 text-orange-600",children:[u.jsx(qi,{className:"w-5 h-5"}),"Siswa Aktif"]})}),u.jsxs(ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-orange-600",children:d.activeStudents}),u.jsx("p",{className:"text-sm text-gray-600",children:"Siswa yang terdaftar"})]})]})]})}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(iv,{className:"w-5 h-5"}),"Filter Siswa"]})}),u.jsx(ve,{children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kelas"}),u.jsxs(kh,{value:r,onValueChange:s,children:[u.jsx(Mc,{children:u.jsx(Dh,{placeholder:"Pilih kelas"})}),u.jsxs(jc,{className:"bg-white",children:[u.jsx(to,{value:"Semua Kelas",children:"Semua Kelas"}),w.map(y=>u.jsx(to,{value:y.name,children:y.name},y.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Siswa"}),u.jsx(Xe,{placeholder:"Cari nama siswa...",value:i,onChange:y=>o(y.target.value)})]}),u.jsx("div",{className:"flex items-end",children:u.jsx(Ce,{variant:"outline",className:"w-full",onClick:()=>{o(""),s("Semua Kelas")},children:"Reset Filter"})})]})})]}),u.jsxs(ye,{children:[u.jsx(Ae,{children:u.jsxs(ke,{className:"flex items-center gap-2",children:[u.jsx(nI,{className:"w-5 h-5"}),"Statistik per Siswa (",v.length,")"]})}),u.jsx(ve,{children:u.jsx("div",{className:"space-y-4",children:e?u.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,S)=>u.jsx(pm,{className:"h-20 w-full"},S))}):v.length>0?v.map(y=>u.jsxs("div",{children:[u.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:y.name}),u.jsx("p",{className:"text-gray-600",children:y.class})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.journals}),u.jsx("div",{className:"text-sm text-gray-600",children:"Jurnal"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.reflections}),u.jsx("div",{className:"text-sm text-gray-600",children:"Refleksi"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.diaries}),u.jsx("div",{className:"text-sm text-gray-600",children:"Diary"})]}),u.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>T(y),children:(a==null?void 0:a.id)===y.id?"Tutup":"Detail"})]})]})}),(a==null?void 0:a.id)===y.id&&u.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border-l-4 border-blue-500",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"font-medium text-blue-600 mb-3 flex items-center gap-2",children:[u.jsx(Gt,{className:"w-4 h-4"}),"Judul Jurnal Terbaru"]}),y.journalTitles.length>0?u.jsx("ul",{className:"space-y-2",children:y.journalTitles.map((S,A)=>u.jsx("li",{className:"text-sm text-gray-700 p-2 bg-white rounded border-l-2 border-blue-200",children:S},A))}):u.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada jurnal."})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-medium text-purple-600 mb-3 flex items-center gap-2",children:[u.jsx(Gt,{className:"w-4 h-4"}),"Judul Diary Terbaru"]}),y.diaryTitles.length>0?u.jsx("ul",{className:"space-y-2",children:y.diaryTitles.map((S,A)=>u.jsx("li",{className:"text-sm text-gray-700 p-2 bg-white rounded border-l-2 border-purple-200",children:S},A))}):u.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada diary."})]})]})})]},y.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(qi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Tidak ada siswa yang ditemukan dengan filter ini."})]})})})]})]})]})]})},c8=()=>{const t=lo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},u8=new gL,d8=()=>u.jsx(vL,{client:u8,children:u.jsx(qO,{children:u.jsxs(A9,{children:[u.jsx(HM,{}),u.jsx(_j,{}),u.jsx(fV,{children:u.jsxs(oV,{children:[u.jsx(dn,{path:"/",element:u.jsx(ez,{})}),u.jsx(dn,{path:"/login",element:u.jsx(tz,{})}),u.jsx(dn,{path:"/journal",element:u.jsx(qz,{})}),u.jsx(dn,{path:"/reflection",element:u.jsx(Gz,{})}),u.jsx(dn,{path:"/diary",element:u.jsx(Qz,{})}),u.jsx(dn,{path:"/dashboard",element:u.jsx(Ci,{children:u.jsx(e8,{})})}),u.jsx(dn,{path:"/dashboard/student/journal/create",element:u.jsx(Ci,{requiredRole:"student",children:u.jsx(t8,{})})}),u.jsx(dn,{path:"/dashboard/student/reflection/create",element:u.jsx(Ci,{requiredRole:"student",children:u.jsx(n8,{})})}),u.jsx(dn,{path:"/dashboard/student/diary/create",element:u.jsx(Ci,{requiredRole:"student",children:u.jsx(r8,{})})}),u.jsx(dn,{path:"/dashboard/teacher/users",element:u.jsx(Ci,{requiredRole:"admin",children:u.jsx(o8,{})})}),u.jsx(dn,{path:"/dashboard/teacher/classes",element:u.jsx(Ci,{requiredRole:"admin",children:u.jsx(a8,{})})}),u.jsx(dn,{path:"/dashboard/teacher/statistics",element:u.jsx(Ci,{requiredRole:"admin",children:u.jsx(l8,{})})}),u.jsx(dn,{path:"*",element:u.jsx(c8,{})})]})})]})})});AS(document.getElementById("root")).render(u.jsx(d8,{}));
